var circliful=function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s="./src/index.ts")}({"./src/api.ts":function(t,e,i){"use strict";i.r(e),i.d(e,"Api",(function(){return r}));var s=i("./src/base-classes/circle.ts"),r=function(){function t(t){this.options=t}return t.prototype.update=function(t){var e=this,i=document.getElementById("svg-"+this.options.id);Array.isArray(t)?t.forEach((function(t){return e.updateType(t.type,t.value)})):this.updateType(t.type,t.value),i.innerHTML="",s.default.initializeCircleType(this.options)},t.prototype.updateType=function(t,e){switch(t){case"percent":this.options.percent=Number(e);break;case"point":this.options.point=Boolean(e);break;case"animation":this.options.animation=Boolean(e);break;case"pointSize":this.options.pointSize=Number(e);break;case"animationStep":this.options.animationStep=Number(e);break;case"strokeGradient":this.options.strokeGradient=e;break;case"icon":this.options.icon=String(e);break;case"text":this.options.text=String(e);break;case"textReplacesPercentage":this.options.textReplacesPercentage=Boolean(e);break;case"foregroundCircleWidth":this.options.foregroundCircleWidth=Number(e);break;case"backgroundCircleWidth":this.options.backgroundCircleWidth=Number(e);break;case"additionalCssClasses":this.options.additionalCssClasses=e;break;case"progressColors":console.log("value",e),this.options.progressColors=e}},t.prototype.get=function(t){if(this.options.hasOwnProperty(t))return this.options[t]},t}()},"./src/base-classes/base-circle.ts":function(t,e,i){"use strict";i.r(e),i.d(e,"BaseCircle",(function(){return n}));var s=i("./src/base-classes/svg-tags.ts"),r=function(){return(r=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},n=function(){function t(){this.tags=[]}return t.prototype.animateInView=function(){var t=this;this.options.animateInView&&window.addEventListener("scroll",(function(){t.checkAnimation(t.options.id)}))},t.prototype.checkAnimation=function(t){var e=this,i=document.getElementById(t),s=document.getElementById("arc-"+t),r=this.isElementInViewport(i);!i.classList.contains("reanimated")&&r&&(i.classList.add("reanimated"),setTimeout((function(){return e.animate(s)}),250))},t.prototype.isElementInViewport=function(t){var e=t.offsetTop,i=window.scrollY,s=window.innerHeight;return i<e&&i+s>e},t.prototype.drawContainer=function(t){var e=this.getViewBoxParams(),i=e.minX,n=e.minY,o=e.width,a=e.height,c=s.default.addSvg(r({width:"100%",height:"100%",viewBox:i+" "+n+" "+o+" "+a,id:"svg-"+this.options.id,preserveAspectRatio:"xMinYMin meet"},t));this.tags.push({element:c,parentId:this.options.id})},t.prototype.getViewBoxParams=function(){var t=this.options,e=t.foregroundCircleWidth,i=t.backgroundCircleWidth,s=i;e>i&&(s=e);var r=this.size.width,n=this.size.height;return(e>5||i>5)&&(r=this.size.width+1.5*s,n=this.size.height+1.5*s),{minX:0,minY:0,width:r,height:n}},t.prototype.append=function(){this.tags.forEach((function(t){document.getElementById(t.parentId).appendChild(t.element)}))},t.prototype.initialize=function(t,e){this.options=t,this.size=e},t}()},"./src/base-classes/circle-factory.ts":function(t,e,i){"use strict";i.r(e),i.d(e,"CircleFactory",(function(){return o}));var s=i("./src/circle-type/half-circle.ts"),r=i("./src/circle-type/plain-circle.ts"),n=i("./src/circle-type/simple-circle.ts"),o=function(){function t(){}return t.prototype.create=function(t){switch(t.toLowerCase()){case"half":this.circleClass=new s.default;break;case"plain":this.circleClass=new r.default;break;case"simple":this.circleClass=new n.default;break;default:this.circleClass=new n.default}return this.circleClass},t}()},"./src/base-classes/circle.ts":function(t,e,i){"use strict";i.r(e);var s=i("./src/api.ts"),r=i("./src/base-classes/circle-factory.ts"),n=i("./src/base-classes/options.ts"),o=function(){function t(){}return t.getParentSize=function(t){var e=document.getElementById(t),i=e.clientWidth>0?e.clientWidth:200,s=e.clientHeight>0?e.clientHeight:200;return{maxSize:i>s?s:i,height:s,width:i}},t.initializeCircleType=function(e){var i=t.getParentSize(e.id),s=(new r.CircleFactory).create(e.type),o=(new n.default).mergeOptions(e);return s.initialize(o,i),s.drawCircle(),s},t.prototype.newCircle=function(e){return t.initializeCircleType(e),new s.Api(e)},t}();e.default=o},"./src/base-classes/options.ts":function(t,e,i){"use strict";i.r(e);var s=function(){return(s=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=function(){var t=this;this.defaultOptions={point:!1,pointSize:60,percent:75,foregroundCircleWidth:5,backgroundCircleWidth:15,animation:!0,animationStep:1,noPercentageSign:!1,animateInView:!1,strokeLinecap:"butt",type:"SimpleCircle",textReplacesPercentage:!1},this.mergeOptions=function(e){return s(s({},t.defaultOptions),e)}};e.default=r},"./src/base-classes/svg-tags.ts":function(t,e,i){"use strict";i.r(e);var s=i("./src/helpers/object-helper.ts"),r=i("./src/helpers/svg-tags-helper.ts"),n=function(){function t(){}return t.addSvg=function(e){var i=document.createElementNS(t.namespaceURI,"svg");return e.class="circle-container "+s.default.extractPropertyFromObject(e,"class"),r.default.setAttributes(i,e),i},t.addCircle=function(e){var i=document.createElementNS(t.namespaceURI,"circle");return r.default.setAttributes(i,e),i},t.addArc=function(e){var i=document.createElementNS(t.namespaceURI,"path");return r.default.setAttributes(i,e),i},t.addText=function(e){var i=document.createElementNS(t.namespaceURI,"text");return i.setAttributeNS(null,"text-anchor","middle"),r.default.setAttributes(i,e),i},t.addDefs=function(e){var i=document.createElementNS(t.namespaceURI,"defs"),s=document.createElementNS(t.namespaceURI,"linearGradient");r.default.setAttributes(s,{id:"linearGradient"});var n=document.createElementNS(t.namespaceURI,"stop"),o={offset:"0","stop-color":e.gradientStart};r.default.setAttributes(n,o);var a=document.createElementNS(t.namespaceURI,"stop"),c={offset:"1","stop-color":e.gradientEnd};return r.default.setAttributes(a,c),s.appendChild(n),s.appendChild(a),i.appendChild(s),i},t.namespaceURI="http://www.w3.org/2000/svg",t}();e.default=n},"./src/circle-type/half-circle.ts":function(t,e,i){"use strict";i.r(e);var s,r=i("./src/base-classes/svg-tags.ts"),n=i("./src/helpers/object-helper.ts"),o=i("./src/helpers/style-helper.ts"),a=i("./src/helpers/svg-tags-helper.ts"),c=i("./src/circle-type/simple-circle.ts"),l=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.drawCircle=function(){var t={class:n.default.extractPropertyFromObject(this.additionalCssClasses,"svgContainer")};this.drawContainer(t),this.drawBackgroundCircle(),this.drawForegroundCircle(),this.drawText(),this.append()},e.prototype.drawBackgroundCircle=function(){var t=n.default.extractPropertyFromObject(this.additionalCssClasses,"backgroundCircle"),e=r.default.addArc({id:"bg-arc-"+this.options.id,d:a.default.describeArc(this.coordinates.x,this.coordinates.y,this.radius,270,90),class:"background-circle "+t,"stroke-width":this.options.backgroundCircleWidth});this.tags.push({element:e,parentId:"svg-"+this.options.id})},e.prototype.drawForegroundCircle=function(){var t=1.8*this.options.percent,e=n.default.extractPropertyFromObject(this.additionalCssClasses,"foregroundCircle"),i=r.default.addArc({id:"arc-"+this.options.id,class:"foreground-circle "+e,d:a.default.describeArc(this.coordinates.x,this.coordinates.y,this.radius,0,t),transform:"rotate(-90, "+this.coordinates.x+", "+this.coordinates.y+")","stroke-width":this.options.foregroundCircleWidth});this.options.animation&&this.animate(i),this.tags.push({element:i,parentId:"svg-"+this.options.id})},e.prototype.animate=function(t){o.StyleHelper.animateArc({arc:t,arcParams:{percent:this.options.percent,x:this.coordinates.x,y:this.coordinates.y,radius:this.radius,endAngleGrade:180},animationStep:this.options.animationStep,progressColors:this.options.progressColors},this.options.onAnimationEnd)},e}(c.default);e.default=d},"./src/circle-type/plain-circle.ts":function(t,e,i){"use strict";i.r(e);var s,r=i("./src/base-classes/base-circle.ts"),n=i("./src/base-classes/svg-tags.ts"),o=i("./src/helpers/object-helper.ts"),a=i("./src/helpers/style-helper.ts"),c=i("./src/helpers/svg-tags-helper.ts"),l=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coordinates={x:0,y:0},e.additionalCssClasses={},e}return l(e,t),e.prototype.initialize=function(e,i){t.prototype.initialize.call(this,e,i);var s=this.size.maxSize;this.coordinates={x:s/2,y:s/2},this.radius=s/2.2,this.options.additionalCssClasses&&(this.additionalCssClasses=this.options.additionalCssClasses),this.animateInView()},e.prototype.drawCircle=function(){this.drawContainer(),this.drawPlainCircle(),this.append()},e.prototype.drawPlainCircle=function(){var t=3.6*this.options.percent,e=o.default.extractPropertyFromObject(this.additionalCssClasses,"foregroundCircle"),i=n.default.addArc({id:"arc-"+this.options.id,class:"foreground-circle "+e,d:c.default.describeArc(this.coordinates.x,this.coordinates.y,this.radius,0,t),"stroke-width":this.options.foregroundCircleWidth});this.options.animation&&this.animate(i),this.tags.push({element:i,parentId:"svg-"+this.options.id})},e.prototype.animate=function(t){a.StyleHelper.animateArc({arc:t,arcParams:{percent:this.options.percent,x:this.coordinates.x,y:this.coordinates.y,radius:this.radius},animationStep:this.options.animationStep,progressColors:this.options.progressColors},this.options.onAnimationEnd)},e}(r.BaseCircle);e.default=d},"./src/circle-type/simple-circle.ts":function(t,e,i){"use strict";i.r(e);var s,r=i("./src/base-classes/base-circle.ts"),n=i("./src/base-classes/svg-tags.ts"),o=i("./src/helpers/object-helper.ts"),a=i("./src/helpers/style-helper.ts"),c=i("./src/helpers/svg-tags-helper.ts"),l=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coordinates={x:0,y:0},e.additionalCssClasses={},e}return l(e,t),e.prototype.initialize=function(e,i){t.prototype.initialize.call(this,e,i);var s=this.size.maxSize;this.coordinates={x:s/2,y:s/2},this.radius=s/2.2,this.options.additionalCssClasses&&(this.additionalCssClasses=this.options.additionalCssClasses),this.animateInView()},e.prototype.drawCircle=function(){var t={class:o.default.extractPropertyFromObject(this.additionalCssClasses,"svgContainer")};this.drawContainer(t),this.options.strokeGradient&&this.drawLinearGradient(),this.drawBackgroundCircle(),this.drawForegroundCircle(),this.options.point&&this.drawPoint(),this.options.icon&&this.drawIcon(),this.drawText(),!this.options.textReplacesPercentage&&this.options.text&&this.drawInfoText(),this.append()},e.prototype.drawBackgroundCircle=function(){var t=o.default.extractPropertyFromObject(this.additionalCssClasses,"backgroundCircle"),e=n.default.addCircle({id:"circle-"+this.options.id,class:"background-circle "+t,cx:String(this.coordinates.x),cy:String(this.coordinates.y),r:String(this.radius),"stroke-width":this.options.backgroundCircleWidth});this.tags.push({element:e,parentId:"svg-"+this.options.id})},e.prototype.drawPoint=function(){var t=this.radius/100*this.options.pointSize,e=o.default.extractPropertyFromObject(this.additionalCssClasses,"point"),i=n.default.addCircle({id:"point-"+this.options.id,class:"point-circle "+e,cx:String(this.coordinates.x),cy:String(this.coordinates.y),r:String(t)});this.tags.push({element:i,parentId:"svg-"+this.options.id})},e.prototype.drawForegroundCircle=function(){var t=3.6*this.options.percent,e=o.default.extractPropertyFromObject(this.additionalCssClasses,"foregroundCircle"),i={id:"arc-"+this.options.id,class:"foreground-circle "+e,d:c.default.describeArc(this.coordinates.x,this.coordinates.y,this.radius,0,t),"stroke-width":this.options.foregroundCircleWidth,"stroke-linecap":this.options.strokeLinecap};this.options.strokeGradient&&(i.stroke="url(#linearGradient)",i.class="foreground-circle-without-stroke-color "+e);var s=n.default.addArc(i);this.options.animation&&this.animate(s),this.tags.push({element:s,parentId:"svg-"+this.options.id})},e.prototype.animate=function(t,e){a.StyleHelper.animateArc({arc:t,arcParams:{percent:e||this.options.percent,x:this.coordinates.x,y:this.coordinates.y,radius:this.radius},animationStep:this.options.animationStep,progressColors:this.options.progressColors},this.options.onAnimationEnd)},e.prototype.drawIcon=function(){var t=this.options.icon,e=o.default.extractPropertyFromObject(this.additionalCssClasses,"icon"),i=n.default.addText({id:"text-"+this.options.id,x:String(this.coordinates.x),y:String(this.coordinates.y-25),class:"circle-icon fa "+e});i.innerHTML="&#x"+t+";",this.tags.push({element:i,parentId:"svg-"+this.options.id})},e.prototype.drawText=function(){var t=o.default.extractPropertyFromObject(this.additionalCssClasses,"text"),e=n.default.addText({id:"text-"+this.options.id,x:String(this.coordinates.x),y:String(this.coordinates.y),class:"circle-text "+t}),i=this.options.noPercentageSign?"":"%",s=""+this.options.percent+i;this.options.textReplacesPercentage&&this.options.text&&(s=this.options.text),e.textContent=s,this.tags.push({element:e,parentId:"svg-"+this.options.id})},e.prototype.drawInfoText=function(){var t=o.default.extractPropertyFromObject(this.additionalCssClasses,"infoText"),e=n.default.addText({id:"text-"+this.options.id,x:String(this.coordinates.x),y:String(this.coordinates.y+20),class:"circle-info-text "+t});e.textContent=this.options.text,this.tags.push({element:e,parentId:"svg-"+this.options.id})},e.prototype.drawLinearGradient=function(){var t={};t.gradientStart=this.options.strokeGradient[0],t.gradientEnd=this.options.strokeGradient[1];var e=n.default.addDefs(t);this.tags.push({element:e,parentId:"svg-"+this.options.id})},e}(r.BaseCircle);e.default=d},"./src/helpers/object-helper.ts":function(t,e,i){"use strict";i.r(e);var s=function(){function t(){}return t.extractPropertyFromObject=function(t,e){var i="";return t.hasOwnProperty(e)&&t[e]&&(i=t[e]),i},t}();e.default=s},"./src/helpers/style-helper.ts":function(t,e,i){"use strict";i.r(e),i.d(e,"StyleHelper",(function(){return r}));var s=i("./src/helpers/svg-tags-helper.ts"),r=function(){function t(){}return t.animateArc=function(e,i){var r=e.arc,n=e.arcParams,o=e.animationStep,a=e.progressColors,c=n.startAngle?n.startAngle:0,l=n.endAngleGrade?n.endAngleGrade:360,d=this.getMilliseconds(n.ms,n.endAngleGrade),p=Array.isArray(a)&&a.length>0,u=1,h=setInterval((function(e,r,a){var d=l/100*u;s.default.setAttributes(e,{d:s.default.describeArc(n.x,n.y,n.radius,c,d)}),p&&t.updateCircleColor(u,e,a),(u+=o)>r&&(clearInterval(h),"function"==typeof i&&i())}),d,r,n.percent,a)},t.updateCircleColor=function(t,e,i){var r=i.find((function(e){return e.percent===t}));r&&s.default.setAttributes(e,{style:"stroke: "+r.color})},t.getMilliseconds=function(t,e){var i=t||50;return e<=180&&(i/=3),i},t}()},"./src/helpers/svg-tags-helper.ts":function(t,e,i){"use strict";i.r(e);var s=function(){function t(){}return t.setAttributes=function(t,e){for(var i=0,s=Object.entries(e);i<s.length;i++){var r=s[i],n=r[0],o=r[1];t.setAttribute(n,o)}},t.setAttributeNamespace=function(t,e){for(var i=0,s=Object.entries(e);i<s.length;i++){var r=s[i],n=r[0],o=r[1];t.setAttributeNS(null,n,o)}},t.polarToCartesian=function(t,e,i,s){var r=(s-90)*Math.PI/180;return{x:t+i*Math.cos(r),y:e+i*Math.sin(r)}},t.describeArc=function(e,i,s,r,n){var o=t.polarToCartesian(e,i,s,n),a=t.polarToCartesian(e,i,s,r),c=n-r<=180?"0":"1";return["M",o.x,o.y,"A",s,s,0,c,0,a.x,a.y].join(" ")},t}();e.default=s},"./src/index.ts":function(t,e,i){"use strict";i.r(e),i.d(e,"newCircle",(function(){return r}));i("./styles/main.scss");var s=i("./src/base-classes/circle.ts");function r(t){return(new s.default).newCircle(t)}},"./styles/main.scss":function(t,e,i){}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaXJjbGlmdWwvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2FwaS50cyIsIndlYnBhY2s6Ly9jaXJjbGlmdWwvLi9zcmMvYmFzZS1jbGFzc2VzL2Jhc2UtY2lyY2xlLnRzIiwid2VicGFjazovL2NpcmNsaWZ1bC8uL3NyYy9iYXNlLWNsYXNzZXMvY2lyY2xlLWZhY3RvcnkudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2Jhc2UtY2xhc3Nlcy9jaXJjbGUudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2Jhc2UtY2xhc3Nlcy9vcHRpb25zLnRzIiwid2VicGFjazovL2NpcmNsaWZ1bC8uL3NyYy9iYXNlLWNsYXNzZXMvc3ZnLXRhZ3MudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2NpcmNsZS10eXBlL2hhbGYtY2lyY2xlLnRzIiwid2VicGFjazovL2NpcmNsaWZ1bC8uL3NyYy9jaXJjbGUtdHlwZS9wbGFpbi1jaXJjbGUudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2NpcmNsZS10eXBlL3NpbXBsZS1jaXJjbGUudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2hlbHBlcnMvb2JqZWN0LWhlbHBlci50cyIsIndlYnBhY2s6Ly9jaXJjbGlmdWwvLi9zcmMvaGVscGVycy9zdHlsZS1oZWxwZXIudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2hlbHBlcnMvc3ZnLXRhZ3MtaGVscGVyLnRzIiwid2VicGFjazovL2NpcmNsaWZ1bC8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIm9wdGlvbnMiLCJ0aGlzIiwidXBkYXRlIiwicGFyYW1ldGVyIiwiZWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpZCIsIkFycmF5IiwiaXNBcnJheSIsImZvckVhY2giLCJ1cGRhdGVUeXBlIiwidHlwZSIsImlubmVySFRNTCIsImluaXRpYWxpemVDaXJjbGVUeXBlIiwicGVyY2VudCIsIk51bWJlciIsInBvaW50IiwiQm9vbGVhbiIsImFuaW1hdGlvbiIsInBvaW50U2l6ZSIsImFuaW1hdGlvblN0ZXAiLCJzdHJva2VHcmFkaWVudCIsImljb24iLCJTdHJpbmciLCJ0ZXh0IiwidGV4dFJlcGxhY2VzUGVyY2VudGFnZSIsImZvcmVncm91bmRDaXJjbGVXaWR0aCIsImJhY2tncm91bmRDaXJjbGVXaWR0aCIsImFkZGl0aW9uYWxDc3NDbGFzc2VzIiwiY29uc29sZSIsImxvZyIsInByb2dyZXNzQ29sb3JzIiwidGFncyIsImFuaW1hdGVJblZpZXciLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiY2hlY2tBbmltYXRpb24iLCJzdmdQYXJlbnRJZCIsImNpcmNsZUNvbnRhaW5lciIsImZvcmVncm91bmRDaXJjbGUiLCJpblZpZXciLCJpc0VsZW1lbnRJblZpZXdwb3J0IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJhZGQiLCJzZXRUaW1lb3V0IiwiYW5pbWF0ZSIsIm9mZnNldFRvcCIsInNjcm9sbFBvc2l0aW9uVG9wIiwic2Nyb2xsWSIsIndpbmRvd0hlaWdodCIsImlubmVySGVpZ2h0IiwiZHJhd0NvbnRhaW5lciIsImFkZGl0aW9uYWxBdHRyaWJ1dGVzIiwibWluWCIsIm1pblkiLCJ3aWR0aCIsImhlaWdodCIsImNvbnRhaW5lciIsImFkZFN2ZyIsInZpZXdCb3giLCJwcmVzZXJ2ZUFzcGVjdFJhdGlvIiwicHVzaCIsInBhcmVudElkIiwiZ2V0Vmlld0JveFBhcmFtcyIsImNpcmNsZVdpZHRoIiwic2l6ZSIsImFwcGVuZCIsInRhZyIsImFwcGVuZENoaWxkIiwiaW5pdGlhbGl6ZSIsInRvTG93ZXJDYXNlIiwiY2lyY2xlQ2xhc3MiLCJnZXRQYXJlbnRTaXplIiwiYm94IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJtYXhTaXplIiwiQ2lyY2xlIiwiY2lyY2xlIiwibWVyZ2VkT3B0aW9ucyIsIm1lcmdlT3B0aW9ucyIsImRyYXdDaXJjbGUiLCJuZXdDaXJjbGUiLCJkZWZhdWx0T3B0aW9ucyIsIm5vUGVyY2VudGFnZVNpZ24iLCJzdHJva2VMaW5lY2FwIiwiYXR0cmlidXRlcyIsInN2ZyIsImNyZWF0ZUVsZW1lbnROUyIsIlN2Z1RhZ3MiLCJuYW1lc3BhY2VVUkkiLCJjbGFzcyIsImV4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QiLCJzZXRBdHRyaWJ1dGVzIiwiYWRkQ2lyY2xlIiwiYWRkQXJjIiwiYXJjIiwiYWRkVGV4dCIsInNldEF0dHJpYnV0ZU5TIiwiYWRkRGVmcyIsImRlZnMiLCJsaW5lYXJHcmFkaWVudCIsImZpcnN0U3RvcCIsImZpcnN0U3RvcEF0dHJpYnV0ZXMiLCJncmFkaWVudFN0YXJ0Iiwic2Vjb25kU3RvcCIsInNlY29uZFN0b3BBdHRyaWJ1dGVzIiwiZ3JhZGllbnRFbmQiLCJhZGRpdGlvbmFsQ29udGFpbmVyQXR0cmlidXRlcyIsImRyYXdCYWNrZ3JvdW5kQ2lyY2xlIiwiZHJhd0ZvcmVncm91bmRDaXJjbGUiLCJkcmF3VGV4dCIsImN1c3RvbUNzc0NsYXNzIiwiZGVzY3JpYmVBcmMiLCJjb29yZGluYXRlcyIsIngiLCJ5IiwicmFkaXVzIiwiZW5kQW5nbGUiLCJhbmltYXRlQXJjIiwiYXJjUGFyYW1zIiwiZW5kQW5nbGVHcmFkZSIsIm9uQW5pbWF0aW9uRW5kIiwiZHJhd1BsYWluQ2lyY2xlIiwiZHJhd0xpbmVhckdyYWRpZW50IiwiZHJhd1BvaW50IiwiZHJhd0ljb24iLCJkcmF3SW5mb1RleHQiLCJjeCIsImN5Iiwic3Ryb2tlIiwidXBkYXRlZFBlcmNlbnQiLCJwZXJjZW50YWdlU2lnbiIsImNvbnRlbnQiLCJ0ZXh0Q29udGVudCIsInBhcmFtcyIsImNhbGxiYWNrIiwic3RhcnRBbmdsZSIsIm1zIiwiZ2V0TWlsbGlzZWNvbmRzIiwiaGFzUHJvZ3Jlc3NDb2xvciIsImxlbmd0aCIsImNvdW50IiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsIlN0eWxlSGVscGVyIiwidXBkYXRlQ2lyY2xlQ29sb3IiLCJjbGVhckludGVydmFsIiwiYWN0dWFsQ291bnQiLCJwcm9ncmVzc0NvbG9yIiwiZmluZCIsInByb2dyZXNzIiwic3R5bGUiLCJjb2xvciIsImRlZmF1bHRNcyIsImVudHJpZXMiLCJzZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGVOYW1lc3BhY2UiLCJwb2xhclRvQ2FydGVzaWFuIiwiY2VudGVyWCIsImNlbnRlclkiLCJhbmdsZUluRGVncmVlcyIsImFuZ2xlSW5SYWRpYW5zIiwiTWF0aCIsIlBJIiwiY29zIiwic2luIiwic3RhcnQiLCJTdmdUYWdzSGVscGVyIiwiZW5kIiwibGFyZ2VBcmNGbGFnIiwiam9pbiJdLCJtYXBwaW5ncyI6IjBCQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQTBEZixPQXJEQUYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFH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LEdBQ2hGLElBQU1pRCxFQUFRQyxFQUFjVixpQkFBaUIzQyxFQUFHQyxFQUFHQyxFQUFRQyxHQUNyRG1ELEVBQU1ELEVBQWNWLGlCQUFpQjNDLEVBQUdDLEVBQUdDLEVBQVFvQixHQUNuRGlDLEVBQWVwRCxFQUFXbUIsR0FBYyxJQUFNLElBQU0sSUFFMUQsTUFBTyxDQUNILElBQUs4QixFQUFNcEQsRUFBR29ELEVBQU1uRCxFQUNwQixJQUFLQyxFQUFRQSxFQUFRLEVBQUdxRCxFQUFjLEVBQUdELEVBQUl0RCxFQUFHc0QsRUFBSXJELEdBQ3REdUQsS0FBSyxNQUVmLEVBbEVBLEdBb0VlLGEsOENDdkVmLGlIQVFPLFNBQVN6RixFQUFVcEYsR0FFdEIsT0FEZSxJQUFJLFdBQ0xvRixVQUFVcEYsSyIsImZpbGUiOiJjaXJjbGlmdWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9kaXN0L1wiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NyYy9pbmRleC50c1wiKTtcbiIsImltcG9ydCBDaXJjbGUgZnJvbSBcIi4vYmFzZS1jbGFzc2VzL2NpcmNsZVwiO1xuaW1wb3J0IHtJQXZhaWxhYmxlT3B0aW9uc30gZnJvbSBcIi4vaW50ZXJmYWNlcy9pYXZhaWxhYmxlLW9wdGlvbnNcIjtcbmltcG9ydCB7SVR5cGV9IGZyb20gXCIuL2ludGVyZmFjZXMvaXR5cGVcIjtcblxuZXhwb3J0IGNsYXNzIEFwaSB7XG4gICAgcHVibGljIHJlYWRvbmx5IG9wdGlvbnM6IElBdmFpbGFibGVPcHRpb25zO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogSUF2YWlsYWJsZU9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlKHBhcmFtZXRlcjogSVR5cGUgfCBJVHlwZVtdKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWApO1xuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcmFtZXRlcikpIHtcbiAgICAgICAgICAgIHBhcmFtZXRlci5mb3JFYWNoKChwKSA9PiB0aGlzLnVwZGF0ZVR5cGUocC50eXBlLCBwLnZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVR5cGUocGFyYW1ldGVyLnR5cGUsIHBhcmFtZXRlci52YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIENpcmNsZS5pbml0aWFsaXplQ2lyY2xlVHlwZSh0aGlzLm9wdGlvbnMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlVHlwZSh0eXBlOiBzdHJpbmcsIHZhbHVlOiBJVHlwZVtcInZhbHVlXCJdKTogdm9pZCB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcInBlcmNlbnRcIjpcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMucGVyY2VudCA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicG9pbnRcIjpcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMucG9pbnQgPSBCb29sZWFuKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJhbmltYXRpb25cIjpcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uID0gQm9vbGVhbih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicG9pbnRTaXplXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnBvaW50U2l6ZSA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYW5pbWF0aW9uU3RlcFwiOlxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5hbmltYXRpb25TdGVwID0gTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzdHJva2VHcmFkaWVudFwiOlxuICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zdHJva2VHcmFkaWVudCA9IHZhbHVlIGFzIGFueTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJpY29uXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmljb24gPSBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMudGV4dCA9IFN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwidGV4dFJlcGxhY2VzUGVyY2VudGFnZVwiOlxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy50ZXh0UmVwbGFjZXNQZXJjZW50YWdlID0gQm9vbGVhbih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZm9yZWdyb3VuZENpcmNsZVdpZHRoXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmZvcmVncm91bmRDaXJjbGVXaWR0aCA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYmFja2dyb3VuZENpcmNsZVdpZHRoXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmJhY2tncm91bmRDaXJjbGVXaWR0aCA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYWRkaXRpb25hbENzc0NsYXNzZXNcIjpcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuYWRkaXRpb25hbENzc0NsYXNzZXMgPSB2YWx1ZSBhcyBhbnk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicHJvZ3Jlc3NDb2xvcnNcIjpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInZhbHVlXCIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMucHJvZ3Jlc3NDb2xvcnMgPSB2YWx1ZSBhcyBhbnk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0KHR5cGU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmhhc093blByb3BlcnR5KHR5cGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zW3R5cGVdO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtJQXZhaWxhYmxlT3B0aW9uc30gZnJvbSBcIi4uL2ludGVyZmFjZXMvaWF2YWlsYWJsZS1vcHRpb25zXCI7XG5pbXBvcnQge0lTaXplfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9pc2l6ZVwiO1xuaW1wb3J0IHtJVGFnfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9pdGFnXCI7XG5pbXBvcnQge0lWaWV3Qm94QXR0cmlidXRlc30gZnJvbSBcIi4uL2ludGVyZmFjZXMvaXZpZXctYm94LWF0dHJpYnV0ZXNcIjtcbmltcG9ydCBTdmdUYWdzIGZyb20gXCIuL3N2Zy10YWdzXCI7XG5cbi8qKlxuICogQmFzZSBmb3IgY2lyY2xlIHR5cGUgaW1wbGVtZW50YXRpb25zXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlQ2lyY2xlIHtcbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gT3B0aW9ucyBvYmplY3Qgc2Vjb25kIGFyZ3VtZW50IGZvciBpbml0Q2lyY2xlIG1ldGhvZFxuICAgICAqL1xuICAgIHB1YmxpYyBvcHRpb25zOiBJQXZhaWxhYmxlT3B0aW9ucztcbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gU2l6ZSBvZiBzdXJyb3VuZGluZyB0YWcgZm9yIHN2ZyB0YWdcbiAgICAgKi9cbiAgICBwdWJsaWMgc2l6ZTogSVNpemU7XG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEFycmF5IG9mIGFsbCB0YWdzIHRoYXQgbmVlZHMgdG8gYmUgYXBwZW5kZWQgdG8gdGhlIGRvbVxuICAgICAqL1xuICAgIHB1YmxpYyB0YWdzOiBJVGFnW10gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBGaXJlcyBzY3JvbGwgZXZlbnQgaWYgYW5pbWF0ZUluVmlldyBpcyBzZXQgdG8gdHJ1ZSBhbmQgcnVucyBjaGVja0FuaW1hdGlvblxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhbmltYXRlSW5WaWV3KCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFuaW1hdGVJblZpZXcpIHtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrQW5pbWF0aW9uKHRoaXMub3B0aW9ucy5pZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBXaGVuIGNpcmNsZSBpcyBpbiB2aWV3IHBvcnQgaXQgYW5pbWF0ZXMgdGhlIGZvcmVncm91bmQgY2lyY2xlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGNoZWNrQW5pbWF0aW9uKHN2Z1BhcmVudElkOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgY2lyY2xlQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3ZnUGFyZW50SWQpO1xuICAgICAgICBjb25zdCBmb3JlZ3JvdW5kQ2lyY2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGFyYy0ke3N2Z1BhcmVudElkfWApO1xuICAgICAgICBjb25zdCBpblZpZXcgPSB0aGlzLmlzRWxlbWVudEluVmlld3BvcnQoY2lyY2xlQ29udGFpbmVyKTtcblxuICAgICAgICBpZiAoIWNpcmNsZUNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoXCJyZWFuaW1hdGVkXCIpICYmIGluVmlldykge1xuICAgICAgICAgICAgY2lyY2xlQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJyZWFuaW1hdGVkXCIpO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmFuaW1hdGUoZm9yZWdyb3VuZENpcmNsZSBhcyBFbGVtZW50KSwgMjUwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBDYWxjdWxhdGVzIGlmIHRoZSBjaXJjbGUgaXMgaW4gdmlld3BvcnRcbiAgICAgKiBAcGFyYW0gY2lyY2xlQ29udGFpbmVyXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGlzRWxlbWVudEluVmlld3BvcnQoY2lyY2xlQ29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgICAgICBjb25zdCBvZmZzZXRUb3AgPSBjaXJjbGVDb250YWluZXIub2Zmc2V0VG9wO1xuICAgICAgICBjb25zdCBzY3JvbGxQb3NpdGlvblRvcCA9IHdpbmRvdy5zY3JvbGxZO1xuICAgICAgICBjb25zdCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICAgICAgcmV0dXJuIHNjcm9sbFBvc2l0aW9uVG9wIDwgb2Zmc2V0VG9wICYmICBzY3JvbGxQb3NpdGlvblRvcCArIHdpbmRvd0hlaWdodCA+IG9mZnNldFRvcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gR2V0cyBjYWxsZWQgaW4gdGhlIGNpcmNsZSBjbGFzcyB0byBkcmF3IHRoZSBjaXJjbGUgd2l0aCBhbGwgaXRzIGNoaWxkIGVsZW1lbnRzLCB0aGUgbWV0aG9kc1xuICAgICAqIGRyYXdDb250YWluZXIgYW5kIGFwcGVuZCBtdXN0IGJlIGFsd2F5cyBjYWxsZWQgaW4gb3duIGltcGxlbWVudGF0aW9ucyBpZiB5b3UgZG9udCBpbXBsZW1lbnQgb3duIGxvZ2ljIGZvciB0aGVtXG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IGRyYXdDaXJjbGUoKTogdm9pZDtcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSBlbGVtZW50XG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGFuaW1hdGUoZWxlbWVudDogRWxlbWVudCk6IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gRHJhd3MgdGhlIHN2ZyB0YWdcbiAgICAgKiBAcGFyYW0gYWRkaXRpb25hbEF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd0NvbnRhaW5lcihhZGRpdGlvbmFsQXR0cmlidXRlcz86IG9iamVjdCkge1xuICAgICAgICBjb25zdCB7bWluWCwgbWluWSwgd2lkdGgsIGhlaWdodH0gPSB0aGlzLmdldFZpZXdCb3hQYXJhbXMoKTtcblxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBTdmdUYWdzLmFkZFN2Zyh7XG4gICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICAgICAgdmlld0JveDogYCR7bWluWH0gJHttaW5ZfSAke3dpZHRofSAke2hlaWdodH1gLFxuICAgICAgICAgICAgaWQ6IGBzdmctJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IFwieE1pbllNaW4gbWVldFwiLFxuICAgICAgICAgICAgLi4uYWRkaXRpb25hbEF0dHJpYnV0ZXMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGNvbnRhaW5lcixcbiAgICAgICAgICAgIHBhcmVudElkOiB0aGlzLm9wdGlvbnMuaWQsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBHZXQgdmlld0JveCBwYXJhbWV0ZXJzLCByZXNpemUgdGhlIHZpZXcgaWYgdGhlIGJvcmRlciB3b3VsZCBvdmVyZmxvd1xuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0Vmlld0JveFBhcmFtcygpOiBJVmlld0JveEF0dHJpYnV0ZXMge1xuICAgICAgICBjb25zdCB7Zm9yZWdyb3VuZENpcmNsZVdpZHRoLCBiYWNrZ3JvdW5kQ2lyY2xlV2lkdGh9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBsZXQgY2lyY2xlV2lkdGggPSBiYWNrZ3JvdW5kQ2lyY2xlV2lkdGg7XG4gICAgICAgIC8vIEdldCB0aGlja2VyIGNpcmNsZSBzdHJva2Ugd2lkdGgsIGZvcmVncm91bmQgb3IgYmFja2dyb3VuZFxuICAgICAgICBpZiAoZm9yZWdyb3VuZENpcmNsZVdpZHRoID4gYmFja2dyb3VuZENpcmNsZVdpZHRoKSB7XG4gICAgICAgICAgICBjaXJjbGVXaWR0aCA9IGZvcmVncm91bmRDaXJjbGVXaWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1pblggPSAwO1xuICAgICAgICBjb25zdCBtaW5ZID0gMDtcbiAgICAgICAgbGV0IHdpZHRoID0gdGhpcy5zaXplLndpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gdGhpcy5zaXplLmhlaWdodDtcbiAgICAgICAgaWYgKGZvcmVncm91bmRDaXJjbGVXaWR0aCA+IDUgfHwgYmFja2dyb3VuZENpcmNsZVdpZHRoID4gNSkge1xuICAgICAgICAgICAgd2lkdGggPSB0aGlzLnNpemUud2lkdGggKyAoMS41ICogY2lyY2xlV2lkdGgpO1xuICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5zaXplLmhlaWdodCArICgxLjUgKiBjaXJjbGVXaWR0aCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge21pblgsIG1pblksIHdpZHRoLCBoZWlnaHR9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBBcHBlbmRzIHRoZSB0YWdzIHRvIHRoZSBkb21cbiAgICAgKi9cbiAgICBwdWJsaWMgYXBwZW5kKCkge1xuICAgICAgICB0aGlzLnRhZ3MuZm9yRWFjaCgodGFnKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YWcucGFyZW50SWQpO1xuICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHRhZy5lbGVtZW50IGFzIE5vZGUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gSW5pdGlhbGl6ZSBiYXNpYyB2YWx1ZXMgZm9yIGNpcmNsZVxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIHNpemVcbiAgICAgKi9cbiAgICBwdWJsaWMgaW5pdGlhbGl6ZShvcHRpb25zOiBJQXZhaWxhYmxlT3B0aW9ucywgc2l6ZTogSVNpemUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgSGFsZkNpcmNsZSBmcm9tIFwiLi4vY2lyY2xlLXR5cGUvaGFsZi1jaXJjbGVcIjtcbmltcG9ydCBQbGFpbkNpcmNsZSBmcm9tIFwiLi4vY2lyY2xlLXR5cGUvcGxhaW4tY2lyY2xlXCI7XG5pbXBvcnQgU2ltcGxlQ2lyY2xlIGZyb20gXCIuLi9jaXJjbGUtdHlwZS9zaW1wbGUtY2lyY2xlXCI7XG5pbXBvcnQge0Jhc2VDaXJjbGV9IGZyb20gXCIuL2Jhc2UtY2lyY2xlXCI7XG5cbmV4cG9ydCBjbGFzcyBDaXJjbGVGYWN0b3J5IHtcbiAgICBwcml2YXRlIGNpcmNsZUNsYXNzOiBCYXNlQ2lyY2xlO1xuXG4gICAgcHVibGljIGNyZWF0ZSh0eXBlOiBzdHJpbmcpOiBCYXNlQ2lyY2xlIHtcbiAgICAgICAgc3dpdGNoICh0eXBlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJoYWxmXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5jaXJjbGVDbGFzcyA9IG5ldyBIYWxmQ2lyY2xlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicGxhaW5cIjpcbiAgICAgICAgICAgICAgICB0aGlzLmNpcmNsZUNsYXNzID0gbmV3IFBsYWluQ2lyY2xlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic2ltcGxlXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5jaXJjbGVDbGFzcyA9IG5ldyBTaW1wbGVDaXJjbGUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5jaXJjbGVDbGFzcyA9IG5ldyBTaW1wbGVDaXJjbGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNpcmNsZUNsYXNzO1xuICAgIH1cbn1cbiIsImltcG9ydCB7QXBpfSBmcm9tIFwiLi4vYXBpXCI7XG5pbXBvcnQge0lBdmFpbGFibGVPcHRpb25zfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9pYXZhaWxhYmxlLW9wdGlvbnNcIjtcbmltcG9ydCB7Q2lyY2xlRmFjdG9yeX0gZnJvbSBcIi4vY2lyY2xlLWZhY3RvcnlcIjtcbmltcG9ydCBPcHRpb25zIGZyb20gXCIuL29wdGlvbnNcIjtcblxuY2xhc3MgQ2lyY2xlIHtcbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gR2V0cyB0aGUgc2l6ZSBvZiB0aGUgcGFyZW50IGVsZW1lbnQsIHdoZXJlIHRoZSBzdmcgZ2V0cyBwbGFjZWQgaW5cbiAgICAgKiBAcGFyYW0gaWRcbiAgICAgKiBAcmV0dXJucyB7e3dpZHRoOiBudW1iZXIsIG1heFNpemU6IG51bWJlciwgaGVpZ2h0OiBudW1iZXJ9fVxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGdldFBhcmVudFNpemUoaWQ6IHN0cmluZykge1xuICAgICAgICBjb25zdCBib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gYm94LmNsaWVudFdpZHRoID4gMCA/IGJveC5jbGllbnRXaWR0aCA6IDIwMDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gYm94LmNsaWVudEhlaWdodCA+IDAgPyBib3guY2xpZW50SGVpZ2h0IDogMjAwO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtYXhTaXplOiB3aWR0aCA+IGhlaWdodCA/IGhlaWdodCA6IHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEluaXRpYWxpemVzIHRoZSBjaXJjbGUgYnkgZ2l2ZW4gdHlwZVxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBpbml0aWFsaXplQ2lyY2xlVHlwZShvcHRpb25zOiBJQXZhaWxhYmxlT3B0aW9ucykge1xuICAgICAgICBjb25zdCBzaXplID0gQ2lyY2xlLmdldFBhcmVudFNpemUob3B0aW9ucy5pZCk7XG4gICAgICAgIGNvbnN0IGNpcmNsZUZhY3RvcnkgPSBuZXcgQ2lyY2xlRmFjdG9yeSgpO1xuICAgICAgICBjb25zdCBjaXJjbGUgPSBjaXJjbGVGYWN0b3J5LmNyZWF0ZShvcHRpb25zLnR5cGUpO1xuICAgICAgICBjb25zdCBvcHRpb25zTWFuYWdlciA9IG5ldyBPcHRpb25zKCk7XG4gICAgICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSBvcHRpb25zTWFuYWdlci5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG5cbiAgICAgICAgY2lyY2xlLmluaXRpYWxpemUobWVyZ2VkT3B0aW9ucywgc2l6ZSk7XG4gICAgICAgIGNpcmNsZS5kcmF3Q2lyY2xlKCk7XG5cbiAgICAgICAgcmV0dXJuIGNpcmNsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlcyBhIG5ldyBjaXJjbGVcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIHB1YmxpYyBuZXdDaXJjbGUob3B0aW9uczogSUF2YWlsYWJsZU9wdGlvbnMpOiBBcGkge1xuICAgICAgICBDaXJjbGUuaW5pdGlhbGl6ZUNpcmNsZVR5cGUob3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBcGkob3B0aW9ucyk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDaXJjbGU7XG4iLCJpbXBvcnQge0lBdmFpbGFibGVPcHRpb25zfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9pYXZhaWxhYmxlLW9wdGlvbnNcIjtcblxuY2xhc3MgT3B0aW9ucyB7XG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIERlZmF1bHQgb3B0aW9ucyBpZiBvcHRpb24gaXMgbm90IHNldCBvbiBpbml0aWFsaXNhdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyBkZWZhdWx0T3B0aW9uczogSUF2YWlsYWJsZU9wdGlvbnMgPSB7XG4gICAgICAgIHBvaW50OiBmYWxzZSxcbiAgICAgICAgcG9pbnRTaXplOiA2MCxcbiAgICAgICAgcGVyY2VudDogNzUsXG4gICAgICAgIGZvcmVncm91bmRDaXJjbGVXaWR0aDogNSxcbiAgICAgICAgYmFja2dyb3VuZENpcmNsZVdpZHRoOiAxNSxcbiAgICAgICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgICAgICBhbmltYXRpb25TdGVwOiAxLFxuICAgICAgICBub1BlcmNlbnRhZ2VTaWduOiBmYWxzZSxcbiAgICAgICAgYW5pbWF0ZUluVmlldzogZmFsc2UsXG4gICAgICAgIHN0cm9rZUxpbmVjYXA6IFwiYnV0dFwiLFxuICAgICAgICB0eXBlOiBcIlNpbXBsZUNpcmNsZVwiLFxuICAgICAgICB0ZXh0UmVwbGFjZXNQZXJjZW50YWdlOiBmYWxzZSxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIE1lcmdlIGRlZmF1bHQgb3B0aW9ucyBhbmQgY3VzdG9tIG9wdGlvbiBvbiBpbml0aWFsaXNhdGlvblxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHJldHVybnMgT3B0aW9uc1snZGVmYXVsdE9wdGlvbnMnXVxuICAgICAqL1xuICAgIHB1YmxpYyBtZXJnZU9wdGlvbnMgPSAob3B0aW9uczogSUF2YWlsYWJsZU9wdGlvbnMpID0+IHtcbiAgICAgICAgcmV0dXJuIHsuLi50aGlzLmRlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zfTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9wdGlvbnM7XG4iLCJpbXBvcnQgT2JqZWN0SGVscGVyIGZyb20gXCIuLi9oZWxwZXJzL29iamVjdC1oZWxwZXJcIjtcbmltcG9ydCBTdmdUYWdzSGVscGVyIGZyb20gXCIuLi9oZWxwZXJzL3N2Zy10YWdzLWhlbHBlclwiO1xuaW1wb3J0IHtJQXR0cmlidXRlc30gZnJvbSBcIi4uL2ludGVyZmFjZXMvaWF0dHJpYnV0ZXNcIjtcbmltcG9ydCB7SURpY3Rpb25hcnl9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2lkaWN0aW9uYXJ5XCI7XG5cbmNsYXNzIFN2Z1RhZ3Mge1xuICAgIHB1YmxpYyBzdGF0aWMgbmFtZXNwYWNlVVJJID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiO1xuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEFkZHMgYSBzdmcgdGFnIHdpdGggYXR0cmlidXRlc1xuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVzXG4gICAgICogQHJldHVybnMgU1ZHRWxlbWVudFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgYWRkU3ZnKGF0dHJpYnV0ZXM6IElBdHRyaWJ1dGVzKTogRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTdmdUYWdzLm5hbWVzcGFjZVVSSSwgXCJzdmdcIik7XG4gICAgICAgIGF0dHJpYnV0ZXMuY2xhc3MgPSBcImNpcmNsZS1jb250YWluZXIgXCIgKyBPYmplY3RIZWxwZXIuZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMgYXMgSURpY3Rpb25hcnksXG4gICAgICAgICAgICBcImNsYXNzXCIsXG4gICAgICAgICk7XG5cbiAgICAgICAgU3ZnVGFnc0hlbHBlci5zZXRBdHRyaWJ1dGVzKHN2ZyBhcyBTVkdFbGVtZW50LCBhdHRyaWJ1dGVzKTtcblxuICAgICAgICByZXR1cm4gc3ZnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBBZGRzIGEgY2lyY2xlIHRhZyB3aXRoIGF0dHJpYnV0ZXNcbiAgICAgKiBAcGFyYW0gYXR0cmlidXRlc1xuICAgICAqIEByZXR1cm5zIFNWR0NpcmNsZUVsZW1lbnRcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGFkZENpcmNsZShhdHRyaWJ1dGVzOiBJQXR0cmlidXRlcyk6IEVsZW1lbnQge1xuICAgICAgICBjb25zdCBjaXJjbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU3ZnVGFncy5uYW1lc3BhY2VVUkksIFwiY2lyY2xlXCIpO1xuICAgICAgICBTdmdUYWdzSGVscGVyLnNldEF0dHJpYnV0ZXMoY2lyY2xlIGFzIFNWR0VsZW1lbnQsIGF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIHJldHVybiBjaXJjbGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEFkZHMgYSBwYXRoIHRhZyB3aXRoIGF0dHJpYnV0ZXNcbiAgICAgKiBAcGFyYW0gYXR0cmlidXRlc1xuICAgICAqIEByZXR1cm5zIFNWR1BhdGhFbGVtZW50XG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBhZGRBcmMoYXR0cmlidXRlczogSUF0dHJpYnV0ZXMpOiBFbGVtZW50IHtcbiAgICAgICAgY29uc3QgYXJjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFN2Z1RhZ3MubmFtZXNwYWNlVVJJLCBcInBhdGhcIik7XG4gICAgICAgIFN2Z1RhZ3NIZWxwZXIuc2V0QXR0cmlidXRlcyhhcmMgYXMgU1ZHRWxlbWVudCwgYXR0cmlidXRlcyk7XG5cbiAgICAgICAgcmV0dXJuIGFyYztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gQWRkcyBhIHRleHQgdGFnIHdpdGggYXR0cmlidXRlc1xuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVzXG4gICAgICogQHJldHVybnMgU1ZHVGV4dEVsZW1lbnRcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGFkZFRleHQoYXR0cmlidXRlczogSUF0dHJpYnV0ZXMpOiBFbGVtZW50IHtcbiAgICAgICAgY29uc3QgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTdmdUYWdzLm5hbWVzcGFjZVVSSSwgXCJ0ZXh0XCIpO1xuICAgICAgICB0ZXh0LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIik7XG4gICAgICAgIFN2Z1RhZ3NIZWxwZXIuc2V0QXR0cmlidXRlcyh0ZXh0IGFzIFNWR0VsZW1lbnQsIGF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBBZGRzIGRlZnMgdGFnIHRvIHN2ZyB0byBkcmF3IGEgZ3JhZGllbnRcbiAgICAgKiBAcGFyYW0gYXR0cmlidXRlc1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgYWRkRGVmcyhhdHRyaWJ1dGVzOiBJQXR0cmlidXRlcyk6IEVsZW1lbnQge1xuICAgICAgICBjb25zdCBkZWZzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFN2Z1RhZ3MubmFtZXNwYWNlVVJJLCBcImRlZnNcIik7XG4gICAgICAgIGNvbnN0IGxpbmVhckdyYWRpZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFN2Z1RhZ3MubmFtZXNwYWNlVVJJLCBcImxpbmVhckdyYWRpZW50XCIpO1xuICAgICAgICBjb25zdCBsaW5lYXJHcmFkaWVudEF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgICBpZDogXCJsaW5lYXJHcmFkaWVudFwiLFxuICAgICAgICB9O1xuICAgICAgICBTdmdUYWdzSGVscGVyLnNldEF0dHJpYnV0ZXMobGluZWFyR3JhZGllbnQgYXMgU1ZHRWxlbWVudCwgbGluZWFyR3JhZGllbnRBdHRyaWJ1dGVzKTtcblxuICAgICAgICBjb25zdCBmaXJzdFN0b3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU3ZnVGFncy5uYW1lc3BhY2VVUkksIFwic3RvcFwiKTtcbiAgICAgICAgY29uc3QgZmlyc3RTdG9wQXR0cmlidXRlcyA9IHtcbiAgICAgICAgICAgIFwib2Zmc2V0XCI6IFwiMFwiLFxuICAgICAgICAgICAgXCJzdG9wLWNvbG9yXCI6IGF0dHJpYnV0ZXMuZ3JhZGllbnRTdGFydCxcbiAgICAgICAgfTtcbiAgICAgICAgU3ZnVGFnc0hlbHBlci5zZXRBdHRyaWJ1dGVzKGZpcnN0U3RvcCBhcyBTVkdFbGVtZW50LCBmaXJzdFN0b3BBdHRyaWJ1dGVzKTtcblxuICAgICAgICBjb25zdCBzZWNvbmRTdG9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFN2Z1RhZ3MubmFtZXNwYWNlVVJJLCBcInN0b3BcIik7XG4gICAgICAgIGNvbnN0IHNlY29uZFN0b3BBdHRyaWJ1dGVzID0ge1xuICAgICAgICAgICAgXCJvZmZzZXRcIjogXCIxXCIsXG4gICAgICAgICAgICBcInN0b3AtY29sb3JcIjogYXR0cmlidXRlcy5ncmFkaWVudEVuZCxcbiAgICAgICAgfTtcbiAgICAgICAgU3ZnVGFnc0hlbHBlci5zZXRBdHRyaWJ1dGVzKHNlY29uZFN0b3AgYXMgU1ZHRWxlbWVudCwgc2Vjb25kU3RvcEF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIGxpbmVhckdyYWRpZW50LmFwcGVuZENoaWxkKGZpcnN0U3RvcCk7XG4gICAgICAgIGxpbmVhckdyYWRpZW50LmFwcGVuZENoaWxkKHNlY29uZFN0b3ApO1xuICAgICAgICBkZWZzLmFwcGVuZENoaWxkKGxpbmVhckdyYWRpZW50KTtcblxuICAgICAgICByZXR1cm4gZGVmcztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN2Z1RhZ3M7XG4iLCJpbXBvcnQgU3ZnVGFncyBmcm9tIFwiLi4vYmFzZS1jbGFzc2VzL3N2Zy10YWdzXCI7XG5pbXBvcnQgT2JqZWN0SGVscGVyIGZyb20gXCIuLi9oZWxwZXJzL29iamVjdC1oZWxwZXJcIjtcbmltcG9ydCB7U3R5bGVIZWxwZXJ9IGZyb20gXCIuLi9oZWxwZXJzL3N0eWxlLWhlbHBlclwiO1xuaW1wb3J0IFN2Z1RhZ3NIZWxwZXIgZnJvbSBcIi4uL2hlbHBlcnMvc3ZnLXRhZ3MtaGVscGVyXCI7XG5pbXBvcnQge0lBdmFpbGFibGVPcHRpb25zfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9pYXZhaWxhYmxlLW9wdGlvbnNcIjtcbmltcG9ydCB7SVNpemV9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2lzaXplXCI7XG5pbXBvcnQgU2ltcGxlQ2lyY2xlIGZyb20gXCIuL3NpbXBsZS1jaXJjbGVcIjtcblxuLyoqXG4gKiBFdmVyeSBjaXJjbGUgZ2V0cyBkeW5hbWljYWxseSBjYWxsZWQgYnkgdGhlIGdpdmVuIHR5cGUgaW4gdGhlIG9wdGlvbnMgb2JqZWN0IGV4YW1wbGU6IHsgdHlwZTogJ0hhbGZDaXJjbGUnIH1cbiAqL1xuY2xhc3MgSGFsZkNpcmNsZSBleHRlbmRzIFNpbXBsZUNpcmNsZSB7XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd0NpcmNsZSgpIHtcbiAgICAgICAgY29uc3QgYWRkaXRpb25hbENvbnRhaW5lckF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgICBjbGFzczogT2JqZWN0SGVscGVyLmV4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QodGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcywgXCJzdmdDb250YWluZXJcIiksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZHJhd0NvbnRhaW5lcihhZGRpdGlvbmFsQ29udGFpbmVyQXR0cmlidXRlcyk7XG4gICAgICAgIHRoaXMuZHJhd0JhY2tncm91bmRDaXJjbGUoKTtcbiAgICAgICAgdGhpcy5kcmF3Rm9yZWdyb3VuZENpcmNsZSgpO1xuICAgICAgICB0aGlzLmRyYXdUZXh0KCk7XG4gICAgICAgIHRoaXMuYXBwZW5kKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIERyYXdzIHRoZSBiYWNrZ3JvdW5kIGNpcmNsZVxuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3QmFja2dyb3VuZENpcmNsZSgpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRBbmdsZSA9IDI3MDtcbiAgICAgICAgY29uc3QgZW5kQW5nbGUgPSA5MDtcbiAgICAgICAgY29uc3QgY3VzdG9tQ3NzQ2xhc3MgPSBPYmplY3RIZWxwZXIuZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChcbiAgICAgICAgICAgIHRoaXMuYWRkaXRpb25hbENzc0NsYXNzZXMsXG4gICAgICAgICAgICBcImJhY2tncm91bmRDaXJjbGVcIixcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgYXJjID0gU3ZnVGFncy5hZGRBcmMoe1xuICAgICAgICAgICAgXCJpZFwiOiBgYmctYXJjLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgICAgICBcImRcIjogU3ZnVGFnc0hlbHBlci5kZXNjcmliZUFyYyh0aGlzLmNvb3JkaW5hdGVzLngsIHRoaXMuY29vcmRpbmF0ZXMueSwgdGhpcy5yYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlKSxcbiAgICAgICAgICAgIFwiY2xhc3NcIjogYGJhY2tncm91bmQtY2lyY2xlICR7Y3VzdG9tQ3NzQ2xhc3N9YCxcbiAgICAgICAgICAgIFwic3Ryb2tlLXdpZHRoXCI6IHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kQ2lyY2xlV2lkdGgsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGFyYyxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEcmF3cyB0aGUgZm9yZWdyb3VuZCBjaXJjbGUgYnkgZ2l2ZW4gcGVyY2VudGFnZSB3aXRoIG9wdGlvbmFsIGFuaW1hdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3Rm9yZWdyb3VuZENpcmNsZSgpIHtcbiAgICAgICAgY29uc3QgZW5kQW5nbGUgPSAxODAgLyAxMDAgKiB0aGlzLm9wdGlvbnMucGVyY2VudDtcbiAgICAgICAgY29uc3QgY3VzdG9tQ3NzQ2xhc3MgPSBPYmplY3RIZWxwZXIuZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChcbiAgICAgICAgICAgIHRoaXMuYWRkaXRpb25hbENzc0NsYXNzZXMsXG4gICAgICAgICAgICBcImZvcmVncm91bmRDaXJjbGVcIixcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgYXJjID0gU3ZnVGFncy5hZGRBcmMoe1xuICAgICAgICAgICAgXCJpZFwiOiBgYXJjLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgICAgICBcImNsYXNzXCI6IGBmb3JlZ3JvdW5kLWNpcmNsZSAke2N1c3RvbUNzc0NsYXNzfWAsXG4gICAgICAgICAgICBcImRcIjogU3ZnVGFnc0hlbHBlci5kZXNjcmliZUFyYyh0aGlzLmNvb3JkaW5hdGVzLngsIHRoaXMuY29vcmRpbmF0ZXMueSwgdGhpcy5yYWRpdXMsIDAsIGVuZEFuZ2xlKSxcbiAgICAgICAgICAgIFwidHJhbnNmb3JtXCI6IGByb3RhdGUoLTkwLCAke3RoaXMuY29vcmRpbmF0ZXMueH0sICR7dGhpcy5jb29yZGluYXRlcy55fSlgLFxuICAgICAgICAgICAgXCJzdHJva2Utd2lkdGhcIjogdGhpcy5vcHRpb25zLmZvcmVncm91bmRDaXJjbGVXaWR0aCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZShhcmMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50YWdzLnB1c2goe1xuICAgICAgICAgICAgZWxlbWVudDogYXJjLFxuICAgICAgICAgICAgcGFyZW50SWQ6IGBzdmctJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEFuaW1hdGVzIGNpcmNsZSBjb3VudGVyIGNsb2NrIHdpc2VcbiAgICAgKiBAcGFyYW0gYXJjXG4gICAgICovXG4gICAgcHVibGljIGFuaW1hdGUoYXJjOiBFbGVtZW50KSB7XG4gICAgICAgIFN0eWxlSGVscGVyLmFuaW1hdGVBcmMoe1xuICAgICAgICAgICAgYXJjLFxuICAgICAgICAgICAgYXJjUGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgcGVyY2VudDogdGhpcy5vcHRpb25zLnBlcmNlbnQsXG4gICAgICAgICAgICAgICAgeDogdGhpcy5jb29yZGluYXRlcy54LFxuICAgICAgICAgICAgICAgIHk6IHRoaXMuY29vcmRpbmF0ZXMueSxcbiAgICAgICAgICAgICAgICByYWRpdXM6IHRoaXMucmFkaXVzLFxuICAgICAgICAgICAgICAgIGVuZEFuZ2xlR3JhZGU6IDE4MCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbmltYXRpb25TdGVwOiB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uU3RlcCxcbiAgICAgICAgICAgIHByb2dyZXNzQ29sb3JzOiB0aGlzLm9wdGlvbnMucHJvZ3Jlc3NDb2xvcnMsXG4gICAgICAgIH0sIHRoaXMub3B0aW9ucy5vbkFuaW1hdGlvbkVuZCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBIYWxmQ2lyY2xlO1xuIiwiaW1wb3J0IHtCYXNlQ2lyY2xlfSBmcm9tIFwiLi4vYmFzZS1jbGFzc2VzL2Jhc2UtY2lyY2xlXCI7XG5pbXBvcnQgU3ZnVGFncyBmcm9tIFwiLi4vYmFzZS1jbGFzc2VzL3N2Zy10YWdzXCI7XG5pbXBvcnQgT2JqZWN0SGVscGVyIGZyb20gXCIuLi9oZWxwZXJzL29iamVjdC1oZWxwZXJcIjtcbmltcG9ydCB7U3R5bGVIZWxwZXJ9IGZyb20gXCIuLi9oZWxwZXJzL3N0eWxlLWhlbHBlclwiO1xuaW1wb3J0IFN2Z1RhZ3NIZWxwZXIgZnJvbSBcIi4uL2hlbHBlcnMvc3ZnLXRhZ3MtaGVscGVyXCI7XG5pbXBvcnQge0lBdmFpbGFibGVPcHRpb25zfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9pYXZhaWxhYmxlLW9wdGlvbnNcIjtcbmltcG9ydCB7SVNpemV9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2lzaXplXCI7XG5cbi8qKlxuICogRXZlcnkgY2lyY2xlIGdldHMgZHluYW1pY2FsbHkgY2FsbGVkIGJ5IHRoZSBnaXZlbiB0eXBlIGluIHRoZSBvcHRpb25zIG9iamVjdCBleGFtcGxlOiB7IHR5cGU6ICdQbGFpbkNpcmNsZScgfVxuICovXG5jbGFzcyBQbGFpbkNpcmNsZSBleHRlbmRzIEJhc2VDaXJjbGUge1xuICAgIHByaXZhdGUgY29vcmRpbmF0ZXMgPSB7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDAsXG4gICAgfTtcbiAgICBwcm90ZWN0ZWQgcmFkaXVzOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIGFkZGl0aW9uYWxDc3NDbGFzc2VzOiBJQXZhaWxhYmxlT3B0aW9uc1tcImFkZGl0aW9uYWxDc3NDbGFzc2VzXCJdID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIHB1YmxpYyBpbml0aWFsaXplKG9wdGlvbnM6IElBdmFpbGFibGVPcHRpb25zLCBzaXplOiBJU2l6ZSkge1xuICAgICAgICBzdXBlci5pbml0aWFsaXplKG9wdGlvbnMsIHNpemUpO1xuXG4gICAgICAgIGNvbnN0IG1heFNpemUgPSB0aGlzLnNpemUubWF4U2l6ZTtcbiAgICAgICAgdGhpcy5jb29yZGluYXRlcyA9IHtcbiAgICAgICAgICAgIHg6IG1heFNpemUgLyAyLFxuICAgICAgICAgICAgeTogbWF4U2l6ZSAvIDIsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmFkaXVzID0gbWF4U2l6ZSAvIDIuMjtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFkZGl0aW9uYWxDc3NDbGFzc2VzKSB7XG4gICAgICAgICAgICB0aGlzLmFkZGl0aW9uYWxDc3NDbGFzc2VzID0gdGhpcy5vcHRpb25zLmFkZGl0aW9uYWxDc3NDbGFzc2VzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hbmltYXRlSW5WaWV3KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd0NpcmNsZSgpIHtcbiAgICAgICAgdGhpcy5kcmF3Q29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuZHJhd1BsYWluQ2lyY2xlKCk7XG4gICAgICAgIHRoaXMuYXBwZW5kKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIERyYXdzIHRoZSBjaXJjbGUgYnkgZ2l2ZW4gcGVyY2VudGFnZSB3aXRoIG9wdGlvbmFsIGFuaW1hdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3UGxhaW5DaXJjbGUoKSB7XG4gICAgICAgIGNvbnN0IGVuZEFuZ2xlID0gMzYwIC8gMTAwICogdGhpcy5vcHRpb25zLnBlcmNlbnQ7XG4gICAgICAgIGNvbnN0IGN1c3RvbUNzc0NsYXNzID0gT2JqZWN0SGVscGVyLmV4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QoXG4gICAgICAgICAgICB0aGlzLmFkZGl0aW9uYWxDc3NDbGFzc2VzLFxuICAgICAgICAgICAgXCJmb3JlZ3JvdW5kQ2lyY2xlXCIsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGFyYyA9IFN2Z1RhZ3MuYWRkQXJjKHtcbiAgICAgICAgICAgIFwiaWRcIjogYGFyYy0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICAgICAgXCJjbGFzc1wiOiBgZm9yZWdyb3VuZC1jaXJjbGUgJHtjdXN0b21Dc3NDbGFzc31gLFxuICAgICAgICAgICAgXCJkXCI6IFN2Z1RhZ3NIZWxwZXIuZGVzY3JpYmVBcmModGhpcy5jb29yZGluYXRlcy54LCB0aGlzLmNvb3JkaW5hdGVzLnksIHRoaXMucmFkaXVzLCAwLCBlbmRBbmdsZSksXG4gICAgICAgICAgICBcInN0cm9rZS13aWR0aFwiOiB0aGlzLm9wdGlvbnMuZm9yZWdyb3VuZENpcmNsZVdpZHRoLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRlKGFyYyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRhZ3MucHVzaCh7XG4gICAgICAgICAgICBlbGVtZW50OiBhcmMsXG4gICAgICAgICAgICBwYXJlbnRJZDogYHN2Zy0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gQW5pbWF0ZXMgY2lyY2xlIGNvdW50ZXIgY2xvY2sgd2lzZVxuICAgICAqIEBwYXJhbSBhcmNcbiAgICAgKi9cbiAgICBwdWJsaWMgYW5pbWF0ZShhcmM6IEVsZW1lbnQpIHtcbiAgICAgICAgU3R5bGVIZWxwZXIuYW5pbWF0ZUFyYyh7XG4gICAgICAgICAgICBhcmMsXG4gICAgICAgICAgICBhcmNQYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBwZXJjZW50OiB0aGlzLm9wdGlvbnMucGVyY2VudCxcbiAgICAgICAgICAgICAgICB4OiB0aGlzLmNvb3JkaW5hdGVzLngsXG4gICAgICAgICAgICAgICAgeTogdGhpcy5jb29yZGluYXRlcy55LFxuICAgICAgICAgICAgICAgIHJhZGl1czogdGhpcy5yYWRpdXMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYW5pbWF0aW9uU3RlcDogdGhpcy5vcHRpb25zLmFuaW1hdGlvblN0ZXAsXG4gICAgICAgICAgICBwcm9ncmVzc0NvbG9yczogdGhpcy5vcHRpb25zLnByb2dyZXNzQ29sb3JzLFxuICAgICAgICB9LCB0aGlzLm9wdGlvbnMub25BbmltYXRpb25FbmQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGxhaW5DaXJjbGU7XG4iLCJpbXBvcnQge0Jhc2VDaXJjbGV9IGZyb20gXCIuLi9iYXNlLWNsYXNzZXMvYmFzZS1jaXJjbGVcIjtcbmltcG9ydCBTdmdUYWdzIGZyb20gXCIuLi9iYXNlLWNsYXNzZXMvc3ZnLXRhZ3NcIjtcbmltcG9ydCBPYmplY3RIZWxwZXIgZnJvbSBcIi4uL2hlbHBlcnMvb2JqZWN0LWhlbHBlclwiO1xuaW1wb3J0IHtTdHlsZUhlbHBlcn0gZnJvbSBcIi4uL2hlbHBlcnMvc3R5bGUtaGVscGVyXCI7XG5pbXBvcnQgU3ZnVGFnc0hlbHBlciBmcm9tIFwiLi4vaGVscGVycy9zdmctdGFncy1oZWxwZXJcIjtcbmltcG9ydCB7SUF0dHJpYnV0ZXN9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2lhdHRyaWJ1dGVzXCI7XG5pbXBvcnQge0lBdmFpbGFibGVPcHRpb25zfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9pYXZhaWxhYmxlLW9wdGlvbnNcIjtcbmltcG9ydCB7SVNpemV9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2lzaXplXCI7XG5cbi8qKlxuICogRXZlcnkgY2lyY2xlIGdldHMgZHluYW1pY2FsbHkgY2FsbGVkIGJ5IHRoZSBnaXZlbiB0eXBlIGluIHRoZSBvcHRpb25zIG9iamVjdFxuICogZXhhbXBsZTogeyB0eXBlOiAnU2ltcGxlQ2lyY2xlJyB9XG4gKi9cbmNsYXNzIFNpbXBsZUNpcmNsZSBleHRlbmRzIEJhc2VDaXJjbGUge1xuICAgIHByb3RlY3RlZCBjb29yZGluYXRlcyA9IHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMCxcbiAgICB9O1xuICAgIHByb3RlY3RlZCByYWRpdXM6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgYWRkaXRpb25hbENzc0NsYXNzZXM6IElBdmFpbGFibGVPcHRpb25zW1wiYWRkaXRpb25hbENzc0NsYXNzZXNcIl0gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgcHVibGljIGluaXRpYWxpemUob3B0aW9uczogSUF2YWlsYWJsZU9wdGlvbnMsIHNpemU6IElTaXplKSB7XG4gICAgICAgIHN1cGVyLmluaXRpYWxpemUob3B0aW9ucywgc2l6ZSk7XG5cbiAgICAgICAgY29uc3QgbWF4U2l6ZSA9IHRoaXMuc2l6ZS5tYXhTaXplO1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzID0ge1xuICAgICAgICAgICAgeDogbWF4U2l6ZSAvIDIsXG4gICAgICAgICAgICB5OiBtYXhTaXplIC8gMixcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yYWRpdXMgPSBtYXhTaXplIC8gMi4yO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYWRkaXRpb25hbENzc0NsYXNzZXMpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkaXRpb25hbENzc0NsYXNzZXMgPSB0aGlzLm9wdGlvbnMuYWRkaXRpb25hbENzc0NsYXNzZXM7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFuaW1hdGVJblZpZXcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3Q2lyY2xlKCkge1xuICAgICAgICBjb25zdCBhZGRpdGlvbmFsQ29udGFpbmVyQXR0cmlidXRlcyA9IHtcbiAgICAgICAgICAgIGNsYXNzOiBPYmplY3RIZWxwZXIuZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdCh0aGlzLmFkZGl0aW9uYWxDc3NDbGFzc2VzLCBcInN2Z0NvbnRhaW5lclwiKSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kcmF3Q29udGFpbmVyKGFkZGl0aW9uYWxDb250YWluZXJBdHRyaWJ1dGVzKTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnN0cm9rZUdyYWRpZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdMaW5lYXJHcmFkaWVudCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kcmF3QmFja2dyb3VuZENpcmNsZSgpO1xuICAgICAgICB0aGlzLmRyYXdGb3JlZ3JvdW5kQ2lyY2xlKCk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wb2ludCkge1xuICAgICAgICAgICAgdGhpcy5kcmF3UG9pbnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaWNvbikge1xuICAgICAgICAgICAgdGhpcy5kcmF3SWNvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kcmF3VGV4dCgpO1xuXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLnRleHRSZXBsYWNlc1BlcmNlbnRhZ2UgJiYgdGhpcy5vcHRpb25zLnRleHQpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0luZm9UZXh0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFwcGVuZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEcmF3cyBiYWNrZ3JvdW5kIGNpcmNsZVxuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3QmFja2dyb3VuZENpcmNsZSgpIHtcbiAgICAgICAgY29uc3QgY3VzdG9tQ3NzQ2xhc3MgPSBPYmplY3RIZWxwZXIuZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChcbiAgICAgICAgICAgIHRoaXMuYWRkaXRpb25hbENzc0NsYXNzZXMsXG4gICAgICAgICAgICBcImJhY2tncm91bmRDaXJjbGVcIixcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBjaXJjbGUgPSBTdmdUYWdzLmFkZENpcmNsZSh7XG4gICAgICAgICAgICBcImlkXCI6IGBjaXJjbGUtJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgICAgIFwiY2xhc3NcIjogYGJhY2tncm91bmQtY2lyY2xlICR7Y3VzdG9tQ3NzQ2xhc3N9YCxcbiAgICAgICAgICAgIFwiY3hcIjogU3RyaW5nKHRoaXMuY29vcmRpbmF0ZXMueCksXG4gICAgICAgICAgICBcImN5XCI6IFN0cmluZyh0aGlzLmNvb3JkaW5hdGVzLnkpLFxuICAgICAgICAgICAgXCJyXCI6IFN0cmluZyh0aGlzLnJhZGl1cyksXG4gICAgICAgICAgICBcInN0cm9rZS13aWR0aFwiOiB0aGlzLm9wdGlvbnMuYmFja2dyb3VuZENpcmNsZVdpZHRoLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnRhZ3MucHVzaCh7XG4gICAgICAgICAgICBlbGVtZW50OiBjaXJjbGUsXG4gICAgICAgICAgICBwYXJlbnRJZDogYHN2Zy0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gRHJhd3MgYSBwb2ludCBpbnRvIHRoZSBjaXJjbGUsIGJlaGluZCB0aGUgdGV4dFxuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3UG9pbnQoKSB7XG4gICAgICAgIGNvbnN0IHBvaW50U2l6ZSA9IHRoaXMucmFkaXVzIC8gMTAwICogdGhpcy5vcHRpb25zLnBvaW50U2l6ZTtcbiAgICAgICAgY29uc3QgY3VzdG9tQ3NzQ2xhc3MgPSBPYmplY3RIZWxwZXIuZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChcbiAgICAgICAgICAgIHRoaXMuYWRkaXRpb25hbENzc0NsYXNzZXMsXG4gICAgICAgICAgICBcInBvaW50XCIsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGNpcmNsZSA9IFN2Z1RhZ3MuYWRkQ2lyY2xlKHtcbiAgICAgICAgICAgIGlkOiBgcG9pbnQtJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgICAgIGNsYXNzOiBgcG9pbnQtY2lyY2xlICR7Y3VzdG9tQ3NzQ2xhc3N9YCxcbiAgICAgICAgICAgIGN4OiBTdHJpbmcodGhpcy5jb29yZGluYXRlcy54KSxcbiAgICAgICAgICAgIGN5OiBTdHJpbmcodGhpcy5jb29yZGluYXRlcy55KSxcbiAgICAgICAgICAgIHI6IFN0cmluZyhwb2ludFNpemUpLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnRhZ3MucHVzaCh7XG4gICAgICAgICAgICBlbGVtZW50OiBjaXJjbGUsXG4gICAgICAgICAgICBwYXJlbnRJZDogYHN2Zy0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gRHJhd3MgZm9yZWdyb3VuZCBjaXJjbGVcbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd0ZvcmVncm91bmRDaXJjbGUoKSB7XG4gICAgICAgIGNvbnN0IGVuZEFuZ2xlID0gMzYwIC8gMTAwICogdGhpcy5vcHRpb25zLnBlcmNlbnQ7XG4gICAgICAgIGNvbnN0IGN1c3RvbUNzc0NsYXNzID0gT2JqZWN0SGVscGVyLmV4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QoXG4gICAgICAgICAgICB0aGlzLmFkZGl0aW9uYWxDc3NDbGFzc2VzLFxuICAgICAgICAgICAgXCJmb3JlZ3JvdW5kQ2lyY2xlXCIsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXM6IElBdHRyaWJ1dGVzID0ge1xuICAgICAgICAgICAgXCJpZFwiOiBgYXJjLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgICAgICBcImNsYXNzXCI6IGBmb3JlZ3JvdW5kLWNpcmNsZSAke2N1c3RvbUNzc0NsYXNzfWAsXG4gICAgICAgICAgICBcImRcIjogU3ZnVGFnc0hlbHBlci5kZXNjcmliZUFyYyh0aGlzLmNvb3JkaW5hdGVzLngsIHRoaXMuY29vcmRpbmF0ZXMueSwgdGhpcy5yYWRpdXMsIDAsIGVuZEFuZ2xlKSxcbiAgICAgICAgICAgIFwic3Ryb2tlLXdpZHRoXCI6IHRoaXMub3B0aW9ucy5mb3JlZ3JvdW5kQ2lyY2xlV2lkdGgsXG4gICAgICAgICAgICBcInN0cm9rZS1saW5lY2FwXCI6IHRoaXMub3B0aW9ucy5zdHJva2VMaW5lY2FwLFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc3Ryb2tlR3JhZGllbnQpIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMuc3Ryb2tlID0gXCJ1cmwoI2xpbmVhckdyYWRpZW50KVwiO1xuICAgICAgICAgICAgYXR0cmlidXRlcy5jbGFzcyA9IGBmb3JlZ3JvdW5kLWNpcmNsZS13aXRob3V0LXN0cm9rZS1jb2xvciAke2N1c3RvbUNzc0NsYXNzfWA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhcmMgPSBTdmdUYWdzLmFkZEFyYyhhdHRyaWJ1dGVzKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZShhcmMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50YWdzLnB1c2goe1xuICAgICAgICAgICAgZWxlbWVudDogYXJjLFxuICAgICAgICAgICAgcGFyZW50SWQ6IGBzdmctJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEFuaW1hdGVzIGNpcmNsZSBjb3VudGVyIGNsb2NrIHdpc2VcbiAgICAgKiBAcGFyYW0gYXJjXG4gICAgICogQHBhcmFtIHVwZGF0ZWRQZXJjZW50XG4gICAgICovXG4gICAgcHVibGljIGFuaW1hdGUoYXJjOiBFbGVtZW50LCB1cGRhdGVkUGVyY2VudD86IG51bWJlcikge1xuICAgICAgICBTdHlsZUhlbHBlci5hbmltYXRlQXJjKHtcbiAgICAgICAgICAgIGFyYyxcbiAgICAgICAgICAgIGFyY1BhcmFtczoge1xuICAgICAgICAgICAgICAgIHBlcmNlbnQ6IHVwZGF0ZWRQZXJjZW50ID8gdXBkYXRlZFBlcmNlbnQgOiB0aGlzLm9wdGlvbnMucGVyY2VudCxcbiAgICAgICAgICAgICAgICB4OiB0aGlzLmNvb3JkaW5hdGVzLngsXG4gICAgICAgICAgICAgICAgeTogdGhpcy5jb29yZGluYXRlcy55LFxuICAgICAgICAgICAgICAgIHJhZGl1czogdGhpcy5yYWRpdXMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYW5pbWF0aW9uU3RlcDogdGhpcy5vcHRpb25zLmFuaW1hdGlvblN0ZXAsXG4gICAgICAgICAgICBwcm9ncmVzc0NvbG9yczogdGhpcy5vcHRpb25zLnByb2dyZXNzQ29sb3JzLFxuICAgICAgICB9LCB0aGlzLm9wdGlvbnMub25BbmltYXRpb25FbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEcmF3cyBmb250IGF3ZXNvbWUgaWNvblxuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3SWNvbigpIHtcbiAgICAgICAgY29uc3QgaWNvbiA9IHRoaXMub3B0aW9ucy5pY29uO1xuICAgICAgICBjb25zdCBjdXN0b21Dc3NDbGFzcyA9IE9iamVjdEhlbHBlci5leHRyYWN0UHJvcGVydHlGcm9tT2JqZWN0KFxuICAgICAgICAgICAgdGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcyxcbiAgICAgICAgICAgIFwiaWNvblwiLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCB0ZXh0ID0gU3ZnVGFncy5hZGRUZXh0KHtcbiAgICAgICAgICAgIGlkOiBgdGV4dC0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICAgICAgeDogU3RyaW5nKHRoaXMuY29vcmRpbmF0ZXMueCksXG4gICAgICAgICAgICB5OiBTdHJpbmcodGhpcy5jb29yZGluYXRlcy55IC0gMjUpLFxuICAgICAgICAgICAgY2xhc3M6IGBjaXJjbGUtaWNvbiBmYSAke2N1c3RvbUNzc0NsYXNzfWAsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRleHQuaW5uZXJIVE1MID0gYCYjeCR7aWNvbn07YDtcblxuICAgICAgICB0aGlzLnRhZ3MucHVzaCh7XG4gICAgICAgICAgICBlbGVtZW50OiB0ZXh0LFxuICAgICAgICAgICAgcGFyZW50SWQ6IGBzdmctJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIERyYXdzIHBlcmNlbnRhZ2VcbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd1RleHQoKSB7XG4gICAgICAgIGNvbnN0IGN1c3RvbUNzc0NsYXNzID0gT2JqZWN0SGVscGVyLmV4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QoXG4gICAgICAgICAgICB0aGlzLmFkZGl0aW9uYWxDc3NDbGFzc2VzLFxuICAgICAgICAgICAgXCJ0ZXh0XCIsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHRleHQgPSBTdmdUYWdzLmFkZFRleHQoe1xuICAgICAgICAgICAgaWQ6IGB0ZXh0LSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgICAgICB4OiBTdHJpbmcodGhpcy5jb29yZGluYXRlcy54KSxcbiAgICAgICAgICAgIHk6IFN0cmluZyh0aGlzLmNvb3JkaW5hdGVzLnkpLFxuICAgICAgICAgICAgY2xhc3M6IGBjaXJjbGUtdGV4dCAke2N1c3RvbUNzc0NsYXNzfWAsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHBlcmNlbnRhZ2VTaWduID0gdGhpcy5vcHRpb25zLm5vUGVyY2VudGFnZVNpZ24gPyBcIlwiIDogXCIlXCI7XG4gICAgICAgIGxldCBjb250ZW50ID0gYCR7dGhpcy5vcHRpb25zLnBlcmNlbnR9JHtwZXJjZW50YWdlU2lnbn1gO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRleHRSZXBsYWNlc1BlcmNlbnRhZ2UgJiYgdGhpcy5vcHRpb25zLnRleHQpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgPSB0aGlzLm9wdGlvbnMudGV4dDtcbiAgICAgICAgfVxuICAgICAgICB0ZXh0LnRleHRDb250ZW50ID0gY29udGVudDtcblxuICAgICAgICB0aGlzLnRhZ3MucHVzaCh7XG4gICAgICAgICAgICBlbGVtZW50OiB0ZXh0LFxuICAgICAgICAgICAgcGFyZW50SWQ6IGBzdmctJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIERyYXdzIGluZm8gdGV4dCBiZWxvdyBwZXJjZW50YWdlXG4gICAgICovXG4gICAgcHVibGljIGRyYXdJbmZvVGV4dCgpIHtcbiAgICAgICAgY29uc3QgY3VzdG9tQ3NzQ2xhc3MgPSBPYmplY3RIZWxwZXIuZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChcbiAgICAgICAgICAgIHRoaXMuYWRkaXRpb25hbENzc0NsYXNzZXMsXG4gICAgICAgICAgICBcImluZm9UZXh0XCIsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHRleHQgPSBTdmdUYWdzLmFkZFRleHQoe1xuICAgICAgICAgICAgaWQ6IGB0ZXh0LSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgICAgICB4OiBTdHJpbmcodGhpcy5jb29yZGluYXRlcy54KSxcbiAgICAgICAgICAgIHk6IFN0cmluZyh0aGlzLmNvb3JkaW5hdGVzLnkgKyAyMCksXG4gICAgICAgICAgICBjbGFzczogYGNpcmNsZS1pbmZvLXRleHQgJHtjdXN0b21Dc3NDbGFzc31gLFxuICAgICAgICB9KTtcblxuICAgICAgICB0ZXh0LnRleHRDb250ZW50ID0gdGhpcy5vcHRpb25zLnRleHQ7XG5cbiAgICAgICAgdGhpcy50YWdzLnB1c2goe1xuICAgICAgICAgICAgZWxlbWVudDogdGV4dCxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEcmF3cyBhIGxpbmVhciBncmFkaWVudCBpbnRvIHRoZSBmb3JlZ3JvdW5kIHN0cm9rZVxuICAgICAqL1xuICAgIHByaXZhdGUgZHJhd0xpbmVhckdyYWRpZW50KCkge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzOiBJQXR0cmlidXRlcyA9IHt9O1xuXG4gICAgICAgIGF0dHJpYnV0ZXMuZ3JhZGllbnRTdGFydCA9IHRoaXMub3B0aW9ucy5zdHJva2VHcmFkaWVudFswXTtcbiAgICAgICAgYXR0cmlidXRlcy5ncmFkaWVudEVuZCA9IHRoaXMub3B0aW9ucy5zdHJva2VHcmFkaWVudFsxXTtcblxuICAgICAgICBjb25zdCBkZWZzID0gU3ZnVGFncy5hZGREZWZzKGF0dHJpYnV0ZXMpO1xuICAgICAgICB0aGlzLnRhZ3MucHVzaCh7XG4gICAgICAgICAgICBlbGVtZW50OiBkZWZzLFxuICAgICAgICAgICAgcGFyZW50SWQ6IGBzdmctJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTaW1wbGVDaXJjbGU7XG4iLCJpbXBvcnQge0lEaWN0aW9uYXJ5fSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9pZGljdGlvbmFyeVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPYmplY3RIZWxwZXIge1xuICAgIHB1YmxpYyBzdGF0aWMgZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChvYmplY3Q6IElEaWN0aW9uYXJ5LCBwcm9wZXJ0eTogc3RyaW5nKSB7XG4gICAgICAgIGxldCB2YWx1ZTogc3RyaW5nIHwgbnVtYmVyIHwgb2JqZWN0ID0gXCJcIjtcbiAgICAgICAgaWYgKG9iamVjdC5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkgJiYgb2JqZWN0W3Byb3BlcnR5XSkge1xuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3RbcHJvcGVydHldO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7SUNhbGN1bGF0aW9uUGFyYW1zfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9pY2FsY3VsYXRpb24tcGFyYW1zXCI7XG5pbXBvcnQge0lQcm9ncmVzc0NvbG9yfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9pcHJvZ3Jlc3MtY29sb3JcIjtcbmltcG9ydCBTdmdUYWdzSGVscGVyIGZyb20gXCIuL3N2Zy10YWdzLWhlbHBlclwiO1xuXG5leHBvcnQgY2xhc3MgU3R5bGVIZWxwZXIge1xuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBSZWRyYXdzIHRoZSBhcmMgKGNpcmNsZSkgYm9yZGVyXG4gICAgICogQHBhcmFtIHBhcmFtc1xuICAgICAqIEBwYXJhbSBjYWxsYmFja1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgYW5pbWF0ZUFyYyhcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICBhcmM6IEVsZW1lbnQsXG4gICAgICAgICAgICBhcmNQYXJhbXM6IElDYWxjdWxhdGlvblBhcmFtcyxcbiAgICAgICAgICAgIGFuaW1hdGlvblN0ZXA6IG51bWJlcixcbiAgICAgICAgICAgIHByb2dyZXNzQ29sb3JzPzogSVByb2dyZXNzQ29sb3JbXSxcbiAgICAgICAgfSxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHt9LFxuICAgICk6IHZvaWQge1xuICAgICAgICBjb25zdCB7YXJjLCBhcmNQYXJhbXMsIGFuaW1hdGlvblN0ZXAsIHByb2dyZXNzQ29sb3JzfSA9IHBhcmFtcztcbiAgICAgICAgY29uc3Qgc3RhcnRBbmdsZSA9IGFyY1BhcmFtcy5zdGFydEFuZ2xlID8gYXJjUGFyYW1zLnN0YXJ0QW5nbGUgOiAwO1xuICAgICAgICBjb25zdCBlbmRBbmdsZUdyYWRlID0gYXJjUGFyYW1zLmVuZEFuZ2xlR3JhZGUgPyBhcmNQYXJhbXMuZW5kQW5nbGVHcmFkZSA6IDM2MDtcbiAgICAgICAgY29uc3QgbXMgPSB0aGlzLmdldE1pbGxpc2Vjb25kcyhhcmNQYXJhbXMubXMsIGFyY1BhcmFtcy5lbmRBbmdsZUdyYWRlKTtcbiAgICAgICAgY29uc3QgaGFzUHJvZ3Jlc3NDb2xvciA9IEFycmF5LmlzQXJyYXkocHJvZ3Jlc3NDb2xvcnMpICYmIHByb2dyZXNzQ29sb3JzLmxlbmd0aCA+IDA7XG5cbiAgICAgICAgbGV0IGNvdW50ID0gMTtcbiAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoYXJjLCBwZXJjZW50LCBwcm9ncmVzc0NvbG9ycykgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW5kQW5nbGUgPSBlbmRBbmdsZUdyYWRlIC8gMTAwICogY291bnQ7XG4gICAgICAgICAgICBTdmdUYWdzSGVscGVyLnNldEF0dHJpYnV0ZXMoYXJjLCB7XG4gICAgICAgICAgICAgICAgZDogU3ZnVGFnc0hlbHBlci5kZXNjcmliZUFyYyhhcmNQYXJhbXMueCwgYXJjUGFyYW1zLnksIGFyY1BhcmFtcy5yYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoaGFzUHJvZ3Jlc3NDb2xvcikge1xuICAgICAgICAgICAgICAgIFN0eWxlSGVscGVyLnVwZGF0ZUNpcmNsZUNvbG9yKGNvdW50LCBhcmMsIHByb2dyZXNzQ29sb3JzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY291bnQgKz0gYW5pbWF0aW9uU3RlcDtcblxuICAgICAgICAgICAgaWYgKGNvdW50ID4gcGVyY2VudCkge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBtcywgYXJjLCBhcmNQYXJhbXMucGVyY2VudCwgcHJvZ3Jlc3NDb2xvcnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBJZiBvcHRpb25zLnByb2dyZXNzQ29sb3JzIGlzIHNldCwgY29sb3JzIGFyZSBjaGFuZ2VkIG9uIGdpdmVuIHBlcmNlbnRhZ2VzXG4gICAgICogQHBhcmFtIGFjdHVhbENvdW50XG4gICAgICogQHBhcmFtIGFyY1xuICAgICAqIEBwYXJhbSBwcm9ncmVzc0NvbG9yc1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgdXBkYXRlQ2lyY2xlQ29sb3IoYWN0dWFsQ291bnQ6IG51bWJlciwgYXJjOiBFbGVtZW50LCBwcm9ncmVzc0NvbG9yczogSVByb2dyZXNzQ29sb3JbXSkge1xuICAgICAgICBjb25zdCBwcm9ncmVzc0NvbG9yID0gcHJvZ3Jlc3NDb2xvcnMuZmluZCgocHJvZ3Jlc3M6IElQcm9ncmVzc0NvbG9yKSA9PiBwcm9ncmVzcy5wZXJjZW50ID09PSBhY3R1YWxDb3VudCk7XG4gICAgICAgIGlmIChwcm9ncmVzc0NvbG9yKSB7XG4gICAgICAgICAgICBTdmdUYWdzSGVscGVyLnNldEF0dHJpYnV0ZXMoYXJjLCB7XG4gICAgICAgICAgICAgICAgc3R5bGU6IGBzdHJva2U6ICR7cHJvZ3Jlc3NDb2xvci5jb2xvcn1gLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gZGVmYXVsdE1zXG4gICAgICogQHBhcmFtIGVuZEFuZ2xlR3JhZGVcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBnZXRNaWxsaXNlY29uZHMoZGVmYXVsdE1zOiBudW1iZXIsIGVuZEFuZ2xlR3JhZGU6IG51bWJlcikge1xuICAgICAgICBsZXQgbXMgPSBkZWZhdWx0TXMgPyBkZWZhdWx0TXMgOiA1MDtcblxuICAgICAgICBpZiAoZW5kQW5nbGVHcmFkZSA8PSAxODApIHtcbiAgICAgICAgICAgIG1zID0gbXMgLyAzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1zO1xuICAgIH1cbn1cbiIsImltcG9ydCB7SUF0dHJpYnV0ZXN9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2lhdHRyaWJ1dGVzXCI7XG5pbXBvcnQge0lDYWxjdWxhdGlvblBhcmFtc30gZnJvbSBcIi4uL2ludGVyZmFjZXMvaWNhbGN1bGF0aW9uLXBhcmFtc1wiO1xuXG5jbGFzcyBTdmdUYWdzSGVscGVyIHtcbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBAcGFyYW0gZWxlbWVudCBTVkdFbGVtZW50XG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZXMgSUF2YWlsYWJsZU9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBzZXRBdHRyaWJ1dGVzKGVsZW1lbnQ6IEVsZW1lbnQsIGF0dHJpYnV0ZXM6IElBdHRyaWJ1dGVzKTogdm9pZCB7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGF0dHJpYnV0ZXMpKSB7XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSBlbGVtZW50XG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZXNcbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBzZXRBdHRyaWJ1dGVOYW1lc3BhY2UoZWxlbWVudDogRWxlbWVudCwgYXR0cmlidXRlczogSUF0dHJpYnV0ZXMpOiB2b2lkIHtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoYXR0cmlidXRlcykpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlTlMobnVsbCwga2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gRm9yIGVhc2llciBoYW5kbGluZyBwb2xhciBjb29yZGluYXRlcyBhcmUgdXNlZCBhbmQgY29udmVydGVkIHRvIGNhcnRlc2lhbiBjb29yZGluYXRlc1xuICAgICAqIEBwYXJhbSBjZW50ZXJYXG4gICAgICogQHBhcmFtIGNlbnRlcllcbiAgICAgKiBAcGFyYW0gcmFkaXVzXG4gICAgICogQHBhcmFtIGFuZ2xlSW5EZWdyZWVzXG4gICAgICogQHJldHVybnMgb2JqZWN0XG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBwb2xhclRvQ2FydGVzaWFuKFxuICAgICAgICBjZW50ZXJYOiBudW1iZXIsXG4gICAgICAgIGNlbnRlclk6IG51bWJlcixcbiAgICAgICAgcmFkaXVzOiBudW1iZXIsXG4gICAgICAgIGFuZ2xlSW5EZWdyZWVzOiBudW1iZXIsXG4gICAgKTogSUNhbGN1bGF0aW9uUGFyYW1zIHtcbiAgICAgICAgY29uc3QgYW5nbGVJblJhZGlhbnMgPSAoYW5nbGVJbkRlZ3JlZXMgLSA5MCkgKiBNYXRoLlBJIC8gMTgwLjA7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IGNlbnRlclggKyAocmFkaXVzICogTWF0aC5jb3MoYW5nbGVJblJhZGlhbnMpKSxcbiAgICAgICAgICAgIHk6IGNlbnRlclkgKyAocmFkaXVzICogTWF0aC5zaW4oYW5nbGVJblJhZGlhbnMpKSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0aGUgc3RyaW5nIGZvciB0aGUgZGF0YSBhdHRyaWJ1dGUgaW4gdGhlIHBhdGggdGFnXG4gICAgICogQHBhcmFtIHhcbiAgICAgKiBAcGFyYW0geVxuICAgICAqIEBwYXJhbSByYWRpdXNcbiAgICAgKiBAcGFyYW0gc3RhcnRBbmdsZVxuICAgICAqIEBwYXJhbSBlbmRBbmdsZVxuICAgICAqIEByZXR1cm5zIHN0cmluZ1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZGVzY3JpYmVBcmMoeDogbnVtYmVyLCB5OiBudW1iZXIsIHJhZGl1czogbnVtYmVyLCBzdGFydEFuZ2xlOiBudW1iZXIsIGVuZEFuZ2xlOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBzdGFydCA9IFN2Z1RhZ3NIZWxwZXIucG9sYXJUb0NhcnRlc2lhbih4LCB5LCByYWRpdXMsIGVuZEFuZ2xlKTtcbiAgICAgICAgY29uc3QgZW5kID0gU3ZnVGFnc0hlbHBlci5wb2xhclRvQ2FydGVzaWFuKHgsIHksIHJhZGl1cywgc3RhcnRBbmdsZSk7XG4gICAgICAgIGNvbnN0IGxhcmdlQXJjRmxhZyA9IGVuZEFuZ2xlIC0gc3RhcnRBbmdsZSA8PSAxODAgPyBcIjBcIiA6IFwiMVwiO1xuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBcIk1cIiwgc3RhcnQueCwgc3RhcnQueSxcbiAgICAgICAgICAgIFwiQVwiLCByYWRpdXMsIHJhZGl1cywgMCwgbGFyZ2VBcmNGbGFnLCAwLCBlbmQueCwgZW5kLnksXG4gICAgICAgIF0uam9pbihcIiBcIik7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTdmdUYWdzSGVscGVyO1xuIiwiaW1wb3J0IFwiLi4vc3R5bGVzL21haW4uc2Nzc1wiO1xuaW1wb3J0IENpcmNsZSBmcm9tIFwiLi9iYXNlLWNsYXNzZXMvY2lyY2xlXCI7XG5pbXBvcnQge0lBdmFpbGFibGVPcHRpb25zfSBmcm9tIFwiLi9pbnRlcmZhY2VzL2lhdmFpbGFibGUtb3B0aW9uc1wiO1xuLyoqXG4gKiBAZGVzY3JpcHRpb24gR2V0cyBjYWxsZWQgZnJvbSBodG1sIHNjcmlwdCB0YWdcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcmV0dXJucyB2b2lkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuZXdDaXJjbGUob3B0aW9uczogSUF2YWlsYWJsZU9wdGlvbnMpIHtcbiAgICBjb25zdCBjaXJjbGUgPSBuZXcgQ2lyY2xlKCk7XG4gICAgcmV0dXJuIGNpcmNsZS5uZXdDaXJjbGUob3B0aW9ucyk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9