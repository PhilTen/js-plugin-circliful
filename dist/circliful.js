var circliful=function(t){var e={};function i(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(r,s,function(e){return t[e]}.bind(null,s));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s="./src/index.ts")}({"./src/api.ts":function(t,e,i){"use strict";i.r(e),i.d(e,"Api",(function(){return n}));var r=i("./src/base-class/circle.ts"),s=i("./src/helper/object-helper.ts"),n=function(){function t(t){this.options=t}return t.prototype.update=function(t){var e=this,i=document.getElementById("svg-"+this.options.id);Array.isArray(t)?t.forEach((function(t){return e.updateType(t.type,t.value)})):this.updateType(t.type,t.value),i.innerHTML="",r.default.initializeCircleType(this.options)},t.prototype.updateType=function(t,e){switch(t){case"percent":this.options.percent=Number(e);break;case"point":this.options.point=Boolean(e);break;case"animation":this.options.animation=Boolean(e);break;case"pointSize":this.options.pointSize=Number(e);break;case"animationStep":this.options.animationStep=Number(e);break;case"strokeGradient":this.options.strokeGradient=e;break;case"icon":this.options.icon=String(e);break;case"text":this.options.text=String(e);break;case"textReplacesPercentage":this.options.textReplacesPercentage=Boolean(e);break;case"foregroundCircleWidth":this.options.foregroundCircleWidth=Number(e);break;case"backgroundCircleWidth":this.options.backgroundCircleWidth=Number(e);break;case"additionalCssClasses":this.options.additionalCssClasses=e;break;case"progressColors":this.options.progressColors=e}},t.prototype.get=function(t){return s.default.extractPropertyFromObject(this.options,t)},t}()},"./src/base-class/base-circle.ts":function(t,e,i){"use strict";i.r(e),i.d(e,"BaseCircle",(function(){return n}));var r=i("./src/base-class/svg-tags.ts"),s=function(){return(s=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)},n=function(){function t(){this.tags=[]}return t.prototype.animateInView=function(){var t=this;this.options.animateInView&&window.addEventListener("scroll",(function(){t.checkAnimation(t.options.id)}))},t.prototype.checkAnimation=function(t){var e=this,i=document.getElementById(t),r=document.getElementById("arc-"+t),s=this.isElementInViewport(i);!i.classList.contains("reanimated")&&s&&(i.classList.add("reanimated"),setTimeout((function(){return e.animate(r)}),250))},t.prototype.isElementInViewport=function(t){var e=t.offsetTop,i=window.scrollY,r=window.innerHeight;return i<e&&i+r>e},t.prototype.drawContainer=function(t){var e=this.getViewBoxParams(),i=e.minX,n=e.minY,o=e.width,a=e.height,c=r.default.addSvg(s({width:"100%",height:"100%",viewBox:i+" "+n+" "+o+" "+a,id:"svg-"+this.options.id,preserveAspectRatio:"xMinYMin meet"},t));this.tags.push({element:c,parentId:this.options.id})},t.prototype.getViewBoxParams=function(){var t=this.options,e=t.foregroundCircleWidth,i=t.backgroundCircleWidth,r=i;e>i&&(r=e);var s=this.size.width,n=this.size.height;return(e>5||i>5)&&(s=this.size.width+1.5*r,n=this.size.height+1.5*r),{minX:0,minY:0,width:s,height:n}},t.prototype.append=function(){this.tags.forEach((function(t){document.getElementById(t.parentId).appendChild(t.element)}))},t.prototype.initialize=function(t,e){this.options=t,this.size=e},t}()},"./src/base-class/circle-factory.ts":function(t,e,i){"use strict";i.r(e),i.d(e,"CircleFactory",(function(){return o}));var r=i("./src/circle-type/half-circle.ts"),s=i("./src/circle-type/plain-circle.ts"),n=i("./src/circle-type/simple-circle.ts"),o=function(){function t(){}return t.create=function(t){var e;switch(t.toLowerCase()){case"half":e=new r.default;break;case"plain":e=new s.default;break;case"simple":e=new n.default;break;default:e=new n.default}return e},t}()},"./src/base-class/circle.ts":function(t,e,i){"use strict";i.r(e);var r=i("./src/api.ts"),s=i("./src/base-class/circle-factory.ts"),n=i("./src/base-class/options.ts"),o=function(){function t(){}return t.getParentSize=function(t){var e=document.getElementById(t),i=e.clientWidth>0?e.clientWidth:200,r=e.clientHeight>0?e.clientHeight:200;return{maxSize:i>r?r:i,height:r,width:i}},t.initializeCircleType=function(e,i){void 0===i&&(i=!1);var r=t.getParentSize(e.id),o=s.CircleFactory.create(e.type),a=(new n.default).mergeOptions(e,i);return o.initialize(a,r),o.drawCircle(),o},t.prototype.newCircle=function(e){return t.initializeCircleType(e),new r.Api(e)},t.prototype.newCircleWithDataSet=function(e,i){var s={id:e,type:i,percent:1};return t.initializeCircleType(s,!0),new r.Api(s)},t}();e.default=o},"./src/base-class/options.ts":function(t,e,i){"use strict";i.r(e);var r=function(){return(r=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)},s=function(){function t(){this.defaultOptions={point:!1,pointSize:60,percent:75,foregroundCircleWidth:5,backgroundCircleWidth:15,animation:!0,animationStep:1,noPercentageSign:!1,animateInView:!1,strokeLinecap:"butt",type:"SimpleCircle",textReplacesPercentage:!1}}return t.getDataAttributes=function(t){var e=document.getElementById(t.id),i={percent:t.percent};for(var r in e.dataset)if(e.dataset.hasOwnProperty(r)){var s=e.dataset[r];"false"===s||"true"===s?i[r]="true"===s:Number(s)?i[r]=Number(s):i[r]=s}return i},t.prototype.mergeOptions=function(e,i){void 0===i&&(i=!1);var s=r(r({},this.defaultOptions),e);if(i){var n=t.getDataAttributes(e);s=r(r({},s),n)}return s},t}();e.default=s},"./src/base-class/svg-tags.ts":function(t,e,i){"use strict";i.r(e);var r=i("./src/helper/object-helper.ts"),s=i("./src/helper/svg-tags-helper.ts"),n=function(){function t(){}return t.addSvg=function(e){var i=document.createElementNS(t.namespaceURI,"svg");return e.class="circle-container "+r.default.extractPropertyFromObject(e,"class"),s.default.setAttributes(i,e),i},t.addCircle=function(e){var i=document.createElementNS(t.namespaceURI,"circle");return s.default.setAttributes(i,e),i},t.addArc=function(e){var i=document.createElementNS(t.namespaceURI,"path");return s.default.setAttributes(i,e),i},t.addText=function(e){var i=document.createElementNS(t.namespaceURI,"text");return i.setAttributeNS(null,"text-anchor","middle"),s.default.setAttributes(i,e),i},t.addDefs=function(e){var i=document.createElementNS(t.namespaceURI,"defs"),r=document.createElementNS(t.namespaceURI,"linearGradient");s.default.setAttributes(r,{id:"linearGradient"});var n=document.createElementNS(t.namespaceURI,"stop"),o={offset:"0","stop-color":e.gradientStart};s.default.setAttributes(n,o);var a=document.createElementNS(t.namespaceURI,"stop"),c={offset:"1","stop-color":e.gradientEnd};return s.default.setAttributes(a,c),r.appendChild(n),r.appendChild(a),i.appendChild(r),i},t.namespaceURI="http://www.w3.org/2000/svg",t}();e.default=n},"./src/circle-type/half-circle.ts":function(t,e,i){"use strict";i.r(e);var r,s=i("./src/base-class/svg-tags.ts"),n=i("./src/helper/object-helper.ts"),o=i("./src/helper/style-helper.ts"),a=i("./src/helper/svg-tags-helper.ts"),c=i("./src/circle-type/simple-circle.ts"),l=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.drawCircle=function(){var t={class:n.default.extractPropertyFromObject(this.additionalCssClasses,"svgContainer")};this.drawContainer(t),this.drawBackgroundCircle(),this.drawForegroundCircle(),this.drawText(),this.append()},e.prototype.drawBackgroundCircle=function(){var t=n.default.extractPropertyFromObject(this.additionalCssClasses,"backgroundCircle"),e=s.default.addArc({id:"bg-arc-"+this.options.id,d:a.default.describeArc(this.coordinates.x,this.coordinates.y,this.radius,270,90),class:"background-circle "+t,"stroke-width":this.options.backgroundCircleWidth});this.tags.push({element:e,parentId:"svg-"+this.options.id})},e.prototype.drawForegroundCircle=function(){var t=1.8*this.options.percent,e=n.default.extractPropertyFromObject(this.additionalCssClasses,"foregroundCircle"),i=s.default.addArc({id:"arc-"+this.options.id,class:"foreground-circle "+e,d:a.default.describeArc(this.coordinates.x,this.coordinates.y,this.radius,0,t),transform:"rotate(-90, "+this.coordinates.x+", "+this.coordinates.y+")","stroke-width":this.options.foregroundCircleWidth,"stroke-linecap":this.options.strokeLinecap});this.options.animation&&this.animate(i),this.tags.push({element:i,parentId:"svg-"+this.options.id})},e.prototype.animate=function(t){o.StyleHelper.animateArc({arc:t,arcParams:{percent:this.options.percent,x:this.coordinates.x,y:this.coordinates.y,radius:this.radius,endAngleGrade:180},animationStep:this.options.animationStep,progressColors:this.options.progressColors},this.options.onAnimationEnd)},e}(c.default);e.default=d},"./src/circle-type/plain-circle.ts":function(t,e,i){"use strict";i.r(e);var r,s=i("./src/base-class/base-circle.ts"),n=i("./src/base-class/svg-tags.ts"),o=i("./src/helper/object-helper.ts"),a=i("./src/helper/style-helper.ts"),c=i("./src/helper/svg-tags-helper.ts"),l=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coordinates={x:0,y:0},e.additionalCssClasses={},e}return l(e,t),e.prototype.initialize=function(e,i){t.prototype.initialize.call(this,e,i);var r=this.size.maxSize;this.coordinates={x:r/2,y:r/2},this.radius=r/2.2,this.options.additionalCssClasses&&(this.additionalCssClasses=this.options.additionalCssClasses),this.animateInView()},e.prototype.drawCircle=function(){this.drawContainer(),this.drawPlainCircle(),this.append()},e.prototype.drawPlainCircle=function(){var t=3.6*this.options.percent,e=o.default.extractPropertyFromObject(this.additionalCssClasses,"foregroundCircle"),i=n.default.addArc({id:"arc-"+this.options.id,class:"foreground-circle "+e,d:c.default.describeArc(this.coordinates.x,this.coordinates.y,this.radius,0,t),"stroke-width":this.options.foregroundCircleWidth,"stroke-linecap":this.options.strokeLinecap});this.options.animation&&this.animate(i),this.tags.push({element:i,parentId:"svg-"+this.options.id})},e.prototype.animate=function(t){a.StyleHelper.animateArc({arc:t,arcParams:{percent:this.options.percent,x:this.coordinates.x,y:this.coordinates.y,radius:this.radius},animationStep:this.options.animationStep,progressColors:this.options.progressColors},this.options.onAnimationEnd)},e}(s.BaseCircle);e.default=d},"./src/circle-type/simple-circle.ts":function(t,e,i){"use strict";i.r(e);var r,s=i("./src/base-class/base-circle.ts"),n=i("./src/base-class/svg-tags.ts"),o=i("./src/helper/object-helper.ts"),a=i("./src/helper/style-helper.ts"),c=i("./src/helper/svg-tags-helper.ts"),l=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coordinates={x:0,y:0},e.additionalCssClasses={},e}return l(e,t),e.prototype.initialize=function(e,i){t.prototype.initialize.call(this,e,i);var r=this.size.maxSize;this.coordinates={x:r/2,y:r/2},this.radius=r/2.2,this.options.additionalCssClasses&&(this.additionalCssClasses=this.options.additionalCssClasses),this.animateInView()},e.prototype.drawCircle=function(){var t={class:o.default.extractPropertyFromObject(this.additionalCssClasses,"svgContainer")};this.drawContainer(t),this.options.strokeGradient&&this.drawLinearGradient(),this.drawBackgroundCircle(),this.drawForegroundCircle(),this.options.point&&this.drawPoint(),this.options.icon&&this.drawIcon(),this.drawText(),!this.options.textReplacesPercentage&&this.options.text&&this.drawInfoText(),this.append()},e.prototype.drawBackgroundCircle=function(){var t=o.default.extractPropertyFromObject(this.additionalCssClasses,"backgroundCircle"),e=n.default.addCircle({id:"circle-"+this.options.id,class:"background-circle "+t,cx:String(this.coordinates.x),cy:String(this.coordinates.y),r:String(this.radius),"stroke-width":this.options.backgroundCircleWidth});this.tags.push({element:e,parentId:"svg-"+this.options.id})},e.prototype.drawPoint=function(){var t=this.radius/100*this.options.pointSize,e=o.default.extractPropertyFromObject(this.additionalCssClasses,"point"),i=n.default.addCircle({id:"point-"+this.options.id,class:"point-circle "+e,cx:String(this.coordinates.x),cy:String(this.coordinates.y),r:String(t)});this.tags.push({element:i,parentId:"svg-"+this.options.id})},e.prototype.drawForegroundCircle=function(){var t=3.6*this.options.percent,e=o.default.extractPropertyFromObject(this.additionalCssClasses,"foregroundCircle"),i={id:"arc-"+this.options.id,class:"foreground-circle "+e,d:c.default.describeArc(this.coordinates.x,this.coordinates.y,this.radius,0,t),"stroke-width":this.options.foregroundCircleWidth,"stroke-linecap":this.options.strokeLinecap};this.options.strokeGradient&&(i.stroke="url(#linearGradient)",i.class="foreground-circle-without-stroke-color "+e);var r=n.default.addArc(i);this.options.animation&&this.animate(r),this.tags.push({element:r,parentId:"svg-"+this.options.id})},e.prototype.animate=function(t,e){a.StyleHelper.animateArc({arc:t,arcParams:{percent:e||this.options.percent,x:this.coordinates.x,y:this.coordinates.y,radius:this.radius},animationStep:this.options.animationStep,progressColors:this.options.progressColors},this.options.onAnimationEnd)},e.prototype.drawIcon=function(){var t=this.options.icon,e=o.default.extractPropertyFromObject(this.additionalCssClasses,"icon"),i=n.default.addText({id:"text-"+this.options.id,x:String(this.coordinates.x),y:String(this.coordinates.y-25),class:"circle-icon fa "+e});i.innerHTML="&#x"+t+";",this.tags.push({element:i,parentId:"svg-"+this.options.id})},e.prototype.drawText=function(){var t=o.default.extractPropertyFromObject(this.additionalCssClasses,"text"),e=n.default.addText({id:"text-"+this.options.id,x:String(this.coordinates.x),y:String(this.coordinates.y),class:"circle-text "+t}),i=this.options.noPercentageSign?"":"%",r=""+this.options.percent+i;this.options.textReplacesPercentage&&this.options.text&&(r=this.options.text),e.textContent=r,this.tags.push({element:e,parentId:"svg-"+this.options.id})},e.prototype.drawInfoText=function(){var t=o.default.extractPropertyFromObject(this.additionalCssClasses,"infoText"),e=n.default.addText({id:"text-"+this.options.id,x:String(this.coordinates.x),y:String(this.coordinates.y+20),class:"circle-info-text "+t});e.textContent=this.options.text,this.tags.push({element:e,parentId:"svg-"+this.options.id})},e.prototype.drawLinearGradient=function(){var t={};t.gradientStart=this.options.strokeGradient[0],t.gradientEnd=this.options.strokeGradient[1];var e=n.default.addDefs(t);this.tags.push({element:e,parentId:"svg-"+this.options.id})},e}(s.BaseCircle);e.default=d},"./src/helper/object-helper.ts":function(t,e,i){"use strict";i.r(e);var r=function(){function t(){}return t.extractPropertyFromObject=function(t,e){var i;return t.hasOwnProperty(e)&&t[e]&&(i=t[e]),i},t}();e.default=r},"./src/helper/style-helper.ts":function(t,e,i){"use strict";i.r(e),i.d(e,"StyleHelper",(function(){return s}));var r=i("./src/helper/svg-tags-helper.ts"),s=function(){function t(){}return t.animateArc=function(e,i){var s=e.arc,n=e.arcParams,o=e.animationStep,a=e.progressColors,c=n.startAngle?n.startAngle:0,l=n.endAngleGrade?n.endAngleGrade:360,d=this.getMilliseconds(n.ms,n.endAngleGrade),p=Array.isArray(a)&&a.length>0,u=1,h=setInterval((function(e,s,a){var d=l/100*u;r.default.setAttributes(e,{d:r.default.describeArc(n.x,n.y,n.radius,c,d)}),p&&t.updateCircleColor(u,e,a),(u+=o)>s&&(clearInterval(h),"function"==typeof i&&i())}),d,s,n.percent,a)},t.updateCircleColor=function(t,e,i){var s=i.find((function(e){return e.percent===t}));s&&r.default.setAttributes(e,{style:"stroke: "+s.color})},t.getMilliseconds=function(t,e){var i=t||50;return e<=180&&(i/=3),i},t}()},"./src/helper/svg-tags-helper.ts":function(t,e,i){"use strict";i.r(e);var r=function(){function t(){}return t.setAttributes=function(t,e){for(var i=0,r=Object.entries(e);i<r.length;i++){var s=r[i],n=s[0],o=s[1];t.setAttribute(n,o)}},t.setAttributeNamespace=function(t,e){for(var i=0,r=Object.entries(e);i<r.length;i++){var s=r[i],n=s[0],o=s[1];t.setAttributeNS(null,n,o)}},t.polarToCartesian=function(t,e,i,r){var s=(r-90)*Math.PI/180;return{x:t+Math.round(i*Math.cos(s)+Number.EPSILON),y:e+Math.round(i*Math.sin(s)+Number.EPSILON)}},t.describeArc=function(e,i,r,s,n){var o=t.polarToCartesian(e,i,r,n),a=t.polarToCartesian(e,i,r,s),c=n-s<=180?"0":"1";return["M",o.x,o.y,"A",r,r,0,c,0,a.x,a.y].join(" ")},t}();e.default=r},"./src/index.ts":function(t,e,i){"use strict";i.r(e),i.d(e,"newCircle",(function(){return s})),i.d(e,"newCircleWithDataSet",(function(){return n}));i("./style/main.scss");var r=i("./src/base-class/circle.ts");function s(t){return(new r.default).newCircle(t)}function n(t,e){return(new r.default).newCircleWithDataSet(t,e)}},"./style/main.scss":function(t,e,i){}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaXJjbGlmdWwvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2FwaS50cyIsIndlYnBhY2s6Ly9jaXJjbGlmdWwvLi9zcmMvYmFzZS1jbGFzcy9iYXNlLWNpcmNsZS50cyIsIndlYnBhY2s6Ly9jaXJjbGlmdWwvLi9zcmMvYmFzZS1jbGFzcy9jaXJjbGUtZmFjdG9yeS50cyIsIndlYnBhY2s6Ly9jaXJjbGlmdWwvLi9zcmMvYmFzZS1jbGFzcy9jaXJjbGUudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2Jhc2UtY2xhc3Mvb3B0aW9ucy50cyIsIndlYnBhY2s6Ly9jaXJjbGlmdWwvLi9zcmMvYmFzZS1jbGFzcy9zdmctdGFncy50cyIsIndlYnBhY2s6Ly9jaXJjbGlmdWwvLi9zcmMvY2lyY2xlLXR5cGUvaGFsZi1jaXJjbGUudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2NpcmNsZS10eXBlL3BsYWluLWNpcmNsZS50cyIsIndlYnBhY2s6Ly9jaXJjbGlmdWwvLi9zcmMvY2lyY2xlLXR5cGUvc2ltcGxlLWNpcmNsZS50cyIsIndlYnBhY2s6Ly9jaXJjbGlmdWwvLi9zcmMvaGVscGVyL29iamVjdC1oZWxwZXIudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2hlbHBlci9zdHlsZS1oZWxwZXIudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2hlbHBlci9zdmctdGFncy1oZWxwZXIudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwib3B0aW9ucyIsInRoaXMiLCJ1cGRhdGUiLCJwYXJhbWV0ZXIiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlkIiwiQXJyYXkiLCJpc0FycmF5IiwiZm9yRWFjaCIsInVwZGF0ZVR5cGUiLCJ0eXBlIiwiaW5uZXJIVE1MIiwiaW5pdGlhbGl6ZUNpcmNsZVR5cGUiLCJwZXJjZW50IiwiTnVtYmVyIiwicG9pbnQiLCJCb29sZWFuIiwiYW5pbWF0aW9uIiwicG9pbnRTaXplIiwiYW5pbWF0aW9uU3RlcCIsInN0cm9rZUdyYWRpZW50IiwiaWNvbiIsIlN0cmluZyIsInRleHQiLCJ0ZXh0UmVwbGFjZXNQZXJjZW50YWdlIiwiZm9yZWdyb3VuZENpcmNsZVdpZHRoIiwiYmFja2dyb3VuZENpcmNsZVdpZHRoIiwiYWRkaXRpb25hbENzc0NsYXNzZXMiLCJwcm9ncmVzc0NvbG9ycyIsImV4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QiLCJ0YWdzIiwiYW5pbWF0ZUluVmlldyIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJjaGVja0FuaW1hdGlvbiIsInN2Z1BhcmVudElkIiwiY2lyY2xlQ29udGFpbmVyIiwiZm9yZWdyb3VuZENpcmNsZSIsImluVmlldyIsImlzRWxlbWVudEluVmlld3BvcnQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImFkZCIsInNldFRpbWVvdXQiLCJhbmltYXRlIiwib2Zmc2V0VG9wIiwic2Nyb2xsUG9zaXRpb25Ub3AiLCJzY3JvbGxZIiwid2luZG93SGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJkcmF3Q29udGFpbmVyIiwiYWRkaXRpb25hbEF0dHJpYnV0ZXMiLCJtaW5YIiwibWluWSIsIndpZHRoIiwiaGVpZ2h0IiwiY29udGFpbmVyIiwiYWRkU3ZnIiwidmlld0JveCIsInByZXNlcnZlQXNwZWN0UmF0aW8iLCJwdXNoIiwicGFyZW50SWQiLCJnZXRWaWV3Qm94UGFyYW1zIiwiY2lyY2xlV2lkdGgiLCJzaXplIiwiYXBwZW5kIiwidGFnIiwiYXBwZW5kQ2hpbGQiLCJpbml0aWFsaXplIiwiY2lyY2xlQ2xhc3MiLCJ0b0xvd2VyQ2FzZSIsImdldFBhcmVudFNpemUiLCJib3giLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsIm1heFNpemUiLCJjaGVja0RhdGFBdHRyaWJ1dGVzIiwiQ2lyY2xlIiwiY2lyY2xlIiwibWVyZ2VkT3B0aW9ucyIsIm1lcmdlT3B0aW9ucyIsImRyYXdDaXJjbGUiLCJuZXdDaXJjbGUiLCJuZXdDaXJjbGVXaXRoRGF0YVNldCIsImRlZmF1bHRPcHRpb25zIiwibm9QZXJjZW50YWdlU2lnbiIsInN0cm9rZUxpbmVjYXAiLCJnZXREYXRhQXR0cmlidXRlcyIsImRhdGFPcHRpb25zIiwiZGF0YXNldCIsIk9wdGlvbnMiLCJhdHRyaWJ1dGVzIiwic3ZnIiwiY3JlYXRlRWxlbWVudE5TIiwiU3ZnVGFncyIsIm5hbWVzcGFjZVVSSSIsImNsYXNzIiwic2V0QXR0cmlidXRlcyIsImFkZENpcmNsZSIsImFkZEFyYyIsImFyYyIsImFkZFRleHQiLCJzZXRBdHRyaWJ1dGVOUyIsImFkZERlZnMiLCJkZWZzIiwibGluZWFyR3JhZGllbnQiLCJmaXJzdFN0b3AiLCJmaXJzdFN0b3BBdHRyaWJ1dGVzIiwiZ3JhZGllbnRTdGFydCIsInNlY29uZFN0b3AiLCJzZWNvbmRTdG9wQXR0cmlidXRlcyIsImdyYWRpZW50RW5kIiwiYWRkaXRpb25hbENvbnRhaW5lckF0dHJpYnV0ZXMiLCJkcmF3QmFja2dyb3VuZENpcmNsZSIsImRyYXdGb3JlZ3JvdW5kQ2lyY2xlIiwiZHJhd1RleHQiLCJjdXN0b21Dc3NDbGFzcyIsImRlc2NyaWJlQXJjIiwiY29vcmRpbmF0ZXMiLCJ4IiwieSIsInJhZGl1cyIsImVuZEFuZ2xlIiwiYW5pbWF0ZUFyYyIsImFyY1BhcmFtcyIsImVuZEFuZ2xlR3JhZGUiLCJvbkFuaW1hdGlvbkVuZCIsImRyYXdQbGFpbkNpcmNsZSIsImRyYXdMaW5lYXJHcmFkaWVudCIsImRyYXdQb2ludCIsImRyYXdJY29uIiwiZHJhd0luZm9UZXh0IiwiY3giLCJjeSIsInN0cm9rZSIsInVwZGF0ZWRQZXJjZW50IiwicGVyY2VudGFnZVNpZ24iLCJjb250ZW50IiwidGV4dENvbnRlbnQiLCJwYXJhbXMiLCJjYWxsYmFjayIsInN0YXJ0QW5nbGUiLCJtcyIsImdldE1pbGxpc2Vjb25kcyIsImhhc1Byb2dyZXNzQ29sb3IiLCJsZW5ndGgiLCJjb3VudCIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJTdHlsZUhlbHBlciIsInVwZGF0ZUNpcmNsZUNvbG9yIiwiY2xlYXJJbnRlcnZhbCIsImFjdHVhbENvdW50IiwicHJvZ3Jlc3NDb2xvciIsImZpbmQiLCJwcm9ncmVzcyIsInN0eWxlIiwiY29sb3IiLCJkZWZhdWx0TXMiLCJlbnRyaWVzIiwic2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlTmFtZXNwYWNlIiwicG9sYXJUb0NhcnRlc2lhbiIsImNlbnRlclgiLCJjZW50ZXJZIiwiYW5nbGVJbkRlZ3JlZXMiLCJhbmdsZUluUmFkaWFucyIsIk1hdGgiLCJQSSIsInJvdW5kIiwiY29zIiwiRVBTSUxPTiIsInNpbiIsInN0YXJ0IiwiU3ZnVGFnc0hlbHBlciIsImVuZCIsImxhcmdlQXJjRmxhZyIsImpvaW4iXSwibWFwcGluZ3MiOiIwQkFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFB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TSxJQUFNLElBRTFELE1BQU8sQ0FDSCxJQUFLZ0MsRUFBTXRELEVBQUdzRCxFQUFNckQsRUFDcEIsSUFBS0MsRUFBUUEsRUFBUSxFQUFHdUQsRUFBYyxFQUFHRCxFQUFJeEQsRUFBR3dELEVBQUl2RCxHQUN0RHlELEtBQUssTUFFZixFQWxFQSxHQW9FZSxhLDhDQ3ZFZixtS0FTTyxTQUFTL0YsRUFBVXBGLEdBRXRCLE9BRGUsSUFBSSxXQUNMb0YsVUFBVXBGLEdBUXJCLFNBQVNxRixFQUFxQnRCLEVBQWtCbkQsR0FFbkQsT0FEZSxJQUFJLFdBQ0x5RSxxQkFBcUJ0QixFQUFVbkQsSyIsImZpbGUiOiJjaXJjbGlmdWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9kaXN0L1wiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NyYy9pbmRleC50c1wiKTtcbiIsImltcG9ydCBDaXJjbGUgZnJvbSBcIi4vYmFzZS1jbGFzcy9jaXJjbGVcIjtcbmltcG9ydCBPYmplY3RIZWxwZXIgZnJvbSBcIi4vaGVscGVyL29iamVjdC1oZWxwZXJcIjtcbmltcG9ydCB7SUF2YWlsYWJsZU9wdGlvbnN9IGZyb20gXCIuL2ludGVyZmFjZS9pYXZhaWxhYmxlLW9wdGlvbnNcIjtcbmltcG9ydCB7SVR5cGV9IGZyb20gXCIuL2ludGVyZmFjZS9pdHlwZVwiO1xuXG5leHBvcnQgY2xhc3MgQXBpIHtcbiAgICBwdWJsaWMgcmVhZG9ubHkgb3B0aW9uczogSUF2YWlsYWJsZU9wdGlvbnM7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBJQXZhaWxhYmxlT3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBVcGRhdGUgb3B0aW9ucyBhbmQgcmVyZW5kZXIgY2lyY2xlXG4gICAgICogQHBhcmFtIHBhcmFtZXRlclxuICAgICAqL1xuICAgIHB1YmxpYyB1cGRhdGUocGFyYW1ldGVyOiBJVHlwZSB8IElUeXBlW10pIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBzdmctJHt0aGlzLm9wdGlvbnMuaWR9YCk7XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyYW1ldGVyKSkge1xuICAgICAgICAgICAgcGFyYW1ldGVyLmZvckVhY2goKHApID0+IHRoaXMudXBkYXRlVHlwZShwLnR5cGUsIHAudmFsdWUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVHlwZShwYXJhbWV0ZXIudHlwZSwgcGFyYW1ldGVyLnZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgQ2lyY2xlLmluaXRpYWxpemVDaXJjbGVUeXBlKHRoaXMub3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIFVwZGF0ZSBvcHRpb25zIGJ5IGdpdmVuIHR5cGVcbiAgICAgKiBAcGFyYW0gdHlwZVxuICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAqL1xuICAgIHByaXZhdGUgdXBkYXRlVHlwZSh0eXBlOiBzdHJpbmcsIHZhbHVlOiBJVHlwZVtcInZhbHVlXCJdKTogdm9pZCB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcInBlcmNlbnRcIjpcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMucGVyY2VudCA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicG9pbnRcIjpcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMucG9pbnQgPSBCb29sZWFuKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJhbmltYXRpb25cIjpcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uID0gQm9vbGVhbih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicG9pbnRTaXplXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnBvaW50U2l6ZSA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYW5pbWF0aW9uU3RlcFwiOlxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5hbmltYXRpb25TdGVwID0gTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzdHJva2VHcmFkaWVudFwiOlxuICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zdHJva2VHcmFkaWVudCA9IHZhbHVlIGFzIGFueTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJpY29uXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmljb24gPSBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMudGV4dCA9IFN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwidGV4dFJlcGxhY2VzUGVyY2VudGFnZVwiOlxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy50ZXh0UmVwbGFjZXNQZXJjZW50YWdlID0gQm9vbGVhbih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZm9yZWdyb3VuZENpcmNsZVdpZHRoXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmZvcmVncm91bmRDaXJjbGVXaWR0aCA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYmFja2dyb3VuZENpcmNsZVdpZHRoXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmJhY2tncm91bmRDaXJjbGVXaWR0aCA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYWRkaXRpb25hbENzc0NsYXNzZXNcIjpcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuYWRkaXRpb25hbENzc0NsYXNzZXMgPSB2YWx1ZSBhcyBhbnk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicHJvZ3Jlc3NDb2xvcnNcIjpcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMucHJvZ3Jlc3NDb2xvcnMgPSB2YWx1ZSBhcyBhbnk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gR2V0IHByb3BlcnR5IGZyb20gb2JqZWN0XG4gICAgICogQHBhcmFtIHR5cGVcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0KHR5cGU6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gT2JqZWN0SGVscGVyLmV4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QodGhpcy5vcHRpb25zLCB0eXBlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge0lBdmFpbGFibGVPcHRpb25zfSBmcm9tIFwiLi4vaW50ZXJmYWNlL2lhdmFpbGFibGUtb3B0aW9uc1wiO1xuaW1wb3J0IHtJU2l6ZX0gZnJvbSBcIi4uL2ludGVyZmFjZS9pc2l6ZVwiO1xuaW1wb3J0IHtJVGFnfSBmcm9tIFwiLi4vaW50ZXJmYWNlL2l0YWdcIjtcbmltcG9ydCB7SVZpZXdCb3hBdHRyaWJ1dGVzfSBmcm9tIFwiLi4vaW50ZXJmYWNlL2l2aWV3LWJveC1hdHRyaWJ1dGVzXCI7XG5pbXBvcnQgU3ZnVGFncyBmcm9tIFwiLi9zdmctdGFnc1wiO1xuXG4vKipcbiAqIEJhc2UgZm9yIGNpcmNsZSB0eXBlIGltcGxlbWVudGF0aW9uc1xuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZUNpcmNsZSB7XG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIE9wdGlvbnMgb2JqZWN0IHNlY29uZCBhcmd1bWVudCBmb3IgaW5pdENpcmNsZSBtZXRob2RcbiAgICAgKi9cbiAgICBwdWJsaWMgb3B0aW9uczogSUF2YWlsYWJsZU9wdGlvbnM7XG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIFNpemUgb2Ygc3Vycm91bmRpbmcgdGFnIGZvciBzdmcgdGFnXG4gICAgICovXG4gICAgcHVibGljIHNpemU6IElTaXplO1xuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBBcnJheSBvZiBhbGwgdGFncyB0aGF0IG5lZWRzIHRvIGJlIGFwcGVuZGVkIHRvIHRoZSBkb21cbiAgICAgKi9cbiAgICBwdWJsaWMgdGFnczogSVRhZ1tdID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gRmlyZXMgc2Nyb2xsIGV2ZW50IGlmIGFuaW1hdGVJblZpZXcgaXMgc2V0IHRvIHRydWUgYW5kIHJ1bnMgY2hlY2tBbmltYXRpb25cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYW5pbWF0ZUluVmlldygpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRlSW5WaWV3KSB7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0FuaW1hdGlvbih0aGlzLm9wdGlvbnMuaWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gV2hlbiBjaXJjbGUgaXMgaW4gdmlldyBwb3J0IGl0IGFuaW1hdGVzIHRoZSBmb3JlZ3JvdW5kIGNpcmNsZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBjaGVja0FuaW1hdGlvbihzdmdQYXJlbnRJZDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGNpcmNsZUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHN2Z1BhcmVudElkKTtcbiAgICAgICAgY29uc3QgZm9yZWdyb3VuZENpcmNsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBhcmMtJHtzdmdQYXJlbnRJZH1gKTtcbiAgICAgICAgY29uc3QgaW5WaWV3ID0gdGhpcy5pc0VsZW1lbnRJblZpZXdwb3J0KGNpcmNsZUNvbnRhaW5lcik7XG5cbiAgICAgICAgaWYgKCFjaXJjbGVDb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwicmVhbmltYXRlZFwiKSAmJiBpblZpZXcpIHtcbiAgICAgICAgICAgIGNpcmNsZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwicmVhbmltYXRlZFwiKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5hbmltYXRlKGZvcmVncm91bmRDaXJjbGUgYXMgRWxlbWVudCksIDI1MCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gQ2FsY3VsYXRlcyBpZiB0aGUgY2lyY2xlIGlzIGluIHZpZXdwb3J0XG4gICAgICogQHBhcmFtIGNpcmNsZUNvbnRhaW5lclxuICAgICAqL1xuICAgIHByb3RlY3RlZCBpc0VsZW1lbnRJblZpZXdwb3J0KGNpcmNsZUNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgY29uc3Qgb2Zmc2V0VG9wID0gY2lyY2xlQ29udGFpbmVyLm9mZnNldFRvcDtcbiAgICAgICAgY29uc3Qgc2Nyb2xsUG9zaXRpb25Ub3AgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgICAgY29uc3Qgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuXG4gICAgICAgIHJldHVybiBzY3JvbGxQb3NpdGlvblRvcCA8IG9mZnNldFRvcCAmJiBzY3JvbGxQb3NpdGlvblRvcCArIHdpbmRvd0hlaWdodCA+IG9mZnNldFRvcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gR2V0cyBjYWxsZWQgaW4gdGhlIGNpcmNsZSBjbGFzcyB0byBkcmF3IHRoZSBjaXJjbGUgd2l0aCBhbGwgaXRzIGNoaWxkIGVsZW1lbnRzLCB0aGUgbWV0aG9kc1xuICAgICAqIGRyYXdDb250YWluZXIgYW5kIGFwcGVuZCBtdXN0IGJlIGFsd2F5cyBjYWxsZWQgaW4gb3duIGltcGxlbWVudGF0aW9ucyBpZiB5b3UgZG9udCBpbXBsZW1lbnQgb3duIGxvZ2ljIGZvciB0aGVtXG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IGRyYXdDaXJjbGUoKTogdm9pZDtcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSBlbGVtZW50XG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGFuaW1hdGUoZWxlbWVudDogRWxlbWVudCk6IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gRHJhd3MgdGhlIHN2ZyB0YWdcbiAgICAgKiBAcGFyYW0gYWRkaXRpb25hbEF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd0NvbnRhaW5lcihhZGRpdGlvbmFsQXR0cmlidXRlcz86IG9iamVjdCkge1xuICAgICAgICBjb25zdCB7bWluWCwgbWluWSwgd2lkdGgsIGhlaWdodH0gPSB0aGlzLmdldFZpZXdCb3hQYXJhbXMoKTtcblxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBTdmdUYWdzLmFkZFN2Zyh7XG4gICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICAgICAgdmlld0JveDogYCR7bWluWH0gJHttaW5ZfSAke3dpZHRofSAke2hlaWdodH1gLFxuICAgICAgICAgICAgaWQ6IGBzdmctJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IFwieE1pbllNaW4gbWVldFwiLFxuICAgICAgICAgICAgLi4uYWRkaXRpb25hbEF0dHJpYnV0ZXMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGNvbnRhaW5lcixcbiAgICAgICAgICAgIHBhcmVudElkOiB0aGlzLm9wdGlvbnMuaWQsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBHZXQgdmlld0JveCBwYXJhbWV0ZXJzLCByZXNpemUgdGhlIHZpZXcgaWYgdGhlIGJvcmRlciB3b3VsZCBvdmVyZmxvd1xuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0Vmlld0JveFBhcmFtcygpOiBJVmlld0JveEF0dHJpYnV0ZXMge1xuICAgICAgICBjb25zdCB7Zm9yZWdyb3VuZENpcmNsZVdpZHRoLCBiYWNrZ3JvdW5kQ2lyY2xlV2lkdGh9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBsZXQgY2lyY2xlV2lkdGggPSBiYWNrZ3JvdW5kQ2lyY2xlV2lkdGg7XG4gICAgICAgIC8vIEdldCB0aGlja2VyIGNpcmNsZSBzdHJva2Ugd2lkdGgsIGZvcmVncm91bmQgb3IgYmFja2dyb3VuZFxuICAgICAgICBpZiAoZm9yZWdyb3VuZENpcmNsZVdpZHRoID4gYmFja2dyb3VuZENpcmNsZVdpZHRoKSB7XG4gICAgICAgICAgICBjaXJjbGVXaWR0aCA9IGZvcmVncm91bmRDaXJjbGVXaWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1pblggPSAwO1xuICAgICAgICBjb25zdCBtaW5ZID0gMDtcbiAgICAgICAgbGV0IHdpZHRoID0gdGhpcy5zaXplLndpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gdGhpcy5zaXplLmhlaWdodDtcbiAgICAgICAgaWYgKGZvcmVncm91bmRDaXJjbGVXaWR0aCA+IDUgfHwgYmFja2dyb3VuZENpcmNsZVdpZHRoID4gNSkge1xuICAgICAgICAgICAgd2lkdGggPSB0aGlzLnNpemUud2lkdGggKyAoMS41ICogY2lyY2xlV2lkdGgpO1xuICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5zaXplLmhlaWdodCArICgxLjUgKiBjaXJjbGVXaWR0aCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge21pblgsIG1pblksIHdpZHRoLCBoZWlnaHR9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBBcHBlbmRzIHRoZSB0YWdzIHRvIHRoZSBkb21cbiAgICAgKi9cbiAgICBwdWJsaWMgYXBwZW5kKCkge1xuICAgICAgICB0aGlzLnRhZ3MuZm9yRWFjaCgodGFnKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YWcucGFyZW50SWQpO1xuICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHRhZy5lbGVtZW50IGFzIE5vZGUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gSW5pdGlhbGl6ZSBiYXNpYyB2YWx1ZXMgZm9yIGNpcmNsZVxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIHNpemVcbiAgICAgKi9cbiAgICBwdWJsaWMgaW5pdGlhbGl6ZShvcHRpb25zOiBJQXZhaWxhYmxlT3B0aW9ucywgc2l6ZTogSVNpemUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgSGFsZkNpcmNsZSBmcm9tIFwiLi4vY2lyY2xlLXR5cGUvaGFsZi1jaXJjbGVcIjtcbmltcG9ydCBQbGFpbkNpcmNsZSBmcm9tIFwiLi4vY2lyY2xlLXR5cGUvcGxhaW4tY2lyY2xlXCI7XG5pbXBvcnQgU2ltcGxlQ2lyY2xlIGZyb20gXCIuLi9jaXJjbGUtdHlwZS9zaW1wbGUtY2lyY2xlXCI7XG5pbXBvcnQge0Jhc2VDaXJjbGV9IGZyb20gXCIuL2Jhc2UtY2lyY2xlXCI7XG5cbmV4cG9ydCBjbGFzcyBDaXJjbGVGYWN0b3J5IHtcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh0eXBlOiBzdHJpbmcpOiBCYXNlQ2lyY2xlIHtcbiAgICAgICAgbGV0IGNpcmNsZUNsYXNzOiBCYXNlQ2lyY2xlO1xuICAgICAgICBzd2l0Y2ggKHR5cGUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgY2FzZSBcImhhbGZcIjpcbiAgICAgICAgICAgICAgICBjaXJjbGVDbGFzcyA9IG5ldyBIYWxmQ2lyY2xlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicGxhaW5cIjpcbiAgICAgICAgICAgICAgICBjaXJjbGVDbGFzcyA9IG5ldyBQbGFpbkNpcmNsZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInNpbXBsZVwiOlxuICAgICAgICAgICAgICAgIGNpcmNsZUNsYXNzID0gbmV3IFNpbXBsZUNpcmNsZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjaXJjbGVDbGFzcyA9IG5ldyBTaW1wbGVDaXJjbGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaXJjbGVDbGFzcztcbiAgICB9XG59XG4iLCJpbXBvcnQge0FwaX0gZnJvbSBcIi4uL2FwaVwiO1xuaW1wb3J0IHtJQXZhaWxhYmxlT3B0aW9uc30gZnJvbSBcIi4uL2ludGVyZmFjZS9pYXZhaWxhYmxlLW9wdGlvbnNcIjtcbmltcG9ydCB7Q2lyY2xlRmFjdG9yeX0gZnJvbSBcIi4vY2lyY2xlLWZhY3RvcnlcIjtcbmltcG9ydCBPcHRpb25zIGZyb20gXCIuL29wdGlvbnNcIjtcblxuY2xhc3MgQ2lyY2xlIHtcbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gR2V0cyB0aGUgc2l6ZSBvZiB0aGUgcGFyZW50IGVsZW1lbnQsIHdoZXJlIHRoZSBzdmcgZ2V0cyBwbGFjZWQgaW5cbiAgICAgKiBAcGFyYW0gaWRcbiAgICAgKiBAcmV0dXJucyB7e3dpZHRoOiBudW1iZXIsIG1heFNpemU6IG51bWJlciwgaGVpZ2h0OiBudW1iZXJ9fVxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGdldFBhcmVudFNpemUoaWQ6IHN0cmluZykge1xuICAgICAgICBjb25zdCBib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gYm94LmNsaWVudFdpZHRoID4gMCA/IGJveC5jbGllbnRXaWR0aCA6IDIwMDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gYm94LmNsaWVudEhlaWdodCA+IDAgPyBib3guY2xpZW50SGVpZ2h0IDogMjAwO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtYXhTaXplOiB3aWR0aCA+IGhlaWdodCA/IGhlaWdodCA6IHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEluaXRpYWxpemVzIHRoZSBjaXJjbGUgYnkgZ2l2ZW4gdHlwZVxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIGNoZWNrRGF0YUF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGluaXRpYWxpemVDaXJjbGVUeXBlKG9wdGlvbnM6IElBdmFpbGFibGVPcHRpb25zLCBjaGVja0RhdGFBdHRyaWJ1dGVzID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IENpcmNsZS5nZXRQYXJlbnRTaXplKG9wdGlvbnMuaWQpO1xuICAgICAgICBjb25zdCBjaXJjbGUgPSBDaXJjbGVGYWN0b3J5LmNyZWF0ZShvcHRpb25zLnR5cGUpO1xuICAgICAgICBjb25zdCBvcHRpb25zTWFuYWdlciA9IG5ldyBPcHRpb25zKCk7XG4gICAgICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSBvcHRpb25zTWFuYWdlci5tZXJnZU9wdGlvbnMob3B0aW9ucywgY2hlY2tEYXRhQXR0cmlidXRlcyk7XG5cbiAgICAgICAgY2lyY2xlLmluaXRpYWxpemUobWVyZ2VkT3B0aW9ucywgc2l6ZSk7XG4gICAgICAgIGNpcmNsZS5kcmF3Q2lyY2xlKCk7XG5cbiAgICAgICAgcmV0dXJuIGNpcmNsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlcyBhIG5ldyBjaXJjbGVcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIHB1YmxpYyBuZXdDaXJjbGUob3B0aW9uczogSUF2YWlsYWJsZU9wdGlvbnMpOiBBcGkge1xuICAgICAgICBDaXJjbGUuaW5pdGlhbGl6ZUNpcmNsZVR5cGUob3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBcGkob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIENyZWF0ZXMgYSBuZXcgY2lyY2xlIHdpdGggYXR0cmlidXRlcyBzZXQgYXMgZGF0YSBhdHRyaWJ1dGVzIG9uIHRhZ1xuICAgICAqIEBwYXJhbSBwYXJlbnRJZFxuICAgICAqIEBwYXJhbSB0eXBlXG4gICAgICovXG4gICAgcHVibGljIG5ld0NpcmNsZVdpdGhEYXRhU2V0KHBhcmVudElkOiBzdHJpbmcsIHR5cGU6IHN0cmluZyk6IEFwaSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnM6IElBdmFpbGFibGVPcHRpb25zID0ge1xuICAgICAgICAgICAgaWQ6IHBhcmVudElkLFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIHBlcmNlbnQ6IDEsXG4gICAgICAgIH07XG5cbiAgICAgICAgQ2lyY2xlLmluaXRpYWxpemVDaXJjbGVUeXBlKG9wdGlvbnMsIHRydWUpO1xuXG4gICAgICAgIHJldHVybiBuZXcgQXBpKG9wdGlvbnMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2lyY2xlO1xuIiwiaW1wb3J0IHtJQXZhaWxhYmxlT3B0aW9uc30gZnJvbSBcIi4uL2ludGVyZmFjZS9pYXZhaWxhYmxlLW9wdGlvbnNcIjtcblxuY2xhc3MgT3B0aW9ucyB7XG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIERlZmF1bHQgb3B0aW9ucyBpZiBvcHRpb24gaXMgbm90IHNldCBvbiBpbml0aWFsaXNhdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyBkZWZhdWx0T3B0aW9uczogSUF2YWlsYWJsZU9wdGlvbnMgPSB7XG4gICAgICAgIHBvaW50OiBmYWxzZSxcbiAgICAgICAgcG9pbnRTaXplOiA2MCxcbiAgICAgICAgcGVyY2VudDogNzUsXG4gICAgICAgIGZvcmVncm91bmRDaXJjbGVXaWR0aDogNSxcbiAgICAgICAgYmFja2dyb3VuZENpcmNsZVdpZHRoOiAxNSxcbiAgICAgICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgICAgICBhbmltYXRpb25TdGVwOiAxLFxuICAgICAgICBub1BlcmNlbnRhZ2VTaWduOiBmYWxzZSxcbiAgICAgICAgYW5pbWF0ZUluVmlldzogZmFsc2UsXG4gICAgICAgIHN0cm9rZUxpbmVjYXA6IFwiYnV0dFwiLFxuICAgICAgICB0eXBlOiBcIlNpbXBsZUNpcmNsZVwiLFxuICAgICAgICB0ZXh0UmVwbGFjZXNQZXJjZW50YWdlOiBmYWxzZSxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEdldCBkYXRhIGF0dHJpYnV0ZXMgZnJvbSB0YWdcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGdldERhdGFBdHRyaWJ1dGVzKG9wdGlvbnM6IElBdmFpbGFibGVPcHRpb25zKTogSUF2YWlsYWJsZU9wdGlvbnMge1xuICAgICAgICBjb25zdCBjaXJjbGVDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChvcHRpb25zLmlkKTtcbiAgICAgICAgY29uc3QgZGF0YU9wdGlvbnM6IElBdmFpbGFibGVPcHRpb25zID0ge3BlcmNlbnQ6IG9wdGlvbnMucGVyY2VudH07XG5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY2lyY2xlQ29udGFpbmVyLmRhdGFzZXQpIHtcbiAgICAgICAgICAgIGlmIChjaXJjbGVDb250YWluZXIuZGF0YXNldC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjaXJjbGVDb250YWluZXIuZGF0YXNldFtrZXldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImZhbHNlXCIgfHwgdmFsdWUgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFPcHRpb25zW2tleV0gPSB2YWx1ZSA9PT0gXCJ0cnVlXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFPcHRpb25zW2tleV0gPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFPcHRpb25zW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGF0YU9wdGlvbnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIE1lcmdlIGRlZmF1bHQgb3B0aW9ucyBhbmQgY3VzdG9tIG9wdGlvbiBvbiBpbml0aWFsaXNhdGlvblxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIGNoZWNrRGF0YUF0dHJpYnV0ZXNcbiAgICAgKiBAcmV0dXJucyBPcHRpb25zWydkZWZhdWx0T3B0aW9ucyddXG4gICAgICovXG4gICAgcHVibGljIG1lcmdlT3B0aW9ucyhvcHRpb25zOiBJQXZhaWxhYmxlT3B0aW9ucywgY2hlY2tEYXRhQXR0cmlidXRlcyA9IGZhbHNlKSB7XG4gICAgICAgIGxldCBtZXJnZWRPcHRpb25zID0gey4uLnRoaXMuZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnN9O1xuICAgICAgICBpZiAoY2hlY2tEYXRhQXR0cmlidXRlcykge1xuICAgICAgICAgICAgY29uc3QgZGF0YU9wdGlvbnMgPSBPcHRpb25zLmdldERhdGFBdHRyaWJ1dGVzKG9wdGlvbnMpO1xuICAgICAgICAgICAgbWVyZ2VkT3B0aW9ucyA9IHsuLi5tZXJnZWRPcHRpb25zLCAuLi5kYXRhT3B0aW9uc307XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWVyZ2VkT3B0aW9ucztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9wdGlvbnM7XG4iLCJpbXBvcnQgT2JqZWN0SGVscGVyIGZyb20gXCIuLi9oZWxwZXIvb2JqZWN0LWhlbHBlclwiO1xuaW1wb3J0IFN2Z1RhZ3NIZWxwZXIgZnJvbSBcIi4uL2hlbHBlci9zdmctdGFncy1oZWxwZXJcIjtcbmltcG9ydCB7SUF0dHJpYnV0ZXN9IGZyb20gXCIuLi9pbnRlcmZhY2UvaWF0dHJpYnV0ZXNcIjtcbmltcG9ydCB7SURpY3Rpb25hcnl9IGZyb20gXCIuLi9pbnRlcmZhY2UvaWRpY3Rpb25hcnlcIjtcblxuY2xhc3MgU3ZnVGFncyB7XG4gICAgcHVibGljIHN0YXRpYyBuYW1lc3BhY2VVUkkgPSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gQWRkcyBhIHN2ZyB0YWcgd2l0aCBhdHRyaWJ1dGVzXG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZXNcbiAgICAgKiBAcmV0dXJucyBTVkdFbGVtZW50XG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBhZGRTdmcoYXR0cmlidXRlczogSUF0dHJpYnV0ZXMpOiBFbGVtZW50IHtcbiAgICAgICAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFN2Z1RhZ3MubmFtZXNwYWNlVVJJLCBcInN2Z1wiKTtcbiAgICAgICAgYXR0cmlidXRlcy5jbGFzcyA9IFwiY2lyY2xlLWNvbnRhaW5lciBcIiArIE9iamVjdEhlbHBlci5leHRyYWN0UHJvcGVydHlGcm9tT2JqZWN0KFxuICAgICAgICAgICAgYXR0cmlidXRlcyBhcyBJRGljdGlvbmFyeSxcbiAgICAgICAgICAgIFwiY2xhc3NcIixcbiAgICAgICAgKTtcblxuICAgICAgICBTdmdUYWdzSGVscGVyLnNldEF0dHJpYnV0ZXMoc3ZnIGFzIFNWR0VsZW1lbnQsIGF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIHJldHVybiBzdmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEFkZHMgYSBjaXJjbGUgdGFnIHdpdGggYXR0cmlidXRlc1xuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVzXG4gICAgICogQHJldHVybnMgU1ZHQ2lyY2xlRWxlbWVudFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgYWRkQ2lyY2xlKGF0dHJpYnV0ZXM6IElBdHRyaWJ1dGVzKTogRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGNpcmNsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTdmdUYWdzLm5hbWVzcGFjZVVSSSwgXCJjaXJjbGVcIik7XG4gICAgICAgIFN2Z1RhZ3NIZWxwZXIuc2V0QXR0cmlidXRlcyhjaXJjbGUgYXMgU1ZHRWxlbWVudCwgYXR0cmlidXRlcyk7XG5cbiAgICAgICAgcmV0dXJuIGNpcmNsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gQWRkcyBhIHBhdGggdGFnIHdpdGggYXR0cmlidXRlc1xuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVzXG4gICAgICogQHJldHVybnMgU1ZHUGF0aEVsZW1lbnRcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGFkZEFyYyhhdHRyaWJ1dGVzOiBJQXR0cmlidXRlcyk6IEVsZW1lbnQge1xuICAgICAgICBjb25zdCBhcmMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU3ZnVGFncy5uYW1lc3BhY2VVUkksIFwicGF0aFwiKTtcbiAgICAgICAgU3ZnVGFnc0hlbHBlci5zZXRBdHRyaWJ1dGVzKGFyYyBhcyBTVkdFbGVtZW50LCBhdHRyaWJ1dGVzKTtcblxuICAgICAgICByZXR1cm4gYXJjO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBBZGRzIGEgdGV4dCB0YWcgd2l0aCBhdHRyaWJ1dGVzXG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZXNcbiAgICAgKiBAcmV0dXJucyBTVkdUZXh0RWxlbWVudFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgYWRkVGV4dChhdHRyaWJ1dGVzOiBJQXR0cmlidXRlcyk6IEVsZW1lbnQge1xuICAgICAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFN2Z1RhZ3MubmFtZXNwYWNlVVJJLCBcInRleHRcIik7XG4gICAgICAgIHRleHQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKTtcbiAgICAgICAgU3ZnVGFnc0hlbHBlci5zZXRBdHRyaWJ1dGVzKHRleHQgYXMgU1ZHRWxlbWVudCwgYXR0cmlidXRlcyk7XG5cbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEFkZHMgZGVmcyB0YWcgdG8gc3ZnIHRvIGRyYXcgYSBncmFkaWVudFxuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVzXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBhZGREZWZzKGF0dHJpYnV0ZXM6IElBdHRyaWJ1dGVzKTogRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGRlZnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU3ZnVGFncy5uYW1lc3BhY2VVUkksIFwiZGVmc1wiKTtcbiAgICAgICAgY29uc3QgbGluZWFyR3JhZGllbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU3ZnVGFncy5uYW1lc3BhY2VVUkksIFwibGluZWFyR3JhZGllbnRcIik7XG4gICAgICAgIGNvbnN0IGxpbmVhckdyYWRpZW50QXR0cmlidXRlcyA9IHtcbiAgICAgICAgICAgIGlkOiBcImxpbmVhckdyYWRpZW50XCIsXG4gICAgICAgIH07XG4gICAgICAgIFN2Z1RhZ3NIZWxwZXIuc2V0QXR0cmlidXRlcyhsaW5lYXJHcmFkaWVudCBhcyBTVkdFbGVtZW50LCBsaW5lYXJHcmFkaWVudEF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIGNvbnN0IGZpcnN0U3RvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTdmdUYWdzLm5hbWVzcGFjZVVSSSwgXCJzdG9wXCIpO1xuICAgICAgICBjb25zdCBmaXJzdFN0b3BBdHRyaWJ1dGVzID0ge1xuICAgICAgICAgICAgXCJvZmZzZXRcIjogXCIwXCIsXG4gICAgICAgICAgICBcInN0b3AtY29sb3JcIjogYXR0cmlidXRlcy5ncmFkaWVudFN0YXJ0LFxuICAgICAgICB9O1xuICAgICAgICBTdmdUYWdzSGVscGVyLnNldEF0dHJpYnV0ZXMoZmlyc3RTdG9wIGFzIFNWR0VsZW1lbnQsIGZpcnN0U3RvcEF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIGNvbnN0IHNlY29uZFN0b3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU3ZnVGFncy5uYW1lc3BhY2VVUkksIFwic3RvcFwiKTtcbiAgICAgICAgY29uc3Qgc2Vjb25kU3RvcEF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgICBcIm9mZnNldFwiOiBcIjFcIixcbiAgICAgICAgICAgIFwic3RvcC1jb2xvclwiOiBhdHRyaWJ1dGVzLmdyYWRpZW50RW5kLFxuICAgICAgICB9O1xuICAgICAgICBTdmdUYWdzSGVscGVyLnNldEF0dHJpYnV0ZXMoc2Vjb25kU3RvcCBhcyBTVkdFbGVtZW50LCBzZWNvbmRTdG9wQXR0cmlidXRlcyk7XG5cbiAgICAgICAgbGluZWFyR3JhZGllbnQuYXBwZW5kQ2hpbGQoZmlyc3RTdG9wKTtcbiAgICAgICAgbGluZWFyR3JhZGllbnQuYXBwZW5kQ2hpbGQoc2Vjb25kU3RvcCk7XG4gICAgICAgIGRlZnMuYXBwZW5kQ2hpbGQobGluZWFyR3JhZGllbnQpO1xuXG4gICAgICAgIHJldHVybiBkZWZzO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3ZnVGFncztcbiIsImltcG9ydCBTdmdUYWdzIGZyb20gXCIuLi9iYXNlLWNsYXNzL3N2Zy10YWdzXCI7XG5pbXBvcnQgT2JqZWN0SGVscGVyIGZyb20gXCIuLi9oZWxwZXIvb2JqZWN0LWhlbHBlclwiO1xuaW1wb3J0IHtTdHlsZUhlbHBlcn0gZnJvbSBcIi4uL2hlbHBlci9zdHlsZS1oZWxwZXJcIjtcbmltcG9ydCBTdmdUYWdzSGVscGVyIGZyb20gXCIuLi9oZWxwZXIvc3ZnLXRhZ3MtaGVscGVyXCI7XG5pbXBvcnQgU2ltcGxlQ2lyY2xlIGZyb20gXCIuL3NpbXBsZS1jaXJjbGVcIjtcblxuLyoqXG4gKiBFdmVyeSBjaXJjbGUgZ2V0cyBkeW5hbWljYWxseSBjYWxsZWQgYnkgdGhlIGdpdmVuIHR5cGUgaW4gdGhlIG9wdGlvbnMgb2JqZWN0IGV4YW1wbGU6IHsgdHlwZTogJ0hhbGZDaXJjbGUnIH1cbiAqL1xuY2xhc3MgSGFsZkNpcmNsZSBleHRlbmRzIFNpbXBsZUNpcmNsZSB7XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd0NpcmNsZSgpIHtcbiAgICAgICAgY29uc3QgYWRkaXRpb25hbENvbnRhaW5lckF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgICBjbGFzczogT2JqZWN0SGVscGVyLmV4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QodGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcywgXCJzdmdDb250YWluZXJcIiksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZHJhd0NvbnRhaW5lcihhZGRpdGlvbmFsQ29udGFpbmVyQXR0cmlidXRlcyk7XG4gICAgICAgIHRoaXMuZHJhd0JhY2tncm91bmRDaXJjbGUoKTtcbiAgICAgICAgdGhpcy5kcmF3Rm9yZWdyb3VuZENpcmNsZSgpO1xuICAgICAgICB0aGlzLmRyYXdUZXh0KCk7XG4gICAgICAgIHRoaXMuYXBwZW5kKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIERyYXdzIHRoZSBiYWNrZ3JvdW5kIGNpcmNsZVxuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3QmFja2dyb3VuZENpcmNsZSgpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRBbmdsZSA9IDI3MDtcbiAgICAgICAgY29uc3QgZW5kQW5nbGUgPSA5MDtcbiAgICAgICAgY29uc3QgY3VzdG9tQ3NzQ2xhc3MgPSBPYmplY3RIZWxwZXIuZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChcbiAgICAgICAgICAgIHRoaXMuYWRkaXRpb25hbENzc0NsYXNzZXMsXG4gICAgICAgICAgICBcImJhY2tncm91bmRDaXJjbGVcIixcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgYXJjID0gU3ZnVGFncy5hZGRBcmMoe1xuICAgICAgICAgICAgXCJpZFwiOiBgYmctYXJjLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgICAgICBcImRcIjogU3ZnVGFnc0hlbHBlci5kZXNjcmliZUFyYyh0aGlzLmNvb3JkaW5hdGVzLngsIHRoaXMuY29vcmRpbmF0ZXMueSwgdGhpcy5yYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlKSxcbiAgICAgICAgICAgIFwiY2xhc3NcIjogYGJhY2tncm91bmQtY2lyY2xlICR7Y3VzdG9tQ3NzQ2xhc3N9YCxcbiAgICAgICAgICAgIFwic3Ryb2tlLXdpZHRoXCI6IHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kQ2lyY2xlV2lkdGgsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGFyYyxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEcmF3cyB0aGUgZm9yZWdyb3VuZCBjaXJjbGUgYnkgZ2l2ZW4gcGVyY2VudGFnZSB3aXRoIG9wdGlvbmFsIGFuaW1hdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3Rm9yZWdyb3VuZENpcmNsZSgpIHtcbiAgICAgICAgY29uc3QgZW5kQW5nbGUgPSAxODAgLyAxMDAgKiB0aGlzLm9wdGlvbnMucGVyY2VudDtcbiAgICAgICAgY29uc3QgY3VzdG9tQ3NzQ2xhc3MgPSBPYmplY3RIZWxwZXIuZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChcbiAgICAgICAgICAgIHRoaXMuYWRkaXRpb25hbENzc0NsYXNzZXMsXG4gICAgICAgICAgICBcImZvcmVncm91bmRDaXJjbGVcIixcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgYXJjID0gU3ZnVGFncy5hZGRBcmMoe1xuICAgICAgICAgICAgXCJpZFwiOiBgYXJjLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgICAgICBcImNsYXNzXCI6IGBmb3JlZ3JvdW5kLWNpcmNsZSAke2N1c3RvbUNzc0NsYXNzfWAsXG4gICAgICAgICAgICBcImRcIjogU3ZnVGFnc0hlbHBlci5kZXNjcmliZUFyYyh0aGlzLmNvb3JkaW5hdGVzLngsIHRoaXMuY29vcmRpbmF0ZXMueSwgdGhpcy5yYWRpdXMsIDAsIGVuZEFuZ2xlKSxcbiAgICAgICAgICAgIFwidHJhbnNmb3JtXCI6IGByb3RhdGUoLTkwLCAke3RoaXMuY29vcmRpbmF0ZXMueH0sICR7dGhpcy5jb29yZGluYXRlcy55fSlgLFxuICAgICAgICAgICAgXCJzdHJva2Utd2lkdGhcIjogdGhpcy5vcHRpb25zLmZvcmVncm91bmRDaXJjbGVXaWR0aCxcbiAgICAgICAgICAgIFwic3Ryb2tlLWxpbmVjYXBcIjogdGhpcy5vcHRpb25zLnN0cm9rZUxpbmVjYXAsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGUoYXJjKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGFyYyxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBBbmltYXRlcyBjaXJjbGUgY291bnRlciBjbG9jayB3aXNlXG4gICAgICogQHBhcmFtIGFyY1xuICAgICAqL1xuICAgIHB1YmxpYyBhbmltYXRlKGFyYzogRWxlbWVudCkge1xuICAgICAgICBTdHlsZUhlbHBlci5hbmltYXRlQXJjKHtcbiAgICAgICAgICAgIGFyYyxcbiAgICAgICAgICAgIGFyY1BhcmFtczoge1xuICAgICAgICAgICAgICAgIHBlcmNlbnQ6IHRoaXMub3B0aW9ucy5wZXJjZW50LFxuICAgICAgICAgICAgICAgIHg6IHRoaXMuY29vcmRpbmF0ZXMueCxcbiAgICAgICAgICAgICAgICB5OiB0aGlzLmNvb3JkaW5hdGVzLnksXG4gICAgICAgICAgICAgICAgcmFkaXVzOiB0aGlzLnJhZGl1cyxcbiAgICAgICAgICAgICAgICBlbmRBbmdsZUdyYWRlOiAxODAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYW5pbWF0aW9uU3RlcDogdGhpcy5vcHRpb25zLmFuaW1hdGlvblN0ZXAsXG4gICAgICAgICAgICBwcm9ncmVzc0NvbG9yczogdGhpcy5vcHRpb25zLnByb2dyZXNzQ29sb3JzLFxuICAgICAgICB9LCB0aGlzLm9wdGlvbnMub25BbmltYXRpb25FbmQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSGFsZkNpcmNsZTtcbiIsImltcG9ydCB7QmFzZUNpcmNsZX0gZnJvbSBcIi4uL2Jhc2UtY2xhc3MvYmFzZS1jaXJjbGVcIjtcbmltcG9ydCBTdmdUYWdzIGZyb20gXCIuLi9iYXNlLWNsYXNzL3N2Zy10YWdzXCI7XG5pbXBvcnQgT2JqZWN0SGVscGVyIGZyb20gXCIuLi9oZWxwZXIvb2JqZWN0LWhlbHBlclwiO1xuaW1wb3J0IHtTdHlsZUhlbHBlcn0gZnJvbSBcIi4uL2hlbHBlci9zdHlsZS1oZWxwZXJcIjtcbmltcG9ydCBTdmdUYWdzSGVscGVyIGZyb20gXCIuLi9oZWxwZXIvc3ZnLXRhZ3MtaGVscGVyXCI7XG5pbXBvcnQge0lBdmFpbGFibGVPcHRpb25zfSBmcm9tIFwiLi4vaW50ZXJmYWNlL2lhdmFpbGFibGUtb3B0aW9uc1wiO1xuaW1wb3J0IHtJU2l6ZX0gZnJvbSBcIi4uL2ludGVyZmFjZS9pc2l6ZVwiO1xuXG4vKipcbiAqIEV2ZXJ5IGNpcmNsZSBnZXRzIGR5bmFtaWNhbGx5IGNhbGxlZCBieSB0aGUgZ2l2ZW4gdHlwZSBpbiB0aGUgb3B0aW9ucyBvYmplY3QgZXhhbXBsZTogeyB0eXBlOiAnUGxhaW5DaXJjbGUnIH1cbiAqL1xuY2xhc3MgUGxhaW5DaXJjbGUgZXh0ZW5kcyBCYXNlQ2lyY2xlIHtcbiAgICBwcml2YXRlIGNvb3JkaW5hdGVzID0ge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwLFxuICAgIH07XG4gICAgcHJvdGVjdGVkIHJhZGl1czogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBhZGRpdGlvbmFsQ3NzQ2xhc3NlczogSUF2YWlsYWJsZU9wdGlvbnNbXCJhZGRpdGlvbmFsQ3NzQ2xhc3Nlc1wiXSA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBwdWJsaWMgaW5pdGlhbGl6ZShvcHRpb25zOiBJQXZhaWxhYmxlT3B0aW9ucywgc2l6ZTogSVNpemUpIHtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZShvcHRpb25zLCBzaXplKTtcblxuICAgICAgICBjb25zdCBtYXhTaXplID0gdGhpcy5zaXplLm1heFNpemU7XG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMgPSB7XG4gICAgICAgICAgICB4OiBtYXhTaXplIC8gMixcbiAgICAgICAgICAgIHk6IG1heFNpemUgLyAyLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJhZGl1cyA9IG1heFNpemUgLyAyLjI7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hZGRpdGlvbmFsQ3NzQ2xhc3Nlcykge1xuICAgICAgICAgICAgdGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcyA9IHRoaXMub3B0aW9ucy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYW5pbWF0ZUluVmlldygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgcHVibGljIGRyYXdDaXJjbGUoKSB7XG4gICAgICAgIHRoaXMuZHJhd0NvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLmRyYXdQbGFpbkNpcmNsZSgpO1xuICAgICAgICB0aGlzLmFwcGVuZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEcmF3cyB0aGUgY2lyY2xlIGJ5IGdpdmVuIHBlcmNlbnRhZ2Ugd2l0aCBvcHRpb25hbCBhbmltYXRpb25cbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd1BsYWluQ2lyY2xlKCkge1xuICAgICAgICBjb25zdCBlbmRBbmdsZSA9IDM2MCAvIDEwMCAqIHRoaXMub3B0aW9ucy5wZXJjZW50O1xuICAgICAgICBjb25zdCBjdXN0b21Dc3NDbGFzcyA9IE9iamVjdEhlbHBlci5leHRyYWN0UHJvcGVydHlGcm9tT2JqZWN0KFxuICAgICAgICAgICAgdGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcyxcbiAgICAgICAgICAgIFwiZm9yZWdyb3VuZENpcmNsZVwiLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBhcmMgPSBTdmdUYWdzLmFkZEFyYyh7XG4gICAgICAgICAgICBcImlkXCI6IGBhcmMtJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgICAgIFwiY2xhc3NcIjogYGZvcmVncm91bmQtY2lyY2xlICR7Y3VzdG9tQ3NzQ2xhc3N9YCxcbiAgICAgICAgICAgIFwiZFwiOiBTdmdUYWdzSGVscGVyLmRlc2NyaWJlQXJjKHRoaXMuY29vcmRpbmF0ZXMueCwgdGhpcy5jb29yZGluYXRlcy55LCB0aGlzLnJhZGl1cywgMCwgZW5kQW5nbGUpLFxuICAgICAgICAgICAgXCJzdHJva2Utd2lkdGhcIjogdGhpcy5vcHRpb25zLmZvcmVncm91bmRDaXJjbGVXaWR0aCxcbiAgICAgICAgICAgIFwic3Ryb2tlLWxpbmVjYXBcIjogdGhpcy5vcHRpb25zLnN0cm9rZUxpbmVjYXAsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGUoYXJjKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGFyYyxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBBbmltYXRlcyBjaXJjbGUgY291bnRlciBjbG9jayB3aXNlXG4gICAgICogQHBhcmFtIGFyY1xuICAgICAqL1xuICAgIHB1YmxpYyBhbmltYXRlKGFyYzogRWxlbWVudCkge1xuICAgICAgICBTdHlsZUhlbHBlci5hbmltYXRlQXJjKHtcbiAgICAgICAgICAgIGFyYyxcbiAgICAgICAgICAgIGFyY1BhcmFtczoge1xuICAgICAgICAgICAgICAgIHBlcmNlbnQ6IHRoaXMub3B0aW9ucy5wZXJjZW50LFxuICAgICAgICAgICAgICAgIHg6IHRoaXMuY29vcmRpbmF0ZXMueCxcbiAgICAgICAgICAgICAgICB5OiB0aGlzLmNvb3JkaW5hdGVzLnksXG4gICAgICAgICAgICAgICAgcmFkaXVzOiB0aGlzLnJhZGl1cyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbmltYXRpb25TdGVwOiB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uU3RlcCxcbiAgICAgICAgICAgIHByb2dyZXNzQ29sb3JzOiB0aGlzLm9wdGlvbnMucHJvZ3Jlc3NDb2xvcnMsXG4gICAgICAgIH0sIHRoaXMub3B0aW9ucy5vbkFuaW1hdGlvbkVuZCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQbGFpbkNpcmNsZTtcbiIsImltcG9ydCB7QmFzZUNpcmNsZX0gZnJvbSBcIi4uL2Jhc2UtY2xhc3MvYmFzZS1jaXJjbGVcIjtcbmltcG9ydCBTdmdUYWdzIGZyb20gXCIuLi9iYXNlLWNsYXNzL3N2Zy10YWdzXCI7XG5pbXBvcnQgT2JqZWN0SGVscGVyIGZyb20gXCIuLi9oZWxwZXIvb2JqZWN0LWhlbHBlclwiO1xuaW1wb3J0IHtTdHlsZUhlbHBlcn0gZnJvbSBcIi4uL2hlbHBlci9zdHlsZS1oZWxwZXJcIjtcbmltcG9ydCBTdmdUYWdzSGVscGVyIGZyb20gXCIuLi9oZWxwZXIvc3ZnLXRhZ3MtaGVscGVyXCI7XG5pbXBvcnQge0lBdHRyaWJ1dGVzfSBmcm9tIFwiLi4vaW50ZXJmYWNlL2lhdHRyaWJ1dGVzXCI7XG5pbXBvcnQge0lBdmFpbGFibGVPcHRpb25zfSBmcm9tIFwiLi4vaW50ZXJmYWNlL2lhdmFpbGFibGUtb3B0aW9uc1wiO1xuaW1wb3J0IHtJU2l6ZX0gZnJvbSBcIi4uL2ludGVyZmFjZS9pc2l6ZVwiO1xuXG4vKipcbiAqIEV2ZXJ5IGNpcmNsZSBnZXRzIGR5bmFtaWNhbGx5IGNhbGxlZCBieSB0aGUgZ2l2ZW4gdHlwZSBpbiB0aGUgb3B0aW9ucyBvYmplY3RcbiAqIGV4YW1wbGU6IHsgdHlwZTogJ1NpbXBsZUNpcmNsZScgfVxuICovXG5jbGFzcyBTaW1wbGVDaXJjbGUgZXh0ZW5kcyBCYXNlQ2lyY2xlIHtcbiAgICBwcm90ZWN0ZWQgY29vcmRpbmF0ZXMgPSB7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDAsXG4gICAgfTtcbiAgICBwcm90ZWN0ZWQgcmFkaXVzOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIGFkZGl0aW9uYWxDc3NDbGFzc2VzOiBJQXZhaWxhYmxlT3B0aW9uc1tcImFkZGl0aW9uYWxDc3NDbGFzc2VzXCJdID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIHB1YmxpYyBpbml0aWFsaXplKG9wdGlvbnM6IElBdmFpbGFibGVPcHRpb25zLCBzaXplOiBJU2l6ZSkge1xuICAgICAgICBzdXBlci5pbml0aWFsaXplKG9wdGlvbnMsIHNpemUpO1xuXG4gICAgICAgIGNvbnN0IG1heFNpemUgPSB0aGlzLnNpemUubWF4U2l6ZTtcbiAgICAgICAgdGhpcy5jb29yZGluYXRlcyA9IHtcbiAgICAgICAgICAgIHg6IG1heFNpemUgLyAyLFxuICAgICAgICAgICAgeTogbWF4U2l6ZSAvIDIsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmFkaXVzID0gbWF4U2l6ZSAvIDIuMjtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFkZGl0aW9uYWxDc3NDbGFzc2VzKSB7XG4gICAgICAgICAgICB0aGlzLmFkZGl0aW9uYWxDc3NDbGFzc2VzID0gdGhpcy5vcHRpb25zLmFkZGl0aW9uYWxDc3NDbGFzc2VzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hbmltYXRlSW5WaWV3KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd0NpcmNsZSgpIHtcbiAgICAgICAgY29uc3QgYWRkaXRpb25hbENvbnRhaW5lckF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgICBjbGFzczogT2JqZWN0SGVscGVyLmV4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QodGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcywgXCJzdmdDb250YWluZXJcIiksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZHJhd0NvbnRhaW5lcihhZGRpdGlvbmFsQ29udGFpbmVyQXR0cmlidXRlcyk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zdHJva2VHcmFkaWVudCkge1xuICAgICAgICAgICAgdGhpcy5kcmF3TGluZWFyR3JhZGllbnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHJhd0JhY2tncm91bmRDaXJjbGUoKTtcbiAgICAgICAgdGhpcy5kcmF3Rm9yZWdyb3VuZENpcmNsZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucG9pbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd1BvaW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmljb24pIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0ljb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHJhd1RleHQoKTtcblxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy50ZXh0UmVwbGFjZXNQZXJjZW50YWdlICYmIHRoaXMub3B0aW9ucy50ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdJbmZvVGV4dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hcHBlbmQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gRHJhd3MgYmFja2dyb3VuZCBjaXJjbGVcbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd0JhY2tncm91bmRDaXJjbGUoKSB7XG4gICAgICAgIGNvbnN0IGN1c3RvbUNzc0NsYXNzID0gT2JqZWN0SGVscGVyLmV4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QoXG4gICAgICAgICAgICB0aGlzLmFkZGl0aW9uYWxDc3NDbGFzc2VzLFxuICAgICAgICAgICAgXCJiYWNrZ3JvdW5kQ2lyY2xlXCIsXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgY2lyY2xlID0gU3ZnVGFncy5hZGRDaXJjbGUoe1xuICAgICAgICAgICAgXCJpZFwiOiBgY2lyY2xlLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgICAgICBcImNsYXNzXCI6IGBiYWNrZ3JvdW5kLWNpcmNsZSAke2N1c3RvbUNzc0NsYXNzfWAsXG4gICAgICAgICAgICBcImN4XCI6IFN0cmluZyh0aGlzLmNvb3JkaW5hdGVzLngpLFxuICAgICAgICAgICAgXCJjeVwiOiBTdHJpbmcodGhpcy5jb29yZGluYXRlcy55KSxcbiAgICAgICAgICAgIFwiclwiOiBTdHJpbmcodGhpcy5yYWRpdXMpLFxuICAgICAgICAgICAgXCJzdHJva2Utd2lkdGhcIjogdGhpcy5vcHRpb25zLmJhY2tncm91bmRDaXJjbGVXaWR0aCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy50YWdzLnB1c2goe1xuICAgICAgICAgICAgZWxlbWVudDogY2lyY2xlLFxuICAgICAgICAgICAgcGFyZW50SWQ6IGBzdmctJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIERyYXdzIGEgcG9pbnQgaW50byB0aGUgY2lyY2xlLCBiZWhpbmQgdGhlIHRleHRcbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd1BvaW50KCkge1xuICAgICAgICBjb25zdCBwb2ludFNpemUgPSB0aGlzLnJhZGl1cyAvIDEwMCAqIHRoaXMub3B0aW9ucy5wb2ludFNpemU7XG4gICAgICAgIGNvbnN0IGN1c3RvbUNzc0NsYXNzID0gT2JqZWN0SGVscGVyLmV4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QoXG4gICAgICAgICAgICB0aGlzLmFkZGl0aW9uYWxDc3NDbGFzc2VzLFxuICAgICAgICAgICAgXCJwb2ludFwiLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBjaXJjbGUgPSBTdmdUYWdzLmFkZENpcmNsZSh7XG4gICAgICAgICAgICBpZDogYHBvaW50LSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgICAgICBjbGFzczogYHBvaW50LWNpcmNsZSAke2N1c3RvbUNzc0NsYXNzfWAsXG4gICAgICAgICAgICBjeDogU3RyaW5nKHRoaXMuY29vcmRpbmF0ZXMueCksXG4gICAgICAgICAgICBjeTogU3RyaW5nKHRoaXMuY29vcmRpbmF0ZXMueSksXG4gICAgICAgICAgICByOiBTdHJpbmcocG9pbnRTaXplKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy50YWdzLnB1c2goe1xuICAgICAgICAgICAgZWxlbWVudDogY2lyY2xlLFxuICAgICAgICAgICAgcGFyZW50SWQ6IGBzdmctJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIERyYXdzIGZvcmVncm91bmQgY2lyY2xlXG4gICAgICovXG4gICAgcHVibGljIGRyYXdGb3JlZ3JvdW5kQ2lyY2xlKCkge1xuICAgICAgICBjb25zdCBlbmRBbmdsZSA9IDM2MCAvIDEwMCAqIHRoaXMub3B0aW9ucy5wZXJjZW50O1xuICAgICAgICBjb25zdCBjdXN0b21Dc3NDbGFzcyA9IE9iamVjdEhlbHBlci5leHRyYWN0UHJvcGVydHlGcm9tT2JqZWN0KFxuICAgICAgICAgICAgdGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcyxcbiAgICAgICAgICAgIFwiZm9yZWdyb3VuZENpcmNsZVwiLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzOiBJQXR0cmlidXRlcyA9IHtcbiAgICAgICAgICAgIFwiaWRcIjogYGFyYy0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICAgICAgXCJjbGFzc1wiOiBgZm9yZWdyb3VuZC1jaXJjbGUgJHtjdXN0b21Dc3NDbGFzc31gLFxuICAgICAgICAgICAgXCJkXCI6IFN2Z1RhZ3NIZWxwZXIuZGVzY3JpYmVBcmModGhpcy5jb29yZGluYXRlcy54LCB0aGlzLmNvb3JkaW5hdGVzLnksIHRoaXMucmFkaXVzLCAwLCBlbmRBbmdsZSksXG4gICAgICAgICAgICBcInN0cm9rZS13aWR0aFwiOiB0aGlzLm9wdGlvbnMuZm9yZWdyb3VuZENpcmNsZVdpZHRoLFxuICAgICAgICAgICAgXCJzdHJva2UtbGluZWNhcFwiOiB0aGlzLm9wdGlvbnMuc3Ryb2tlTGluZWNhcCxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnN0cm9rZUdyYWRpZW50KSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzLnN0cm9rZSA9IFwidXJsKCNsaW5lYXJHcmFkaWVudClcIjtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMuY2xhc3MgPSBgZm9yZWdyb3VuZC1jaXJjbGUtd2l0aG91dC1zdHJva2UtY29sb3IgJHtjdXN0b21Dc3NDbGFzc31gO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXJjID0gU3ZnVGFncy5hZGRBcmMoYXR0cmlidXRlcyk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGUoYXJjKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGFyYyxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBBbmltYXRlcyBjaXJjbGUgY291bnRlciBjbG9jayB3aXNlXG4gICAgICogQHBhcmFtIGFyY1xuICAgICAqIEBwYXJhbSB1cGRhdGVkUGVyY2VudFxuICAgICAqL1xuICAgIHB1YmxpYyBhbmltYXRlKGFyYzogRWxlbWVudCwgdXBkYXRlZFBlcmNlbnQ/OiBudW1iZXIpIHtcbiAgICAgICAgU3R5bGVIZWxwZXIuYW5pbWF0ZUFyYyh7XG4gICAgICAgICAgICBhcmMsXG4gICAgICAgICAgICBhcmNQYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBwZXJjZW50OiB1cGRhdGVkUGVyY2VudCA/IHVwZGF0ZWRQZXJjZW50IDogdGhpcy5vcHRpb25zLnBlcmNlbnQsXG4gICAgICAgICAgICAgICAgeDogdGhpcy5jb29yZGluYXRlcy54LFxuICAgICAgICAgICAgICAgIHk6IHRoaXMuY29vcmRpbmF0ZXMueSxcbiAgICAgICAgICAgICAgICByYWRpdXM6IHRoaXMucmFkaXVzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFuaW1hdGlvblN0ZXA6IHRoaXMub3B0aW9ucy5hbmltYXRpb25TdGVwLFxuICAgICAgICAgICAgcHJvZ3Jlc3NDb2xvcnM6IHRoaXMub3B0aW9ucy5wcm9ncmVzc0NvbG9ycyxcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLm9uQW5pbWF0aW9uRW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gRHJhd3MgZm9udCBhd2Vzb21lIGljb25cbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd0ljb24oKSB7XG4gICAgICAgIGNvbnN0IGljb24gPSB0aGlzLm9wdGlvbnMuaWNvbjtcbiAgICAgICAgY29uc3QgY3VzdG9tQ3NzQ2xhc3MgPSBPYmplY3RIZWxwZXIuZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChcbiAgICAgICAgICAgIHRoaXMuYWRkaXRpb25hbENzc0NsYXNzZXMsXG4gICAgICAgICAgICBcImljb25cIixcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdGV4dCA9IFN2Z1RhZ3MuYWRkVGV4dCh7XG4gICAgICAgICAgICBpZDogYHRleHQtJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgICAgIHg6IFN0cmluZyh0aGlzLmNvb3JkaW5hdGVzLngpLFxuICAgICAgICAgICAgeTogU3RyaW5nKHRoaXMuY29vcmRpbmF0ZXMueSAtIDI1KSxcbiAgICAgICAgICAgIGNsYXNzOiBgY2lyY2xlLWljb24gZmEgJHtjdXN0b21Dc3NDbGFzc31gLFxuICAgICAgICB9KTtcblxuICAgICAgICB0ZXh0LmlubmVySFRNTCA9IGAmI3gke2ljb259O2A7XG5cbiAgICAgICAgdGhpcy50YWdzLnB1c2goe1xuICAgICAgICAgICAgZWxlbWVudDogdGV4dCxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEcmF3cyBwZXJjZW50YWdlXG4gICAgICovXG4gICAgcHVibGljIGRyYXdUZXh0KCkge1xuICAgICAgICBjb25zdCBjdXN0b21Dc3NDbGFzcyA9IE9iamVjdEhlbHBlci5leHRyYWN0UHJvcGVydHlGcm9tT2JqZWN0KFxuICAgICAgICAgICAgdGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcyxcbiAgICAgICAgICAgIFwidGV4dFwiLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCB0ZXh0ID0gU3ZnVGFncy5hZGRUZXh0KHtcbiAgICAgICAgICAgIGlkOiBgdGV4dC0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICAgICAgeDogU3RyaW5nKHRoaXMuY29vcmRpbmF0ZXMueCksXG4gICAgICAgICAgICB5OiBTdHJpbmcodGhpcy5jb29yZGluYXRlcy55KSxcbiAgICAgICAgICAgIGNsYXNzOiBgY2lyY2xlLXRleHQgJHtjdXN0b21Dc3NDbGFzc31gLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBwZXJjZW50YWdlU2lnbiA9IHRoaXMub3B0aW9ucy5ub1BlcmNlbnRhZ2VTaWduID8gXCJcIiA6IFwiJVwiO1xuICAgICAgICBsZXQgY29udGVudCA9IGAke3RoaXMub3B0aW9ucy5wZXJjZW50fSR7cGVyY2VudGFnZVNpZ259YDtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50ZXh0UmVwbGFjZXNQZXJjZW50YWdlICYmIHRoaXMub3B0aW9ucy50ZXh0KSB7XG4gICAgICAgICAgICBjb250ZW50ID0gdGhpcy5vcHRpb25zLnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgdGV4dC50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XG5cbiAgICAgICAgdGhpcy50YWdzLnB1c2goe1xuICAgICAgICAgICAgZWxlbWVudDogdGV4dCxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEcmF3cyBpbmZvIHRleHQgYmVsb3cgcGVyY2VudGFnZVxuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3SW5mb1RleHQoKSB7XG4gICAgICAgIGNvbnN0IGN1c3RvbUNzc0NsYXNzID0gT2JqZWN0SGVscGVyLmV4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QoXG4gICAgICAgICAgICB0aGlzLmFkZGl0aW9uYWxDc3NDbGFzc2VzLFxuICAgICAgICAgICAgXCJpbmZvVGV4dFwiLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCB0ZXh0ID0gU3ZnVGFncy5hZGRUZXh0KHtcbiAgICAgICAgICAgIGlkOiBgdGV4dC0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICAgICAgeDogU3RyaW5nKHRoaXMuY29vcmRpbmF0ZXMueCksXG4gICAgICAgICAgICB5OiBTdHJpbmcodGhpcy5jb29yZGluYXRlcy55ICsgMjApLFxuICAgICAgICAgICAgY2xhc3M6IGBjaXJjbGUtaW5mby10ZXh0ICR7Y3VzdG9tQ3NzQ2xhc3N9YCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGV4dC50ZXh0Q29udGVudCA9IHRoaXMub3B0aW9ucy50ZXh0O1xuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHRleHQsXG4gICAgICAgICAgICBwYXJlbnRJZDogYHN2Zy0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gRHJhd3MgYSBsaW5lYXIgZ3JhZGllbnQgaW50byB0aGUgZm9yZWdyb3VuZCBzdHJva2VcbiAgICAgKi9cbiAgICBwcml2YXRlIGRyYXdMaW5lYXJHcmFkaWVudCgpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlczogSUF0dHJpYnV0ZXMgPSB7fTtcblxuICAgICAgICBhdHRyaWJ1dGVzLmdyYWRpZW50U3RhcnQgPSB0aGlzLm9wdGlvbnMuc3Ryb2tlR3JhZGllbnRbMF07XG4gICAgICAgIGF0dHJpYnV0ZXMuZ3JhZGllbnRFbmQgPSB0aGlzLm9wdGlvbnMuc3Ryb2tlR3JhZGllbnRbMV07XG5cbiAgICAgICAgY29uc3QgZGVmcyA9IFN2Z1RhZ3MuYWRkRGVmcyhhdHRyaWJ1dGVzKTtcbiAgICAgICAgdGhpcy50YWdzLnB1c2goe1xuICAgICAgICAgICAgZWxlbWVudDogZGVmcyxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2ltcGxlQ2lyY2xlO1xuIiwiaW1wb3J0IHtJRGljdGlvbmFyeX0gZnJvbSBcIi4uL2ludGVyZmFjZS9pZGljdGlvbmFyeVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPYmplY3RIZWxwZXIge1xuICAgIHB1YmxpYyBzdGF0aWMgZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChvYmplY3Q6IElEaWN0aW9uYXJ5LCBwcm9wZXJ0eTogc3RyaW5nKSB7XG4gICAgICAgIGxldCB2YWx1ZTogc3RyaW5nIHwgb2JqZWN0IHwgbnVtYmVyIHwgYm9vbGVhbiB8IFtdO1xuICAgICAgICBpZiAob2JqZWN0Lmhhc093blByb3BlcnR5KHByb3BlcnR5KSAmJiBvYmplY3RbcHJvcGVydHldKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtwcm9wZXJ0eV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtJQ2FsY3VsYXRpb25QYXJhbXN9IGZyb20gXCIuLi9pbnRlcmZhY2UvaWNhbGN1bGF0aW9uLXBhcmFtc1wiO1xuaW1wb3J0IHtJUHJvZ3Jlc3NDb2xvcn0gZnJvbSBcIi4uL2ludGVyZmFjZS9pcHJvZ3Jlc3MtY29sb3JcIjtcbmltcG9ydCBTdmdUYWdzSGVscGVyIGZyb20gXCIuL3N2Zy10YWdzLWhlbHBlclwiO1xuXG5leHBvcnQgY2xhc3MgU3R5bGVIZWxwZXIge1xuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBSZWRyYXdzIHRoZSBhcmMgKGNpcmNsZSkgYm9yZGVyXG4gICAgICogQHBhcmFtIHBhcmFtc1xuICAgICAqIEBwYXJhbSBjYWxsYmFja1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgYW5pbWF0ZUFyYyhcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICBhcmM6IEVsZW1lbnQsXG4gICAgICAgICAgICBhcmNQYXJhbXM6IElDYWxjdWxhdGlvblBhcmFtcyxcbiAgICAgICAgICAgIGFuaW1hdGlvblN0ZXA6IG51bWJlcixcbiAgICAgICAgICAgIHByb2dyZXNzQ29sb3JzPzogSVByb2dyZXNzQ29sb3JbXSxcbiAgICAgICAgfSxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHt9LFxuICAgICk6IHZvaWQge1xuICAgICAgICBjb25zdCB7YXJjLCBhcmNQYXJhbXMsIGFuaW1hdGlvblN0ZXAsIHByb2dyZXNzQ29sb3JzfSA9IHBhcmFtcztcbiAgICAgICAgY29uc3Qgc3RhcnRBbmdsZSA9IGFyY1BhcmFtcy5zdGFydEFuZ2xlID8gYXJjUGFyYW1zLnN0YXJ0QW5nbGUgOiAwO1xuICAgICAgICBjb25zdCBlbmRBbmdsZUdyYWRlID0gYXJjUGFyYW1zLmVuZEFuZ2xlR3JhZGUgPyBhcmNQYXJhbXMuZW5kQW5nbGVHcmFkZSA6IDM2MDtcbiAgICAgICAgY29uc3QgbXMgPSB0aGlzLmdldE1pbGxpc2Vjb25kcyhhcmNQYXJhbXMubXMsIGFyY1BhcmFtcy5lbmRBbmdsZUdyYWRlKTtcbiAgICAgICAgY29uc3QgaGFzUHJvZ3Jlc3NDb2xvciA9IEFycmF5LmlzQXJyYXkocHJvZ3Jlc3NDb2xvcnMpICYmIHByb2dyZXNzQ29sb3JzLmxlbmd0aCA+IDA7XG5cbiAgICAgICAgbGV0IGNvdW50ID0gMTtcbiAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoYXJjLCBwZXJjZW50LCBwcm9ncmVzc0NvbG9ycykgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW5kQW5nbGUgPSBlbmRBbmdsZUdyYWRlIC8gMTAwICogY291bnQ7XG4gICAgICAgICAgICBTdmdUYWdzSGVscGVyLnNldEF0dHJpYnV0ZXMoYXJjLCB7XG4gICAgICAgICAgICAgICAgZDogU3ZnVGFnc0hlbHBlci5kZXNjcmliZUFyYyhhcmNQYXJhbXMueCwgYXJjUGFyYW1zLnksIGFyY1BhcmFtcy5yYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoaGFzUHJvZ3Jlc3NDb2xvcikge1xuICAgICAgICAgICAgICAgIFN0eWxlSGVscGVyLnVwZGF0ZUNpcmNsZUNvbG9yKGNvdW50LCBhcmMsIHByb2dyZXNzQ29sb3JzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY291bnQgKz0gYW5pbWF0aW9uU3RlcDtcblxuICAgICAgICAgICAgaWYgKGNvdW50ID4gcGVyY2VudCkge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBtcywgYXJjLCBhcmNQYXJhbXMucGVyY2VudCwgcHJvZ3Jlc3NDb2xvcnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBJZiBvcHRpb25zLnByb2dyZXNzQ29sb3JzIGlzIHNldCwgY29sb3JzIGFyZSBjaGFuZ2VkIG9uIGdpdmVuIHBlcmNlbnRhZ2VzXG4gICAgICogQHBhcmFtIGFjdHVhbENvdW50XG4gICAgICogQHBhcmFtIGFyY1xuICAgICAqIEBwYXJhbSBwcm9ncmVzc0NvbG9yc1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgdXBkYXRlQ2lyY2xlQ29sb3IoYWN0dWFsQ291bnQ6IG51bWJlciwgYXJjOiBFbGVtZW50LCBwcm9ncmVzc0NvbG9yczogSVByb2dyZXNzQ29sb3JbXSkge1xuICAgICAgICBjb25zdCBwcm9ncmVzc0NvbG9yID0gcHJvZ3Jlc3NDb2xvcnMuZmluZCgocHJvZ3Jlc3M6IElQcm9ncmVzc0NvbG9yKSA9PiBwcm9ncmVzcy5wZXJjZW50ID09PSBhY3R1YWxDb3VudCk7XG4gICAgICAgIGlmIChwcm9ncmVzc0NvbG9yKSB7XG4gICAgICAgICAgICBTdmdUYWdzSGVscGVyLnNldEF0dHJpYnV0ZXMoYXJjLCB7XG4gICAgICAgICAgICAgICAgc3R5bGU6IGBzdHJva2U6ICR7cHJvZ3Jlc3NDb2xvci5jb2xvcn1gLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gZGVmYXVsdE1zXG4gICAgICogQHBhcmFtIGVuZEFuZ2xlR3JhZGVcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBnZXRNaWxsaXNlY29uZHMoZGVmYXVsdE1zOiBudW1iZXIsIGVuZEFuZ2xlR3JhZGU6IG51bWJlcikge1xuICAgICAgICBsZXQgbXMgPSBkZWZhdWx0TXMgPyBkZWZhdWx0TXMgOiA1MDtcblxuICAgICAgICBpZiAoZW5kQW5nbGVHcmFkZSA8PSAxODApIHtcbiAgICAgICAgICAgIG1zID0gbXMgLyAzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1zO1xuICAgIH1cbn1cbiIsImltcG9ydCB7SUF0dHJpYnV0ZXN9IGZyb20gXCIuLi9pbnRlcmZhY2UvaWF0dHJpYnV0ZXNcIjtcbmltcG9ydCB7SUNhbGN1bGF0aW9uUGFyYW1zfSBmcm9tIFwiLi4vaW50ZXJmYWNlL2ljYWxjdWxhdGlvbi1wYXJhbXNcIjtcblxuY2xhc3MgU3ZnVGFnc0hlbHBlciB7XG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQHBhcmFtIGVsZW1lbnQgU1ZHRWxlbWVudFxuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVzIElBdmFpbGFibGVPcHRpb25zXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgc2V0QXR0cmlidXRlcyhlbGVtZW50OiBFbGVtZW50LCBhdHRyaWJ1dGVzOiBJQXR0cmlidXRlcyk6IHZvaWQge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhhdHRyaWJ1dGVzKSkge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBAcGFyYW0gZWxlbWVudFxuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVzXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgc2V0QXR0cmlidXRlTmFtZXNwYWNlKGVsZW1lbnQ6IEVsZW1lbnQsIGF0dHJpYnV0ZXM6IElBdHRyaWJ1dGVzKTogdm9pZCB7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGF0dHJpYnV0ZXMpKSB7XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZU5TKG51bGwsIGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEZvciBlYXNpZXIgaGFuZGxpbmcgcG9sYXIgY29vcmRpbmF0ZXMgYXJlIHVzZWQgYW5kIGNvbnZlcnRlZCB0byBjYXJ0ZXNpYW4gY29vcmRpbmF0ZXNcbiAgICAgKiBAcGFyYW0gY2VudGVyWFxuICAgICAqIEBwYXJhbSBjZW50ZXJZXG4gICAgICogQHBhcmFtIHJhZGl1c1xuICAgICAqIEBwYXJhbSBhbmdsZUluRGVncmVlc1xuICAgICAqIEByZXR1cm5zIG9iamVjdFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgcG9sYXJUb0NhcnRlc2lhbihcbiAgICAgICAgY2VudGVyWDogbnVtYmVyLFxuICAgICAgICBjZW50ZXJZOiBudW1iZXIsXG4gICAgICAgIHJhZGl1czogbnVtYmVyLFxuICAgICAgICBhbmdsZUluRGVncmVlczogbnVtYmVyLFxuICAgICk6IElDYWxjdWxhdGlvblBhcmFtcyB7XG4gICAgICAgIGNvbnN0IGFuZ2xlSW5SYWRpYW5zID0gKGFuZ2xlSW5EZWdyZWVzIC0gOTApICogTWF0aC5QSSAvIDE4MC4wO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBjZW50ZXJYICsgTWF0aC5yb3VuZChyYWRpdXMgKiBNYXRoLmNvcyhhbmdsZUluUmFkaWFucykgKyBOdW1iZXIuRVBTSUxPTiksXG4gICAgICAgICAgICB5OiBjZW50ZXJZICsgTWF0aC5yb3VuZChyYWRpdXMgKiBNYXRoLnNpbihhbmdsZUluUmFkaWFucykgKyBOdW1iZXIuRVBTSUxPTiksXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgdGhlIHN0cmluZyBmb3IgdGhlIGRhdGEgYXR0cmlidXRlIGluIHRoZSBwYXRoIHRhZ1xuICAgICAqIEBwYXJhbSB4XG4gICAgICogQHBhcmFtIHlcbiAgICAgKiBAcGFyYW0gcmFkaXVzXG4gICAgICogQHBhcmFtIHN0YXJ0QW5nbGVcbiAgICAgKiBAcGFyYW0gZW5kQW5nbGVcbiAgICAgKiBAcmV0dXJucyBzdHJpbmdcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGRlc2NyaWJlQXJjKHg6IG51bWJlciwgeTogbnVtYmVyLCByYWRpdXM6IG51bWJlciwgc3RhcnRBbmdsZTogbnVtYmVyLCBlbmRBbmdsZTogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBTdmdUYWdzSGVscGVyLnBvbGFyVG9DYXJ0ZXNpYW4oeCwgeSwgcmFkaXVzLCBlbmRBbmdsZSk7XG4gICAgICAgIGNvbnN0IGVuZCA9IFN2Z1RhZ3NIZWxwZXIucG9sYXJUb0NhcnRlc2lhbih4LCB5LCByYWRpdXMsIHN0YXJ0QW5nbGUpO1xuICAgICAgICBjb25zdCBsYXJnZUFyY0ZsYWcgPSBlbmRBbmdsZSAtIHN0YXJ0QW5nbGUgPD0gMTgwID8gXCIwXCIgOiBcIjFcIjtcblxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgXCJNXCIsIHN0YXJ0LngsIHN0YXJ0LnksXG4gICAgICAgICAgICBcIkFcIiwgcmFkaXVzLCByYWRpdXMsIDAsIGxhcmdlQXJjRmxhZywgMCwgZW5kLngsIGVuZC55LFxuICAgICAgICBdLmpvaW4oXCIgXCIpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3ZnVGFnc0hlbHBlcjtcbiIsImltcG9ydCBcIi4uL3N0eWxlL21haW4uc2Nzc1wiO1xuaW1wb3J0IENpcmNsZSBmcm9tIFwiLi9iYXNlLWNsYXNzL2NpcmNsZVwiO1xuaW1wb3J0IHtJQXZhaWxhYmxlT3B0aW9uc30gZnJvbSBcIi4vaW50ZXJmYWNlL2lhdmFpbGFibGUtb3B0aW9uc1wiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiBHZXRzIGNhbGxlZCBmcm9tIGh0bWwgc2NyaXB0IHRhZ1xuICogQHBhcmFtIG9wdGlvbnNcbiAqIEByZXR1cm5zIHZvaWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5ld0NpcmNsZShvcHRpb25zOiBJQXZhaWxhYmxlT3B0aW9ucykge1xuICAgIGNvbnN0IGNpcmNsZSA9IG5ldyBDaXJjbGUoKTtcbiAgICByZXR1cm4gY2lyY2xlLm5ld0NpcmNsZShvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gR2V0cyBjYWxsZWQgZnJvbSBodG1sIHNjcmlwdCB0YWdcbiAqIEBwYXJhbSBwYXJlbnRJZFxuICogQHBhcmFtIHR5cGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5ld0NpcmNsZVdpdGhEYXRhU2V0KHBhcmVudElkOiBzdHJpbmcsIHR5cGU6IHN0cmluZykge1xuICAgIGNvbnN0IGNpcmNsZSA9IG5ldyBDaXJjbGUoKTtcbiAgICByZXR1cm4gY2lyY2xlLm5ld0NpcmNsZVdpdGhEYXRhU2V0KHBhcmVudElkLCB0eXBlKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=