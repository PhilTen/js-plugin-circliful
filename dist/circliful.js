/*! For license information please see circliful.js.LICENSE.txt */
var circliful=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/dist/",r(r.s="./src/index.ts")}({"./src/base-classes/base-circle.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"BaseCircle",(function(){return s}));var n=r("./src/svg-tags.ts"),i=function(){return(i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},s=function(){function t(t,e){var r=this;this.tags=[],this.animateInView=function(){r.options.animateInView&&window.addEventListener("scroll",(function(){r.checkAnimation(r.options.id)}))},this.checkAnimation=function(t){var e=document.getElementById(t),n=document.getElementById("arc-"+t),i=r.isElementInViewport(e);!e.classList.contains("reanimated")&&i&&(e.classList.add("reanimated"),setTimeout((function(){return r.animate(n)}),250))},this.isElementInViewport=function(t){var e=t.offsetTop,r=window.scrollY,n=window.innerHeight;return r<e&&r+n>e},this.drawContainer=function(t){var e=r.getViewBoxParams(),s=e.minX,o=e.minY,a=e.width,c=e.height,d=n.default.addSvg(i({width:r.size.width,height:r.size.height,viewBox:s+" "+o+" "+a+" "+c,id:"svg-"+r.options.id},t));r.tags.push({element:d,parentId:r.options.id})},this.append=function(){r.tags.forEach((function(t){document.getElementById(t.parentId).appendChild(t.element)}))},this.options=t,this.size=e}return t.prototype.getViewBoxParams=function(){var t=this.options,e=t.foregroundCircleWidth,r=t.backgroundCircleWidth,n=r;e>r&&(n=e);var i=0,s=0,o=this.size.width,a=this.size.height;return(e>5||r>5)&&(i=-n/1.5,s=-n/1.5,o=this.size.width+1.5*n,a=this.size.height+1.5*n),{minX:i,minY:s,width:o,height:a}},t}()},"./src/circle-type eager recursive ^\\.\\/.*$":function(t,e,r){var n={"./half-circle":"./src/circle-type/half-circle.ts","./half-circle.ts":"./src/circle-type/half-circle.ts","./plain-circle":"./src/circle-type/plain-circle.ts","./plain-circle.ts":"./src/circle-type/plain-circle.ts","./simple-circle":"./src/circle-type/simple-circle.ts","./simple-circle.ts":"./src/circle-type/simple-circle.ts"};function i(t){return s(t).then(r)}function s(t){return Promise.resolve().then((function(){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}))}i.keys=function(){return Object.keys(n)},i.resolve=s,i.id="./src/circle-type eager recursive ^\\.\\/.*$",t.exports=i},"./src/circle-type/half-circle.ts":function(t,e,r){"use strict";r.r(e);var n,i=r("./src/helpers/object-helper.ts"),s=r("./src/helpers/svg-tags-helper.ts"),o=r("./src/svg-tags.ts"),a=r("./src/circle-type/simple-circle.ts"),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),d=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.drawCircle=function(){var t={class:i.default.extractPropertyFromObject(n.additionalCssClasses,"svgContainer")};n.drawContainer(t),n.drawBackgroundCircle(),n.drawForegroundCircle(),n.drawText(),n.append()},n.drawBackgroundCircle=function(){var t=i.default.extractPropertyFromObject(n.additionalCssClasses,"backgroundCircle"),e=o.default.addArc({id:"arc-"+n.options.id,d:s.default.describeArc(n.coordinates.x,n.coordinates.y,n.radius,270,90),class:"background-circle "+t,"stroke-width":n.options.backgroundCircleWidth});n.tags.push({element:e,parentId:"svg-"+n.options.id})},n.drawForegroundCircle=function(){var t=1.8*n.options.percent,e=i.default.extractPropertyFromObject(n.additionalCssClasses,"foregroundCircle"),r=o.default.addArc({id:"arc-"+n.options.id,class:"foreground-circle "+e,d:s.default.describeArc(n.coordinates.x,n.coordinates.y,n.radius,0,t),transform:"rotate(-90, "+n.coordinates.x+", "+n.coordinates.y+")","stroke-width":n.options.foregroundCircleWidth});n.options.animation&&n.animate(r),n.tags.push({element:r,parentId:"svg-"+n.options.id})},n}return c(e,t),e.prototype.animate=function(t){s.default.animateArc({arc:t,arcParams:{percent:this.options.percent,x:this.coordinates.x,y:this.coordinates.y,radius:this.radius,endAngleGrade:180},animationStep:this.options.animationStep},this.options.onAnimationEnd)},e}(a.default);e.default=d},"./src/circle-type/plain-circle.ts":function(t,e,r){"use strict";r.r(e);var n,i=r("./src/base-classes/base-circle.ts"),s=r("./src/helpers/object-helper.ts"),o=r("./src/helpers/svg-tags-helper.ts"),a=r("./src/svg-tags.ts"),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),d=function(t){function e(e,r){var n=t.call(this,e,r)||this;n.coordinates={x:0,y:0},n.additionalCssClasses={},n.drawCircle=function(){n.drawContainer(),n.drawPlainCircle(),n.append()},n.drawPlainCircle=function(){var t=3.6*n.options.percent,e=s.default.extractPropertyFromObject(n.additionalCssClasses,"foregroundCircle"),r=a.default.addArc({id:"arc-"+n.options.id,class:"foreground-circle "+e,d:o.default.describeArc(n.coordinates.x,n.coordinates.y,n.radius,0,t),"stroke-width":n.options.foregroundCircleWidth});n.options.animation&&n.animate(r),n.tags.push({element:r,parentId:"svg-"+n.options.id})};var i=n.size.maxSize;return n.coordinates={x:i/2,y:i/2},n.radius=i/2.2,n.options.additionalCssClasses&&(n.additionalCssClasses=n.options.additionalCssClasses),n.animateInView(),n}return c(e,t),e.prototype.animate=function(t){o.default.animateArc({arc:t,arcParams:{percent:this.options.percent,x:this.coordinates.x,y:this.coordinates.y,radius:this.radius},animationStep:this.options.animationStep},this.options.onAnimationEnd)},e}(i.BaseCircle);e.default=d},"./src/circle-type/simple-circle.ts":function(t,e,r){"use strict";r.r(e);var n,i=r("./src/base-classes/base-circle.ts"),s=r("./src/helpers/object-helper.ts"),o=r("./src/helpers/svg-tags-helper.ts"),a=r("./src/svg-tags.ts"),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),d=function(t){function e(e,r){var n=t.call(this,e,r)||this;n.coordinates={x:0,y:0},n.additionalCssClasses={},n.drawCircle=function(){var t={class:s.default.extractPropertyFromObject(n.additionalCssClasses,"svgContainer")};n.drawContainer(t),n.options.strokeGradient&&n.drawLinearGradient(),n.drawBackgroundCircle(),n.drawForegroundCircle(),n.options.point&&n.drawPoint(),n.options.icon&&n.drawIcon(),n.drawText(),n.options.textBelow&&n.options.text&&n.drawInfoText(),n.append()},n.drawBackgroundCircle=function(){var t=s.default.extractPropertyFromObject(n.additionalCssClasses,"backgroundCircle"),e=a.default.addCircle({id:"circle-"+n.options.id,class:"background-circle "+t,cx:String(n.coordinates.x),cy:String(n.coordinates.y),r:String(n.radius),"stroke-width":n.options.backgroundCircleWidth});n.tags.push({element:e,parentId:"svg-"+n.options.id})},n.drawPoint=function(){var t=n.radius/100*n.options.pointSize,e=s.default.extractPropertyFromObject(n.additionalCssClasses,"point"),r=a.default.addCircle({id:"point-"+n.options.id,class:"point-circle "+e,cx:String(n.coordinates.x),cy:String(n.coordinates.y),r:String(t)});n.tags.push({element:r,parentId:"svg-"+n.options.id})},n.drawForegroundCircle=function(){var t=3.6*n.options.percent,e=s.default.extractPropertyFromObject(n.additionalCssClasses,"foregroundCircle"),r={id:"arc-"+n.options.id,class:"foreground-circle "+e,d:o.default.describeArc(n.coordinates.x,n.coordinates.y,n.radius,0,t),"stroke-width":n.options.foregroundCircleWidth};n.options.strokeGradient&&(r.stroke="url(#linearGradient)",r.class="foreground-circle-without-stroke-color");var i=a.default.addArc(r);n.options.animation&&n.animate(i),n.tags.push({element:i,parentId:"svg-"+n.options.id})},n.drawIcon=function(){var t=n.options.icon,e=s.default.extractPropertyFromObject(n.additionalCssClasses,"icon"),r=a.default.addText({id:"text-"+n.options.id,x:String(n.coordinates.x),y:String(n.coordinates.y-25),class:"circle-icon fa "+e});r.innerHTML="&#x"+t+";",n.tags.push({element:r,parentId:"svg-"+n.options.id})},n.drawText=function(){var t=s.default.extractPropertyFromObject(n.additionalCssClasses,"text"),e=a.default.addText({id:"text-"+n.options.id,x:String(n.coordinates.x),y:String(n.coordinates.y),class:"circle-text "+t}),r=n.options.noPercentageSign?"":"%",i=""+n.options.percent+r;!n.options.textBelow&&n.options.text&&(i=n.options.text),e.textContent=i,n.tags.push({element:e,parentId:"svg-"+n.options.id})},n.drawLinearGradient=function(){var t={};t.gradientStart=n.options.strokeGradient[0],t.gradientEnd=n.options.strokeGradient[1];var e=a.default.addDefs(t);n.tags.push({element:e,parentId:"svg-"+n.options.id})};var i=n.size.maxSize;return n.coordinates={x:i/2,y:i/2},n.radius=i/2.2,n.options.additionalCssClasses&&(n.additionalCssClasses=n.options.additionalCssClasses),n.animateInView(),n}return c(e,t),e.prototype.animate=function(t){o.default.animateArc({arc:t,arcParams:{percent:this.options.percent,x:this.coordinates.x,y:this.coordinates.y,radius:this.radius},animationStep:this.options.animationStep},this.options.onAnimationEnd)},e.prototype.drawInfoText=function(){var t=s.default.extractPropertyFromObject(this.additionalCssClasses,"infoText"),e=a.default.addText({id:"text-"+this.options.id,x:String(this.coordinates.x),y:String(this.coordinates.y+20),class:"circle-info-text "+t});e.textContent=this.options.text,this.tags.push({element:e,parentId:"svg-"+this.options.id})},e}(i.BaseCircle);e.default=d},"./src/circle.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/options.ts"),i=function(){function t(){}return t.initCircle=function(e){t.getClassInstance(e).then((function(t){t.drawCircle()}))},t.getClassInstance=function(e){var i=t.camelCaseToDash(e.type);return r("./src/circle-type eager recursive ^\\.\\/.*$")("./"+i).then((function(r){var i=(new n.default).mergeOptions(e),s=t.getParentSize(e.id);return new r.default(i,s)}))},t.camelCaseToDash=function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},t.getParentSize=function(t){var e=document.getElementById(t),r=e.clientWidth>0?e.clientWidth:200,n=e.clientHeight>0?e.clientHeight:200;return{maxSize:r>n?n:r,height:n,width:r}},t}();e.default=i},"./src/helpers/object-helper.ts":function(t,e,r){"use strict";r.r(e);var n=function(){function t(){}return t.extractPropertyFromObject=function(t,e){var r="";return t.hasOwnProperty(e)&&t[e]&&(r=t[e]),r},t}();e.default=n},"./src/helpers/svg-tags-helper.ts":function(t,e,r){"use strict";r.r(e);var n=function(){function t(){}return t.setAttributes=function(t,e){for(var r=0,n=Object.entries(e);r<n.length;r++){var i=n[r],s=i[0],o=i[1];t.setAttribute(s,o)}},t.setAttributeNamespace=function(t,e){for(var r=0,n=Object.entries(e);r<n.length;r++){var i=n[r],s=i[0],o=i[1];t.setAttributeNS(null,s,o)}},t.polarToCartesian=function(t,e,r,n){var i=(n-90)*Math.PI/180;return{x:t+r*Math.cos(i),y:e+r*Math.sin(i)}},t.describeArc=function(e,r,n,i,s){var o=t.polarToCartesian(e,r,n,s),a=t.polarToCartesian(e,r,n,i),c=s-i<=180?"0":"1";return["M",o.x,o.y,"A",n,n,0,c,0,a.x,a.y].join(" ")},t.animateArc=function(e,r){var n=e.arc,i=e.arcParams,s=e.animationStep,o=1,a=i.startAngle?i.startAngle:0,c=i.endAngleGrade?i.endAngleGrade:360,d=this.getMilliseconds(i.ms,i.endAngleGrade),l=setInterval((function(e,r){var n=c/100*o;t.setAttributes(e,{d:t.describeArc(i.x,i.y,i.radius,a,n)}),s>1?o+=s:o++,o>r&&clearInterval(l)}),d,n,i.percent)},t.getMilliseconds=function(t,e){var r=t||50;return e<=180&&(r/=3),r},t}();e.default=n},"./src/index.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"initCircle",(function(){return i}));r("./styles/main.scss");var n=r("./src/circle.ts");function i(t){return n.default.initCircle(t)}},"./src/options.ts":function(t,e,r){"use strict";r.r(e);var n=function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=function(){var t=this;this.defaultOptions={point:!1,pointSize:60,percent:75,foregroundCircleWidth:5,backgroundCircleWidth:15,animation:1,animationStep:1,noPercentageSign:!1,animateInView:!1,strokeLinecap:"butt",type:"SimpleCircle",textBelow:!1},this.mergeOptions=function(e){return n(n({},t.defaultOptions),e)}};e.default=i},"./src/svg-tags.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/helpers/object-helper.ts"),i=r("./src/helpers/svg-tags-helper.ts"),s=function(){function t(){}return t.addSvg=function(e){var r=document.createElementNS(t.namespaceURI,"svg");return e.class="circle-container"+n.default.extractPropertyFromObject(e,"class"),i.default.setAttributes(r,e),r},t.addCircle=function(e){var r=document.createElementNS(t.namespaceURI,"circle");return i.default.setAttributes(r,e),r},t.addArc=function(e){var r=document.createElementNS(t.namespaceURI,"path");return i.default.setAttributes(r,e),r},t.addText=function(e){var r=document.createElementNS(t.namespaceURI,"text");return r.setAttributeNS(null,"text-anchor","middle"),i.default.setAttributes(r,e),r},t.addDefs=function(e){var r=document.createElementNS(t.namespaceURI,"defs"),n=document.createElementNS(t.namespaceURI,"linearGradient");i.default.setAttributes(n,{id:"linearGradient"});var s=document.createElementNS(t.namespaceURI,"stop"),o={offset:"0","stop-color":e.gradientStart};i.default.setAttributes(s,o);var a=document.createElementNS(t.namespaceURI,"stop"),c={offset:"1","stop-color":e.gradientEnd};return i.default.setAttributes(a,c),n.appendChild(s),n.appendChild(a),r.appendChild(n),r},t.namespaceURI="http://www.w3.org/2000/svg",t}();e.default=s},"./styles/main.scss":function(t,e,r){}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaXJjbGlmdWwvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2Jhc2UtY2xhc3Nlcy9iYXNlLWNpcmNsZS50cyIsIndlYnBhY2s6Ly9jaXJjbGlmdWwvLi9zcmMvY2lyY2xlLXR5cGUgZWFnZXIgXlxcLlxcLy4qJCBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2NpcmNsaWZ1bC8uL3NyYy9jaXJjbGUtdHlwZS9oYWxmLWNpcmNsZS50cyIsIndlYnBhY2s6Ly9jaXJjbGlmdWwvLi9zcmMvY2lyY2xlLXR5cGUvcGxhaW4tY2lyY2xlLnRzIiwid2VicGFjazovL2NpcmNsaWZ1bC8uL3NyYy9jaXJjbGUtdHlwZS9zaW1wbGUtY2lyY2xlLnRzIiwid2VicGFjazovL2NpcmNsaWZ1bC8uL3NyYy9jaXJjbGUudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2hlbHBlcnMvb2JqZWN0LWhlbHBlci50cyIsIndlYnBhY2s6Ly9jaXJjbGlmdWwvLi9zcmMvaGVscGVycy9zdmctdGFncy1oZWxwZXIudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL2NpcmNsaWZ1bC8uL3NyYy9vcHRpb25zLnRzIiwid2VicGFjazovL2NpcmNsaWZ1bC8uL3NyYy9zdmctdGFncy50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIm9wdGlvbnMiLCJzaXplIiwidGFncyIsImFuaW1hdGVJblZpZXciLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiY2hlY2tBbmltYXRpb24iLCJpZCIsInN2Z1BhcmVudElkIiwiY2lyY2xlQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImZvcmVncm91bmRDaXJjbGUiLCJpblZpZXciLCJpc0VsZW1lbnRJblZpZXdwb3J0IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJhZGQiLCJzZXRUaW1lb3V0IiwiYW5pbWF0ZSIsIm9mZnNldFRvcCIsInNjcm9sbFBvc2l0aW9uVG9wIiwic2Nyb2xsWSIsIndpbmRvd0hlaWdodCIsImlubmVySGVpZ2h0IiwiZHJhd0NvbnRhaW5lciIsImFkZGl0aW9uYWxBdHRyaWJ1dGVzIiwibWluWCIsIm1pblkiLCJ3aWR0aCIsImhlaWdodCIsImNvbnRhaW5lciIsImFkZFN2ZyIsInZpZXdCb3giLCJwdXNoIiwiZWxlbWVudCIsInBhcmVudElkIiwiYXBwZW5kIiwiZm9yRWFjaCIsInRhZyIsImFwcGVuZENoaWxkIiwidGhpcyIsImdldFZpZXdCb3hQYXJhbXMiLCJmb3JlZ3JvdW5kQ2lyY2xlV2lkdGgiLCJiYWNrZ3JvdW5kQ2lyY2xlV2lkdGgiLCJjaXJjbGVXaWR0aCIsIm1hcCIsIndlYnBhY2tBc3luY0NvbnRleHQiLCJyZXEiLCJ3ZWJwYWNrQXN5bmNDb250ZXh0UmVzb2x2ZSIsInRoZW4iLCJQcm9taXNlIiwicmVzb2x2ZSIsImUiLCJFcnJvciIsImNvZGUiLCJrZXlzIiwiZHJhd0NpcmNsZSIsImFkZGl0aW9uYWxDb250YWluZXJBdHRyaWJ1dGVzIiwiY2xhc3MiLCJleHRyYWN0UHJvcGVydHlGcm9tT2JqZWN0IiwiYWRkaXRpb25hbENzc0NsYXNzZXMiLCJkcmF3QmFja2dyb3VuZENpcmNsZSIsImRyYXdGb3JlZ3JvdW5kQ2lyY2xlIiwiZHJhd1RleHQiLCJjdXN0b21Dc3NDbGFzcyIsImFyYyIsImFkZEFyYyIsImRlc2NyaWJlQXJjIiwiY29vcmRpbmF0ZXMiLCJ4IiwieSIsInJhZGl1cyIsImVuZEFuZ2xlIiwicGVyY2VudCIsImFuaW1hdGlvbiIsImFuaW1hdGVBcmMiLCJhcmNQYXJhbXMiLCJlbmRBbmdsZUdyYWRlIiwiYW5pbWF0aW9uU3RlcCIsIm9uQW5pbWF0aW9uRW5kIiwiZHJhd1BsYWluQ2lyY2xlIiwibWF4U2l6ZSIsInN0cm9rZUdyYWRpZW50IiwiZHJhd0xpbmVhckdyYWRpZW50IiwicG9pbnQiLCJkcmF3UG9pbnQiLCJpY29uIiwiZHJhd0ljb24iLCJ0ZXh0QmVsb3ciLCJ0ZXh0IiwiZHJhd0luZm9UZXh0IiwiY2lyY2xlIiwiYWRkQ2lyY2xlIiwiU3RyaW5nIiwicG9pbnRTaXplIiwiY3giLCJjeSIsImF0dHJpYnV0ZXMiLCJzdHJva2UiLCJhZGRUZXh0IiwiaW5uZXJIVE1MIiwicGVyY2VudGFnZVNpZ24iLCJub1BlcmNlbnRhZ2VTaWduIiwiY29udGVudCIsInRleHRDb250ZW50IiwiZ3JhZGllbnRTdGFydCIsImdyYWRpZW50RW5kIiwiZGVmcyIsImFkZERlZnMiLCJpbml0Q2lyY2xlIiwiQ2lyY2xlIiwiZ2V0Q2xhc3NJbnN0YW5jZSIsImZpbGVOYW1lIiwiY2FtZWxDYXNlVG9EYXNoIiwidHlwZSIsIkNpcmNsZUNsYXNzIiwibWVyZ2VkT3B0aW9ucyIsIm1lcmdlT3B0aW9ucyIsImdldFBhcmVudFNpemUiLCJkZWZhdWx0IiwiY2xhc3NOYW1lIiwicmVwbGFjZSIsInRvTG93ZXJDYXNlIiwiYm94IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJzZXRBdHRyaWJ1dGVzIiwiZW50cmllcyIsInNldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZU5hbWVzcGFjZSIsInNldEF0dHJpYnV0ZU5TIiwicG9sYXJUb0NhcnRlc2lhbiIsImNlbnRlclgiLCJjZW50ZXJZIiwiYW5nbGVJbkRlZ3JlZXMiLCJhbmdsZUluUmFkaWFucyIsIk1hdGgiLCJQSSIsImNvcyIsInNpbiIsInN0YXJ0QW5nbGUiLCJzdGFydCIsIlN2Z1RhZ3NIZWxwZXIiLCJlbmQiLCJsYXJnZUFyY0ZsYWciLCJqb2luIiwicGFyYW1zIiwiY2FsbGJhY2siLCJjb3VudCIsIm1zIiwiZ2V0TWlsbGlzZWNvbmRzIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJkZWZhdWx0TXMiLCJkZWZhdWx0T3B0aW9ucyIsInN0cm9rZUxpbmVjYXAiLCJzdmciLCJjcmVhdGVFbGVtZW50TlMiLCJTdmdUYWdzIiwibmFtZXNwYWNlVVJJIiwibGluZWFyR3JhZGllbnQiLCJmaXJzdFN0b3AiLCJmaXJzdFN0b3BBdHRyaWJ1dGVzIiwic2Vjb25kU3RvcCIsInNlY29uZFN0b3BBdHRyaWJ1dGVzIl0sIm1hcHBpbmdzIjoiOzBCQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQTBEZixPQXJEQUYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFl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QW9CUSxHQUV6Q1IsR0FPRyxFQUFBbUIsUUFBZCxTQUFzQlgsR0FDbEIsSUFBTVUsRUFBT2xHLFNBQVNxSixnQkFBZ0JDLEVBQVFDLGFBQWMsUUFDdERDLEVBQWlCeEosU0FBU3FKLGdCQUFnQkMsRUFBUUMsYUFBYyxrQkFJdEUsVUFBY2xDLGNBQWNtQyxFQUhLLENBQzdCM0osR0FBSSxtQkFJUixJQUFNNEosRUFBWXpKLFNBQVNxSixnQkFBZ0JDLEVBQVFDLGFBQWMsUUFDM0RHLEVBQXNCLENBQ3hCLE9BQVUsSUFDVixhQUFjbEUsRUFBV1EsZUFFN0IsVUFBY3FCLGNBQWNvQyxFQUF5QkMsR0FFckQsSUFBTUMsRUFBYTNKLFNBQVNxSixnQkFBZ0JDLEVBQVFDLGFBQWMsUUFDNURLLEVBQXVCLENBQ3pCLE9BQVUsSUFDVixhQUFjcEUsRUFBV1MsYUFRN0IsT0FOQSxVQUFjb0IsY0FBY3NDLEVBQTBCQyxHQUV0REosRUFBZTFILFlBQVkySCxHQUMzQkQsRUFBZTFILFlBQVk2SCxHQUMzQnpELEVBQUtwRSxZQUFZMEgsR0FFVnRELEdBdEZHLEVBQUFxRCxhQUFlLDZCQXdGakMsRUF6RkEsR0EyRmUsYSIsImZpbGUiOiJjaXJjbGlmdWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9kaXN0L1wiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NyYy9pbmRleC50c1wiKTtcbiIsImltcG9ydCB7SUF2YWlsYWJsZU9wdGlvbnN9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2lhdmFpbGFibGUtb3B0aW9uc1wiO1xuaW1wb3J0IHtJU2l6ZX0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaXNpemVcIjtcbmltcG9ydCB7SVRhZ30gZnJvbSBcIi4uL2ludGVyZmFjZXMvaXRhZ1wiO1xuaW1wb3J0IFN2Z1RhZ3MgZnJvbSBcIi4uL3N2Zy10YWdzXCI7XG5cbi8qKlxuICogQmFzZSBmb3IgY2lyY2xlIHR5cGUgaW1wbGVtZW50YXRpb25zXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlQ2lyY2xlIHtcbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gT3B0aW9ucyBvYmplY3Qgc2Vjb25kIGFyZ3VtZW50IGZvciBpbml0Q2lyY2xlIG1ldGhvZFxuICAgICAqL1xuICAgIHB1YmxpYyBvcHRpb25zOiBJQXZhaWxhYmxlT3B0aW9ucztcbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gU2l6ZSBvZiBzdXJyb3VuZGluZyB0YWcgZm9yIHN2ZyB0YWdcbiAgICAgKi9cbiAgICBwdWJsaWMgc2l6ZTogSVNpemU7XG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEFycmF5IG9mIGFsbCB0YWdzIHRoYXQgbmVlZHMgdG8gYmUgYXBwZW5kZWQgdG8gdGhlIGRvbVxuICAgICAqL1xuICAgIHB1YmxpYyB0YWdzOiBJVGFnW10gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBJbml0aWFsaXplcyB0aGUgb3B0aW9ucyBvYmplY3QgYW5kIHRoZSBzaXplIGZvciB0aGUgc3ZnIHRhZ1xuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIHNpemVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3Iob3B0aW9uczogSUF2YWlsYWJsZU9wdGlvbnMsIHNpemU6IElTaXplKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEZpcmVzIHNjcm9sbCBldmVudCBpZiBhbmltYXRlSW5WaWV3IGlzIHNldCB0byB0cnVlIGFuZCBydW5zIGNoZWNrQW5pbWF0aW9uXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFuaW1hdGVJblZpZXcgPSAoKTogdm9pZCA9PiB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0ZUluVmlldykge1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tBbmltYXRpb24odGhpcy5vcHRpb25zLmlkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIFdoZW4gY2lyY2xlIGlzIGluIHZpZXcgcG9ydCBpdCBhbmltYXRlcyB0aGUgZm9yZWdyb3VuZCBjaXJjbGVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgY2hlY2tBbmltYXRpb24gPSAoc3ZnUGFyZW50SWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBjaXJjbGVDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdmdQYXJlbnRJZCk7XG4gICAgICAgIGNvbnN0IGZvcmVncm91bmRDaXJjbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYXJjLSR7c3ZnUGFyZW50SWR9YCk7XG4gICAgICAgIGNvbnN0IGluVmlldyA9IHRoaXMuaXNFbGVtZW50SW5WaWV3cG9ydChjaXJjbGVDb250YWluZXIpO1xuXG4gICAgICAgIGlmICghY2lyY2xlQ29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucyhcInJlYW5pbWF0ZWRcIikgJiYgaW5WaWV3KSB7XG4gICAgICAgICAgICBjaXJjbGVDb250YWluZXIuY2xhc3NMaXN0LmFkZChcInJlYW5pbWF0ZWRcIik7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuYW5pbWF0ZShmb3JlZ3JvdW5kQ2lyY2xlIGFzIEVsZW1lbnQpLCAyNTApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIENhbGN1bGF0ZXMgaWYgdGhlIGNpcmNsZSBpcyBpbiB2aWV3cG9ydFxuICAgICAqIEBwYXJhbSBjaXJjbGVDb250YWluZXJcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgaXNFbGVtZW50SW5WaWV3cG9ydCA9IChjaXJjbGVDb250YWluZXI6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IG9mZnNldFRvcCA9IGNpcmNsZUNvbnRhaW5lci5vZmZzZXRUb3A7XG4gICAgICAgIGNvbnN0IHNjcm9sbFBvc2l0aW9uVG9wID0gd2luZG93LnNjcm9sbFk7XG4gICAgICAgIGNvbnN0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcblxuICAgICAgICByZXR1cm4gc2Nyb2xsUG9zaXRpb25Ub3AgPCBvZmZzZXRUb3AgJiYgIHNjcm9sbFBvc2l0aW9uVG9wICsgd2luZG93SGVpZ2h0ID4gb2Zmc2V0VG9wO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBHZXRzIGNhbGxlZCBpbiB0aGUgY2lyY2xlIGNsYXNzIHRvIGRyYXcgdGhlIGNpcmNsZSB3aXRoIGFsbCBpdHMgY2hpbGQgZWxlbWVudHMsIHRoZSBtZXRob2RzXG4gICAgICogZHJhd0NvbnRhaW5lciBhbmQgYXBwZW5kIG11c3QgYmUgYWx3YXlzIGNhbGxlZCBpbiBvd24gaW1wbGVtZW50YXRpb25zIGlmIHlvdSBkb250IGltcGxlbWVudCBvd24gbG9naWMgZm9yIHRoZW1cbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgZHJhd0NpcmNsZSgpOiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQHBhcmFtIGVsZW1lbnRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgYW5pbWF0ZShlbGVtZW50OiBFbGVtZW50KTogdm9pZDtcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEcmF3cyB0aGUgc3ZnIHRhZ1xuICAgICAqIEBwYXJhbSBhZGRpdGlvbmFsQXR0cmlidXRlc1xuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3Q29udGFpbmVyID0gKGFkZGl0aW9uYWxBdHRyaWJ1dGVzPzogb2JqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHttaW5YLCBtaW5ZLCB3aWR0aCwgaGVpZ2h0fSA9IHRoaXMuZ2V0Vmlld0JveFBhcmFtcygpO1xuXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IFN2Z1RhZ3MuYWRkU3ZnKHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLnNpemUud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuc2l6ZS5oZWlnaHQsXG4gICAgICAgICAgICB2aWV3Qm94OiBgJHttaW5YfSAke21pbll9ICR7d2lkdGh9ICR7aGVpZ2h0fWAsXG4gICAgICAgICAgICBpZDogYHN2Zy0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICAgICAgLi4uYWRkaXRpb25hbEF0dHJpYnV0ZXMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGNvbnRhaW5lcixcbiAgICAgICAgICAgIHBhcmVudElkOiB0aGlzLm9wdGlvbnMuaWQsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBHZXQgdmlld0JveCBwYXJhbWV0ZXJzLCByZXNpemUgdGhlIHZpZXcgaWYgdGhlIGJvcmRlciB3b3VsZCBvdmVyZmxvd1xuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0Vmlld0JveFBhcmFtcygpIHsgLy8gVE9ETyBhZGQgY29ycmVjdCByZXR1cm4gdHlwZVxuICAgICAgICBjb25zdCB7Zm9yZWdyb3VuZENpcmNsZVdpZHRoLCBiYWNrZ3JvdW5kQ2lyY2xlV2lkdGh9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBsZXQgY2lyY2xlV2lkdGggPSBiYWNrZ3JvdW5kQ2lyY2xlV2lkdGg7XG4gICAgICAgIC8vIEdldCB0aGlja2VyIGNpcmNsZSBzdHJva2Ugd2lkdGgsIGZvcmVncm91bmQgb3IgYmFja2dyb3VuZFxuICAgICAgICBpZiAoZm9yZWdyb3VuZENpcmNsZVdpZHRoID4gYmFja2dyb3VuZENpcmNsZVdpZHRoKSB7XG4gICAgICAgICAgICBjaXJjbGVXaWR0aCA9IGZvcmVncm91bmRDaXJjbGVXaWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtaW5YID0gMDtcbiAgICAgICAgbGV0IG1pblkgPSAwO1xuICAgICAgICBsZXQgd2lkdGggPSB0aGlzLnNpemUud2lkdGg7XG4gICAgICAgIGxldCBoZWlnaHQgPSB0aGlzLnNpemUuaGVpZ2h0O1xuICAgICAgICBpZiAoZm9yZWdyb3VuZENpcmNsZVdpZHRoID4gNSB8fCBiYWNrZ3JvdW5kQ2lyY2xlV2lkdGggPiA1KSB7XG4gICAgICAgICAgICBtaW5YID0gLShjaXJjbGVXaWR0aCAvIDEuNSk7XG4gICAgICAgICAgICBtaW5ZID0gLShjaXJjbGVXaWR0aCAvIDEuNSk7XG4gICAgICAgICAgICB3aWR0aCA9IHRoaXMuc2l6ZS53aWR0aCArICgxLjUgKiBjaXJjbGVXaWR0aCk7XG4gICAgICAgICAgICBoZWlnaHQgPSB0aGlzLnNpemUuaGVpZ2h0ICsgKDEuNSAqIGNpcmNsZVdpZHRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7bWluWCwgbWluWSwgd2lkdGgsIGhlaWdodH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEFwcGVuZHMgdGhlIHRhZ3MgdG8gdGhlIGRvbVxuICAgICAqL1xuICAgIHB1YmxpYyBhcHBlbmQgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMudGFncy5mb3JFYWNoKCh0YWcpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhZy5wYXJlbnRJZCk7XG4gICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodGFnLmVsZW1lbnQgYXMgTm9kZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsInZhciBtYXAgPSB7XG5cdFwiLi9oYWxmLWNpcmNsZVwiOiBcIi4vc3JjL2NpcmNsZS10eXBlL2hhbGYtY2lyY2xlLnRzXCIsXG5cdFwiLi9oYWxmLWNpcmNsZS50c1wiOiBcIi4vc3JjL2NpcmNsZS10eXBlL2hhbGYtY2lyY2xlLnRzXCIsXG5cdFwiLi9wbGFpbi1jaXJjbGVcIjogXCIuL3NyYy9jaXJjbGUtdHlwZS9wbGFpbi1jaXJjbGUudHNcIixcblx0XCIuL3BsYWluLWNpcmNsZS50c1wiOiBcIi4vc3JjL2NpcmNsZS10eXBlL3BsYWluLWNpcmNsZS50c1wiLFxuXHRcIi4vc2ltcGxlLWNpcmNsZVwiOiBcIi4vc3JjL2NpcmNsZS10eXBlL3NpbXBsZS1jaXJjbGUudHNcIixcblx0XCIuL3NpbXBsZS1jaXJjbGUudHNcIjogXCIuL3NyYy9jaXJjbGUtdHlwZS9zaW1wbGUtY2lyY2xlLnRzXCJcbn07XG5cblxuZnVuY3Rpb24gd2VicGFja0FzeW5jQ29udGV4dChyZXEpIHtcblx0cmV0dXJuIHdlYnBhY2tBc3luY0NvbnRleHRSZXNvbHZlKHJlcSkudGhlbihfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbn1cbmZ1bmN0aW9uIHdlYnBhY2tBc3luY0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHQvLyBIZXJlIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKSBpcyB1c2VkIGluc3RlYWQgb2YgbmV3IFByb21pc2UoKSB0byBwcmV2ZW50XG5cdC8vIHVuY2F1Z2h0IGV4Y2VwdGlvbiBwb3BwaW5nIHVwIGluIGRldnRvb2xzXG5cdHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0XHRlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0XHRyZXR1cm4gbWFwW3JlcV07XG5cdH0pO1xufVxud2VicGFja0FzeW5jQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0FzeW5jQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tBc3luY0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tBc3luY0NvbnRleHRSZXNvbHZlO1xud2VicGFja0FzeW5jQ29udGV4dC5pZCA9IFwiLi9zcmMvY2lyY2xlLXR5cGUgZWFnZXIgcmVjdXJzaXZlIF5cXFxcLlxcXFwvLiokXCI7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tBc3luY0NvbnRleHQ7IiwiaW1wb3J0IE9iamVjdEhlbHBlciBmcm9tIFwiLi4vaGVscGVycy9vYmplY3QtaGVscGVyXCI7XG5pbXBvcnQgU3ZnVGFnc0hlbHBlciBmcm9tIFwiLi4vaGVscGVycy9zdmctdGFncy1oZWxwZXJcIjtcbmltcG9ydCB7SUF2YWlsYWJsZU9wdGlvbnN9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2lhdmFpbGFibGUtb3B0aW9uc1wiO1xuaW1wb3J0IHtJU2l6ZX0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaXNpemVcIjtcbmltcG9ydCBTdmdUYWdzIGZyb20gXCIuLi9zdmctdGFnc1wiO1xuaW1wb3J0IFNpbXBsZUNpcmNsZSBmcm9tIFwiLi9zaW1wbGUtY2lyY2xlXCI7XG5cbi8qKlxuICogRXZlcnkgY2lyY2xlIGdldHMgZHluYW1pY2FsbHkgY2FsbGVkIGJ5IHRoZSBnaXZlbiB0eXBlIGluIHRoZSBvcHRpb25zIG9iamVjdCBleGFtcGxlOiB7IHR5cGU6ICdIYWxmQ2lyY2xlJyB9XG4gKi9cbmNsYXNzIEhhbGZDaXJjbGUgZXh0ZW5kcyBTaW1wbGVDaXJjbGUge1xuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBFeHRlbmRlZCBmb3IgY3V0dGluZyBzdmcgY29udGFpbmVyIGhlaWdodCB0byBoYWxmXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gc2l6ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IElBdmFpbGFibGVPcHRpb25zLCBzaXplOiBJU2l6ZSkge1xuICAgICAgICBzdXBlcihvcHRpb25zLCBzaXplKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3Q2lyY2xlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBhZGRpdGlvbmFsQ29udGFpbmVyQXR0cmlidXRlcyA9IHtcbiAgICAgICAgICAgIGNsYXNzOiBPYmplY3RIZWxwZXIuZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdCh0aGlzLmFkZGl0aW9uYWxDc3NDbGFzc2VzLCBcInN2Z0NvbnRhaW5lclwiKSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kcmF3Q29udGFpbmVyKGFkZGl0aW9uYWxDb250YWluZXJBdHRyaWJ1dGVzKTtcbiAgICAgICAgdGhpcy5kcmF3QmFja2dyb3VuZENpcmNsZSgpO1xuICAgICAgICB0aGlzLmRyYXdGb3JlZ3JvdW5kQ2lyY2xlKCk7XG4gICAgICAgIHRoaXMuZHJhd1RleHQoKTtcbiAgICAgICAgdGhpcy5hcHBlbmQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gRHJhd3MgdGhlIGJhY2tncm91bmQgY2lyY2xlXG4gICAgICovXG4gICAgcHVibGljIGRyYXdCYWNrZ3JvdW5kQ2lyY2xlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBzdGFydEFuZ2xlID0gMjcwO1xuICAgICAgICBjb25zdCBlbmRBbmdsZSA9IDkwO1xuICAgICAgICBjb25zdCBjdXN0b21Dc3NDbGFzcyA9IE9iamVjdEhlbHBlci5leHRyYWN0UHJvcGVydHlGcm9tT2JqZWN0KFxuICAgICAgICAgICAgdGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcyxcbiAgICAgICAgICAgIFwiYmFja2dyb3VuZENpcmNsZVwiLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBhcmMgPSBTdmdUYWdzLmFkZEFyYyh7XG4gICAgICAgICAgICBcImlkXCI6IGBhcmMtJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgICAgIFwiZFwiOiBTdmdUYWdzSGVscGVyLmRlc2NyaWJlQXJjKHRoaXMuY29vcmRpbmF0ZXMueCwgdGhpcy5jb29yZGluYXRlcy55LCB0aGlzLnJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUpLFxuICAgICAgICAgICAgXCJjbGFzc1wiOiBgYmFja2dyb3VuZC1jaXJjbGUgJHtjdXN0b21Dc3NDbGFzc31gLFxuICAgICAgICAgICAgXCJzdHJva2Utd2lkdGhcIjogdGhpcy5vcHRpb25zLmJhY2tncm91bmRDaXJjbGVXaWR0aCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy50YWdzLnB1c2goe1xuICAgICAgICAgICAgZWxlbWVudDogYXJjLFxuICAgICAgICAgICAgcGFyZW50SWQ6IGBzdmctJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIERyYXdzIHRoZSBmb3JlZ3JvdW5kIGNpcmNsZSBieSBnaXZlbiBwZXJjZW50YWdlIHdpdGggb3B0aW9uYWwgYW5pbWF0aW9uXG4gICAgICovXG4gICAgcHVibGljIGRyYXdGb3JlZ3JvdW5kQ2lyY2xlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBlbmRBbmdsZSA9IDE4MCAvIDEwMCAqIHRoaXMub3B0aW9ucy5wZXJjZW50O1xuICAgICAgICBjb25zdCBjdXN0b21Dc3NDbGFzcyA9IE9iamVjdEhlbHBlci5leHRyYWN0UHJvcGVydHlGcm9tT2JqZWN0KFxuICAgICAgICAgICAgdGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcyxcbiAgICAgICAgICAgIFwiZm9yZWdyb3VuZENpcmNsZVwiLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBhcmMgPSBTdmdUYWdzLmFkZEFyYyh7XG4gICAgICAgICAgICBcImlkXCI6IGBhcmMtJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgICAgIFwiY2xhc3NcIjogYGZvcmVncm91bmQtY2lyY2xlICR7Y3VzdG9tQ3NzQ2xhc3N9YCxcbiAgICAgICAgICAgIFwiZFwiOiBTdmdUYWdzSGVscGVyLmRlc2NyaWJlQXJjKHRoaXMuY29vcmRpbmF0ZXMueCwgdGhpcy5jb29yZGluYXRlcy55LCB0aGlzLnJhZGl1cywgMCwgZW5kQW5nbGUpLFxuICAgICAgICAgICAgXCJ0cmFuc2Zvcm1cIjogYHJvdGF0ZSgtOTAsICR7dGhpcy5jb29yZGluYXRlcy54fSwgJHt0aGlzLmNvb3JkaW5hdGVzLnl9KWAsXG4gICAgICAgICAgICBcInN0cm9rZS13aWR0aFwiOiB0aGlzLm9wdGlvbnMuZm9yZWdyb3VuZENpcmNsZVdpZHRoLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRlKGFyYyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRhZ3MucHVzaCh7XG4gICAgICAgICAgICBlbGVtZW50OiBhcmMsXG4gICAgICAgICAgICBwYXJlbnRJZDogYHN2Zy0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gQW5pbWF0ZXMgY2lyY2xlIGNvdW50ZXIgY2xvY2sgd2lzZVxuICAgICAqIEBwYXJhbSBhcmNcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYW5pbWF0ZShhcmM6IEVsZW1lbnQpIHtcbiAgICAgICAgU3ZnVGFnc0hlbHBlci5hbmltYXRlQXJjKHtcbiAgICAgICAgICAgIGFyYyxcbiAgICAgICAgICAgIGFyY1BhcmFtczoge1xuICAgICAgICAgICAgICAgIHBlcmNlbnQ6IHRoaXMub3B0aW9ucy5wZXJjZW50LFxuICAgICAgICAgICAgICAgIHg6IHRoaXMuY29vcmRpbmF0ZXMueCxcbiAgICAgICAgICAgICAgICB5OiB0aGlzLmNvb3JkaW5hdGVzLnksXG4gICAgICAgICAgICAgICAgcmFkaXVzOiB0aGlzLnJhZGl1cyxcbiAgICAgICAgICAgICAgICBlbmRBbmdsZUdyYWRlOiAxODAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYW5pbWF0aW9uU3RlcDogdGhpcy5vcHRpb25zLmFuaW1hdGlvblN0ZXAsXG4gICAgICAgIH0sIHRoaXMub3B0aW9ucy5vbkFuaW1hdGlvbkVuZCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBIYWxmQ2lyY2xlO1xuIiwiaW1wb3J0IHtCYXNlQ2lyY2xlfSBmcm9tIFwiLi4vYmFzZS1jbGFzc2VzL2Jhc2UtY2lyY2xlXCI7XG5pbXBvcnQgT2JqZWN0SGVscGVyIGZyb20gXCIuLi9oZWxwZXJzL29iamVjdC1oZWxwZXJcIjtcbmltcG9ydCBTdmdUYWdzSGVscGVyIGZyb20gXCIuLi9oZWxwZXJzL3N2Zy10YWdzLWhlbHBlclwiO1xuaW1wb3J0IHtJQXZhaWxhYmxlT3B0aW9uc30gZnJvbSBcIi4uL2ludGVyZmFjZXMvaWF2YWlsYWJsZS1vcHRpb25zXCI7XG5pbXBvcnQge0lTaXplfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9pc2l6ZVwiO1xuaW1wb3J0IFN2Z1RhZ3MgZnJvbSBcIi4uL3N2Zy10YWdzXCI7XG5cbi8qKlxuICogRXZlcnkgY2lyY2xlIGdldHMgZHluYW1pY2FsbHkgY2FsbGVkIGJ5IHRoZSBnaXZlbiB0eXBlIGluIHRoZSBvcHRpb25zIG9iamVjdCBleGFtcGxlOiB7IHR5cGU6ICdQbGFpbkNpcmNsZScgfVxuICovXG5jbGFzcyBQbGFpbkNpcmNsZSBleHRlbmRzIEJhc2VDaXJjbGUge1xuICAgIHByaXZhdGUgY29vcmRpbmF0ZXMgPSB7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDAsXG4gICAgfTtcbiAgICBwcml2YXRlIHJhZGl1czogbnVtYmVyO1xuICAgIHByaXZhdGUgYWRkaXRpb25hbENzc0NsYXNzZXM6IElBdmFpbGFibGVPcHRpb25zW1wiYWRkaXRpb25hbENzc0NsYXNzZXNcIl0gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogSUF2YWlsYWJsZU9wdGlvbnMsIHNpemU6IElTaXplKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMsIHNpemUpO1xuXG4gICAgICAgIGNvbnN0IG1heFNpemUgPSB0aGlzLnNpemUubWF4U2l6ZTtcbiAgICAgICAgdGhpcy5jb29yZGluYXRlcyA9IHtcbiAgICAgICAgICAgIHg6IG1heFNpemUgLyAyLFxuICAgICAgICAgICAgeTogbWF4U2l6ZSAvIDIsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmFkaXVzID0gbWF4U2l6ZSAvIDIuMjtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFkZGl0aW9uYWxDc3NDbGFzc2VzKSB7XG4gICAgICAgICAgICB0aGlzLmFkZGl0aW9uYWxDc3NDbGFzc2VzID0gdGhpcy5vcHRpb25zLmFkZGl0aW9uYWxDc3NDbGFzc2VzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hbmltYXRlSW5WaWV3KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd0NpcmNsZSA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5kcmF3Q29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuZHJhd1BsYWluQ2lyY2xlKCk7XG4gICAgICAgIHRoaXMuYXBwZW5kKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIERyYXdzIHRoZSBjaXJjbGUgYnkgZ2l2ZW4gcGVyY2VudGFnZSB3aXRoIG9wdGlvbmFsIGFuaW1hdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3UGxhaW5DaXJjbGUgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGVuZEFuZ2xlID0gMzYwIC8gMTAwICogdGhpcy5vcHRpb25zLnBlcmNlbnQ7XG4gICAgICAgIGNvbnN0IGN1c3RvbUNzc0NsYXNzID0gT2JqZWN0SGVscGVyLmV4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QoXG4gICAgICAgICAgICB0aGlzLmFkZGl0aW9uYWxDc3NDbGFzc2VzLFxuICAgICAgICAgICAgXCJmb3JlZ3JvdW5kQ2lyY2xlXCIsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGFyYyA9IFN2Z1RhZ3MuYWRkQXJjKHtcbiAgICAgICAgICAgIFwiaWRcIjogYGFyYy0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICAgICAgXCJjbGFzc1wiOiBgZm9yZWdyb3VuZC1jaXJjbGUgJHtjdXN0b21Dc3NDbGFzc31gLFxuICAgICAgICAgICAgXCJkXCI6IFN2Z1RhZ3NIZWxwZXIuZGVzY3JpYmVBcmModGhpcy5jb29yZGluYXRlcy54LCB0aGlzLmNvb3JkaW5hdGVzLnksIHRoaXMucmFkaXVzLCAwLCBlbmRBbmdsZSksXG4gICAgICAgICAgICBcInN0cm9rZS13aWR0aFwiOiB0aGlzLm9wdGlvbnMuZm9yZWdyb3VuZENpcmNsZVdpZHRoLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRlKGFyYyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRhZ3MucHVzaCh7XG4gICAgICAgICAgICBlbGVtZW50OiBhcmMsXG4gICAgICAgICAgICBwYXJlbnRJZDogYHN2Zy0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gQW5pbWF0ZXMgY2lyY2xlIGNvdW50ZXIgY2xvY2sgd2lzZVxuICAgICAqIEBwYXJhbSBhcmNcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYW5pbWF0ZShhcmM6IEVsZW1lbnQpIHtcbiAgICAgICAgU3ZnVGFnc0hlbHBlci5hbmltYXRlQXJjKHtcbiAgICAgICAgICAgIGFyYyxcbiAgICAgICAgICAgIGFyY1BhcmFtczoge1xuICAgICAgICAgICAgICAgIHBlcmNlbnQ6IHRoaXMub3B0aW9ucy5wZXJjZW50LFxuICAgICAgICAgICAgICAgIHg6IHRoaXMuY29vcmRpbmF0ZXMueCxcbiAgICAgICAgICAgICAgICB5OiB0aGlzLmNvb3JkaW5hdGVzLnksXG4gICAgICAgICAgICAgICAgcmFkaXVzOiB0aGlzLnJhZGl1cyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbmltYXRpb25TdGVwOiB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uU3RlcCxcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLm9uQW5pbWF0aW9uRW5kKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBsYWluQ2lyY2xlO1xuIiwiaW1wb3J0IHtCYXNlQ2lyY2xlfSBmcm9tIFwiLi4vYmFzZS1jbGFzc2VzL2Jhc2UtY2lyY2xlXCI7XG5pbXBvcnQgT2JqZWN0SGVscGVyIGZyb20gXCIuLi9oZWxwZXJzL29iamVjdC1oZWxwZXJcIjtcbmltcG9ydCBTdmdUYWdzSGVscGVyIGZyb20gXCIuLi9oZWxwZXJzL3N2Zy10YWdzLWhlbHBlclwiO1xuaW1wb3J0IHtJQXR0cmlidXRlc30gZnJvbSBcIi4uL2ludGVyZmFjZXMvaWF0dHJpYnV0ZXNcIjtcbmltcG9ydCB7SUF2YWlsYWJsZU9wdGlvbnN9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2lhdmFpbGFibGUtb3B0aW9uc1wiO1xuaW1wb3J0IHtJU2l6ZX0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaXNpemVcIjtcbmltcG9ydCBTdmdUYWdzIGZyb20gXCIuLi9zdmctdGFnc1wiO1xuXG4vKipcbiAqIEV2ZXJ5IGNpcmNsZSBnZXRzIGR5bmFtaWNhbGx5IGNhbGxlZCBieSB0aGUgZ2l2ZW4gdHlwZSBpbiB0aGUgb3B0aW9ucyBvYmplY3QgZXhhbXBsZTogeyB0eXBlOiAnU2ltcGxlQ2lyY2xlJyB9XG4gKi9cbmNsYXNzIFNpbXBsZUNpcmNsZSBleHRlbmRzIEJhc2VDaXJjbGUge1xuICAgIHByb3RlY3RlZCBjb29yZGluYXRlcyA9IHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMCxcbiAgICB9O1xuICAgIHByb3RlY3RlZCByYWRpdXM6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgYWRkaXRpb25hbENzc0NsYXNzZXM6IElBdmFpbGFibGVPcHRpb25zW1wiYWRkaXRpb25hbENzc0NsYXNzZXNcIl0gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIFRPRE8gcmVtb3ZlIGR1cGxpY2F0ZXMgYmV0d2VlbiB0aGlzIGFuZCBQbGFpbkNpcmNsZSBjbGFzc1xuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogSUF2YWlsYWJsZU9wdGlvbnMsIHNpemU6IElTaXplKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMsIHNpemUpO1xuXG4gICAgICAgIGNvbnN0IG1heFNpemUgPSB0aGlzLnNpemUubWF4U2l6ZTtcbiAgICAgICAgdGhpcy5jb29yZGluYXRlcyA9IHtcbiAgICAgICAgICAgIHg6IG1heFNpemUgLyAyLFxuICAgICAgICAgICAgeTogbWF4U2l6ZSAvIDIsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmFkaXVzID0gbWF4U2l6ZSAvIDIuMjtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFkZGl0aW9uYWxDc3NDbGFzc2VzKSB7XG4gICAgICAgICAgICB0aGlzLmFkZGl0aW9uYWxDc3NDbGFzc2VzID0gdGhpcy5vcHRpb25zLmFkZGl0aW9uYWxDc3NDbGFzc2VzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hbmltYXRlSW5WaWV3KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd0NpcmNsZSA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgYWRkaXRpb25hbENvbnRhaW5lckF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgICBjbGFzczogT2JqZWN0SGVscGVyLmV4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QodGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcywgXCJzdmdDb250YWluZXJcIiksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZHJhd0NvbnRhaW5lcihhZGRpdGlvbmFsQ29udGFpbmVyQXR0cmlidXRlcyk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zdHJva2VHcmFkaWVudCkge1xuICAgICAgICAgICAgdGhpcy5kcmF3TGluZWFyR3JhZGllbnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHJhd0JhY2tncm91bmRDaXJjbGUoKTtcbiAgICAgICAgdGhpcy5kcmF3Rm9yZWdyb3VuZENpcmNsZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucG9pbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd1BvaW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmljb24pIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0ljb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHJhd1RleHQoKTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRleHRCZWxvdyAmJiB0aGlzLm9wdGlvbnMudGV4dCkge1xuICAgICAgICAgICAgdGhpcy5kcmF3SW5mb1RleHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXBwZW5kKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICovXG4gICAgcHVibGljIGRyYXdCYWNrZ3JvdW5kQ2lyY2xlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBjdXN0b21Dc3NDbGFzcyA9IE9iamVjdEhlbHBlci5leHRyYWN0UHJvcGVydHlGcm9tT2JqZWN0KFxuICAgICAgICAgICAgdGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcyxcbiAgICAgICAgICAgIFwiYmFja2dyb3VuZENpcmNsZVwiLFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGNpcmNsZSA9IFN2Z1RhZ3MuYWRkQ2lyY2xlKHtcbiAgICAgICAgICAgIFwiaWRcIjogYGNpcmNsZS0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICAgICAgXCJjbGFzc1wiOiBgYmFja2dyb3VuZC1jaXJjbGUgJHtjdXN0b21Dc3NDbGFzc31gLFxuICAgICAgICAgICAgXCJjeFwiOiBTdHJpbmcodGhpcy5jb29yZGluYXRlcy54KSxcbiAgICAgICAgICAgIFwiY3lcIjogU3RyaW5nKHRoaXMuY29vcmRpbmF0ZXMueSksXG4gICAgICAgICAgICBcInJcIjogU3RyaW5nKHRoaXMucmFkaXVzKSxcbiAgICAgICAgICAgIFwic3Ryb2tlLXdpZHRoXCI6IHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kQ2lyY2xlV2lkdGgsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGNpcmNsZSxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEcmF3cyBhIHBvaW50IGludG8gdGhlIGNpcmNsZSwgYmVoaW5kIHRoZSB0ZXh0XG4gICAgICovXG4gICAgcHVibGljIGRyYXdQb2ludCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgcG9pbnRTaXplID0gdGhpcy5yYWRpdXMgLyAxMDAgKiB0aGlzLm9wdGlvbnMucG9pbnRTaXplO1xuICAgICAgICBjb25zdCBjdXN0b21Dc3NDbGFzcyA9IE9iamVjdEhlbHBlci5leHRyYWN0UHJvcGVydHlGcm9tT2JqZWN0KFxuICAgICAgICAgICAgdGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcyxcbiAgICAgICAgICAgIFwicG9pbnRcIixcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgY2lyY2xlID0gU3ZnVGFncy5hZGRDaXJjbGUoe1xuICAgICAgICAgICAgaWQ6IGBwb2ludC0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICAgICAgY2xhc3M6IGBwb2ludC1jaXJjbGUgJHtjdXN0b21Dc3NDbGFzc31gLFxuICAgICAgICAgICAgY3g6IFN0cmluZyh0aGlzLmNvb3JkaW5hdGVzLngpLFxuICAgICAgICAgICAgY3k6IFN0cmluZyh0aGlzLmNvb3JkaW5hdGVzLnkpLFxuICAgICAgICAgICAgcjogU3RyaW5nKHBvaW50U2l6ZSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGNpcmNsZSxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3Rm9yZWdyb3VuZENpcmNsZSA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgZW5kQW5nbGUgPSAzNjAgLyAxMDAgKiB0aGlzLm9wdGlvbnMucGVyY2VudDtcbiAgICAgICAgY29uc3QgY3VzdG9tQ3NzQ2xhc3MgPSBPYmplY3RIZWxwZXIuZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChcbiAgICAgICAgICAgIHRoaXMuYWRkaXRpb25hbENzc0NsYXNzZXMsXG4gICAgICAgICAgICBcImZvcmVncm91bmRDaXJjbGVcIixcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlczogSUF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgICBcImlkXCI6IGBhcmMtJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgICAgIFwiY2xhc3NcIjogYGZvcmVncm91bmQtY2lyY2xlICR7Y3VzdG9tQ3NzQ2xhc3N9YCxcbiAgICAgICAgICAgIFwiZFwiOiBTdmdUYWdzSGVscGVyLmRlc2NyaWJlQXJjKHRoaXMuY29vcmRpbmF0ZXMueCwgdGhpcy5jb29yZGluYXRlcy55LCB0aGlzLnJhZGl1cywgMCwgZW5kQW5nbGUpLFxuICAgICAgICAgICAgXCJzdHJva2Utd2lkdGhcIjogdGhpcy5vcHRpb25zLmZvcmVncm91bmRDaXJjbGVXaWR0aCxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnN0cm9rZUdyYWRpZW50KSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzLnN0cm9rZSA9IFwidXJsKCNsaW5lYXJHcmFkaWVudClcIjtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMuY2xhc3MgPSBcImZvcmVncm91bmQtY2lyY2xlLXdpdGhvdXQtc3Ryb2tlLWNvbG9yXCI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhcmMgPSBTdmdUYWdzLmFkZEFyYyhhdHRyaWJ1dGVzKTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRlKGFyYyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRhZ3MucHVzaCh7XG4gICAgICAgICAgICBlbGVtZW50OiBhcmMsXG4gICAgICAgICAgICBwYXJlbnRJZDogYHN2Zy0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gQW5pbWF0ZXMgY2lyY2xlIGNvdW50ZXIgY2xvY2sgd2lzZVxuICAgICAqIEBwYXJhbSBhcmNcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYW5pbWF0ZShhcmM6IEVsZW1lbnQpIHtcbiAgICAgICAgU3ZnVGFnc0hlbHBlci5hbmltYXRlQXJjKHtcbiAgICAgICAgICAgIGFyYyxcbiAgICAgICAgICAgIGFyY1BhcmFtczoge1xuICAgICAgICAgICAgICAgIHBlcmNlbnQ6IHRoaXMub3B0aW9ucy5wZXJjZW50LFxuICAgICAgICAgICAgICAgIHg6IHRoaXMuY29vcmRpbmF0ZXMueCxcbiAgICAgICAgICAgICAgICB5OiB0aGlzLmNvb3JkaW5hdGVzLnksXG4gICAgICAgICAgICAgICAgcmFkaXVzOiB0aGlzLnJhZGl1cyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbmltYXRpb25TdGVwOiB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uU3RlcCxcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLm9uQW5pbWF0aW9uRW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd0ljb24gPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGljb24gPSB0aGlzLm9wdGlvbnMuaWNvbjtcbiAgICAgICAgY29uc3QgY3VzdG9tQ3NzQ2xhc3MgPSBPYmplY3RIZWxwZXIuZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChcbiAgICAgICAgICAgIHRoaXMuYWRkaXRpb25hbENzc0NsYXNzZXMsXG4gICAgICAgICAgICBcImljb25cIixcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdGV4dCA9IFN2Z1RhZ3MuYWRkVGV4dCh7XG4gICAgICAgICAgICBpZDogYHRleHQtJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgICAgIHg6IFN0cmluZyh0aGlzLmNvb3JkaW5hdGVzLngpLFxuICAgICAgICAgICAgeTogU3RyaW5nKHRoaXMuY29vcmRpbmF0ZXMueSAtIDI1KSxcbiAgICAgICAgICAgIGNsYXNzOiBgY2lyY2xlLWljb24gZmEgJHtjdXN0b21Dc3NDbGFzc31gLFxuICAgICAgICB9KTtcblxuICAgICAgICB0ZXh0LmlubmVySFRNTCA9IGAmI3gke2ljb259O2A7XG5cbiAgICAgICAgdGhpcy50YWdzLnB1c2goe1xuICAgICAgICAgICAgZWxlbWVudDogdGV4dCxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3VGV4dCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgY3VzdG9tQ3NzQ2xhc3MgPSBPYmplY3RIZWxwZXIuZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChcbiAgICAgICAgICAgIHRoaXMuYWRkaXRpb25hbENzc0NsYXNzZXMsXG4gICAgICAgICAgICBcInRleHRcIixcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdGV4dCA9IFN2Z1RhZ3MuYWRkVGV4dCh7XG4gICAgICAgICAgICBpZDogYHRleHQtJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgICAgIHg6IFN0cmluZyh0aGlzLmNvb3JkaW5hdGVzLngpLFxuICAgICAgICAgICAgeTogU3RyaW5nKHRoaXMuY29vcmRpbmF0ZXMueSksXG4gICAgICAgICAgICBjbGFzczogYGNpcmNsZS10ZXh0ICR7Y3VzdG9tQ3NzQ2xhc3N9YCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcGVyY2VudGFnZVNpZ24gPSB0aGlzLm9wdGlvbnMubm9QZXJjZW50YWdlU2lnbiA/IFwiXCIgOiBcIiVcIjtcbiAgICAgICAgbGV0IGNvbnRlbnQgPSBgJHt0aGlzLm9wdGlvbnMucGVyY2VudH0ke3BlcmNlbnRhZ2VTaWdufWA7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLnRleHRCZWxvdyAmJiB0aGlzLm9wdGlvbnMudGV4dCkge1xuICAgICAgICAgICAgY29udGVudCA9IHRoaXMub3B0aW9ucy50ZXh0O1xuICAgICAgICB9XG4gICAgICAgIHRleHQudGV4dENvbnRlbnQgPSBjb250ZW50O1xuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHRleHQsXG4gICAgICAgICAgICBwYXJlbnRJZDogYHN2Zy0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gRHJhd3MgaW5mbyB0ZXh0IGJlbG93IHBlcmNlbnRhZ2VcbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd0luZm9UZXh0KCkge1xuICAgICAgICBjb25zdCBjdXN0b21Dc3NDbGFzcyA9IE9iamVjdEhlbHBlci5leHRyYWN0UHJvcGVydHlGcm9tT2JqZWN0KFxuICAgICAgICAgICAgdGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcyxcbiAgICAgICAgICAgIFwiaW5mb1RleHRcIixcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdGV4dCA9IFN2Z1RhZ3MuYWRkVGV4dCh7XG4gICAgICAgICAgICBpZDogYHRleHQtJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgICAgIHg6IFN0cmluZyh0aGlzLmNvb3JkaW5hdGVzLngpLFxuICAgICAgICAgICAgeTogU3RyaW5nKHRoaXMuY29vcmRpbmF0ZXMueSArIDIwKSxcbiAgICAgICAgICAgIGNsYXNzOiBgY2lyY2xlLWluZm8tdGV4dCAke2N1c3RvbUNzc0NsYXNzfWAsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRleHQudGV4dENvbnRlbnQgPSB0aGlzLm9wdGlvbnMudGV4dDtcblxuICAgICAgICB0aGlzLnRhZ3MucHVzaCh7XG4gICAgICAgICAgICBlbGVtZW50OiB0ZXh0LFxuICAgICAgICAgICAgcGFyZW50SWQ6IGBzdmctJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIERyYXdzIGEgbGluZWFyIGdyYWRpZW50IGludG8gdGhlIGZvcmVncm91bmQgc3Ryb2tlXG4gICAgICovXG4gICAgcHJpdmF0ZSBkcmF3TGluZWFyR3JhZGllbnQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXM6IElBdHRyaWJ1dGVzID0ge307XG5cbiAgICAgICAgYXR0cmlidXRlcy5ncmFkaWVudFN0YXJ0ID0gdGhpcy5vcHRpb25zLnN0cm9rZUdyYWRpZW50WzBdO1xuICAgICAgICBhdHRyaWJ1dGVzLmdyYWRpZW50RW5kID0gdGhpcy5vcHRpb25zLnN0cm9rZUdyYWRpZW50WzFdO1xuXG4gICAgICAgIGNvbnN0IGRlZnMgPSBTdmdUYWdzLmFkZERlZnMoYXR0cmlidXRlcyk7XG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGRlZnMsXG4gICAgICAgICAgICBwYXJlbnRJZDogYHN2Zy0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNpbXBsZUNpcmNsZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQge0lBdmFpbGFibGVPcHRpb25zfSBmcm9tIFwiLi9pbnRlcmZhY2VzL2lhdmFpbGFibGUtb3B0aW9uc1wiO1xuaW1wb3J0IE9wdGlvbnMgZnJvbSBcIi4vb3B0aW9uc1wiO1xuXG5jbGFzcyBDaXJjbGUge1xuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBJbml0aWFsaXplcyBhIG5ldyBjaXJjbGVcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgaW5pdENpcmNsZShvcHRpb25zOiBJQXZhaWxhYmxlT3B0aW9ucykge1xuICAgICAgICBDaXJjbGUuZ2V0Q2xhc3NJbnN0YW5jZShvcHRpb25zKS50aGVuKChjaXJjbGUpID0+IHtcbiAgICAgICAgICAgIGNpcmNsZS5kcmF3Q2lyY2xlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBHZXQgaW5zdGFuY2Ugb2YgY2lyY2xlIHR5cGUgY2xhc3NcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFNpbXBsZUNpcmNsZS5kZWZhdWx0IHwgSGFsZkNpcmNsZS5kZWZhdWx0Pn1cbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGdldENsYXNzSW5zdGFuY2Uob3B0aW9uczogSUF2YWlsYWJsZU9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBDaXJjbGUuY2FtZWxDYXNlVG9EYXNoKG9wdGlvbnMudHlwZSk7XG4gICAgICAgIHJldHVybiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBgLi9jaXJjbGUtdHlwZS8ke2ZpbGVOYW1lfWApLnRoZW4oKENpcmNsZUNsYXNzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zTWFuYWdlciA9IG5ldyBPcHRpb25zKCk7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWRPcHRpb25zID0gb3B0aW9uc01hbmFnZXIubWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IENpcmNsZS5nZXRQYXJlbnRTaXplKG9wdGlvbnMuaWQpO1xuXG4gICAgICAgICAgICByZXR1cm4gbmV3IENpcmNsZUNsYXNzLmRlZmF1bHQobWVyZ2VkT3B0aW9ucywgc2l6ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBUcmFuc2Zvcm1zIGNsYXNzTmFtZSBleCBTaW1wbGVDaXJjbGUgaW50byBzaW1wbGUtY2lyY2xlXG4gICAgICogQHBhcmFtIGNsYXNzTmFtZVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBjYW1lbENhc2VUb0Rhc2goY2xhc3NOYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGNsYXNzTmFtZS5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCBcIiQxLSQyXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEdldHMgdGhlIHNpemUgb2YgdGhlIHBhcmVudCBlbGVtZW50LCB3aGVyZSB0aGUgc3ZnIGdldHMgcGxhY2VkIGluXG4gICAgICogQHBhcmFtIGlkXG4gICAgICogQHJldHVybnMge3t3aWR0aDogbnVtYmVyLCBtYXhTaXplOiBudW1iZXIsIGhlaWdodDogbnVtYmVyfX1cbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGdldFBhcmVudFNpemUoaWQ6IHN0cmluZykge1xuICAgICAgICBjb25zdCBib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gYm94LmNsaWVudFdpZHRoID4gMCA/IGJveC5jbGllbnRXaWR0aCA6IDIwMDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gYm94LmNsaWVudEhlaWdodCA+IDAgPyBib3guY2xpZW50SGVpZ2h0IDogMjAwO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtYXhTaXplOiB3aWR0aCA+IGhlaWdodCA/IGhlaWdodCA6IHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDaXJjbGU7XG4iLCJpbXBvcnQge0lEaWN0aW9uYXJ5fSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9pZGljdGlvbmFyeVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPYmplY3RIZWxwZXIge1xuICAgIHB1YmxpYyBzdGF0aWMgZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChvYmplY3Q6IElEaWN0aW9uYXJ5LCBwcm9wZXJ0eTogc3RyaW5nKSB7XG4gICAgICAgIGxldCB2YWx1ZTogc3RyaW5nIHwgbnVtYmVyIHwgb2JqZWN0ID0gXCJcIjtcbiAgICAgICAgaWYgKG9iamVjdC5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkgJiYgb2JqZWN0W3Byb3BlcnR5XSkge1xuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3RbcHJvcGVydHldO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7SUF0dHJpYnV0ZXN9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2lhdHRyaWJ1dGVzXCI7XG5pbXBvcnQge0lDYWxjdWxhdGlvblBhcmFtc30gZnJvbSBcIi4uL2ludGVyZmFjZXMvaWNhbGN1bGF0aW9uLXBhcmFtc1wiO1xuXG5jbGFzcyBTdmdUYWdzSGVscGVyIHtcbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBAcGFyYW0gZWxlbWVudCBTVkdFbGVtZW50XG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZXMgSUF2YWlsYWJsZU9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBzZXRBdHRyaWJ1dGVzKGVsZW1lbnQ6IEVsZW1lbnQsIGF0dHJpYnV0ZXM6IElBdHRyaWJ1dGVzKTogdm9pZCB7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGF0dHJpYnV0ZXMpKSB7XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSBlbGVtZW50XG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZXNcbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBzZXRBdHRyaWJ1dGVOYW1lc3BhY2UoZWxlbWVudDogRWxlbWVudCwgYXR0cmlidXRlczogSUF0dHJpYnV0ZXMpOiB2b2lkIHtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoYXR0cmlidXRlcykpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlTlMobnVsbCwga2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gRm9yIGVhc2llciBoYW5kbGluZyBwb2xhciBjb29yZGluYXRlcyBhcmUgdXNlZCBhbmQgY29udmVydGVkIHRvIGNhcnRlc2lhbiBjb29yZGluYXRlc1xuICAgICAqIEBwYXJhbSBjZW50ZXJYXG4gICAgICogQHBhcmFtIGNlbnRlcllcbiAgICAgKiBAcGFyYW0gcmFkaXVzXG4gICAgICogQHBhcmFtIGFuZ2xlSW5EZWdyZWVzXG4gICAgICogQHJldHVybnMgb2JqZWN0XG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBwb2xhclRvQ2FydGVzaWFuKFxuICAgICAgICBjZW50ZXJYOiBudW1iZXIsXG4gICAgICAgIGNlbnRlclk6IG51bWJlcixcbiAgICAgICAgcmFkaXVzOiBudW1iZXIsXG4gICAgICAgIGFuZ2xlSW5EZWdyZWVzOiBudW1iZXIsXG4gICAgKTogSUNhbGN1bGF0aW9uUGFyYW1zIHtcbiAgICAgICAgY29uc3QgYW5nbGVJblJhZGlhbnMgPSAoYW5nbGVJbkRlZ3JlZXMgLSA5MCkgKiBNYXRoLlBJIC8gMTgwLjA7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IGNlbnRlclggKyAocmFkaXVzICogTWF0aC5jb3MoYW5nbGVJblJhZGlhbnMpKSxcbiAgICAgICAgICAgIHk6IGNlbnRlclkgKyAocmFkaXVzICogTWF0aC5zaW4oYW5nbGVJblJhZGlhbnMpKSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0aGUgc3RyaW5nIGZvciB0aGUgZGF0YSBhdHRyaWJ1dGUgaW4gdGhlIHBhdGggdGFnXG4gICAgICogQHBhcmFtIHhcbiAgICAgKiBAcGFyYW0geVxuICAgICAqIEBwYXJhbSByYWRpdXNcbiAgICAgKiBAcGFyYW0gc3RhcnRBbmdsZVxuICAgICAqIEBwYXJhbSBlbmRBbmdsZVxuICAgICAqIEByZXR1cm5zIHN0cmluZ1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZGVzY3JpYmVBcmMoeDogbnVtYmVyLCB5OiBudW1iZXIsIHJhZGl1czogbnVtYmVyLCBzdGFydEFuZ2xlOiBudW1iZXIsIGVuZEFuZ2xlOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBzdGFydCA9IFN2Z1RhZ3NIZWxwZXIucG9sYXJUb0NhcnRlc2lhbih4LCB5LCByYWRpdXMsIGVuZEFuZ2xlKTtcbiAgICAgICAgY29uc3QgZW5kID0gU3ZnVGFnc0hlbHBlci5wb2xhclRvQ2FydGVzaWFuKHgsIHksIHJhZGl1cywgc3RhcnRBbmdsZSk7XG4gICAgICAgIGNvbnN0IGxhcmdlQXJjRmxhZyA9IGVuZEFuZ2xlIC0gc3RhcnRBbmdsZSA8PSAxODAgPyBcIjBcIiA6IFwiMVwiO1xuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBcIk1cIiwgc3RhcnQueCwgc3RhcnQueSxcbiAgICAgICAgICAgIFwiQVwiLCByYWRpdXMsIHJhZGl1cywgMCwgbGFyZ2VBcmNGbGFnLCAwLCBlbmQueCwgZW5kLnksXG4gICAgICAgIF0uam9pbihcIiBcIik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIFJlZHJhd3MgdGhlIGFyYyAoY2lyY2xlKSBib3JkZXJcbiAgICAgKiBAcGFyYW0gcGFyYW1zXG4gICAgICogQHBhcmFtIGNhbGxiYWNrXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBhbmltYXRlQXJjKFxuICAgICAgICBwYXJhbXM6IHsgYXJjOiBFbGVtZW50LCBhcmNQYXJhbXM6IElDYWxjdWxhdGlvblBhcmFtcywgYW5pbWF0aW9uU3RlcDogbnVtYmVyIH0sXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7fSxcbiAgICApOiB2b2lkIHtcbiAgICAgICAgY29uc3Qge2FyYywgYXJjUGFyYW1zLCBhbmltYXRpb25TdGVwfSA9IHBhcmFtcztcbiAgICAgICAgbGV0IGNvdW50ID0gMTtcbiAgICAgICAgY29uc3Qgc3RhcnRBbmdsZSA9IGFyY1BhcmFtcy5zdGFydEFuZ2xlID8gYXJjUGFyYW1zLnN0YXJ0QW5nbGUgOiAwO1xuICAgICAgICBjb25zdCBlbmRBbmdsZUdyYWRlID0gYXJjUGFyYW1zLmVuZEFuZ2xlR3JhZGUgPyBhcmNQYXJhbXMuZW5kQW5nbGVHcmFkZSA6IDM2MDtcbiAgICAgICAgY29uc3QgbXMgPSB0aGlzLmdldE1pbGxpc2Vjb25kcyhhcmNQYXJhbXMubXMsIGFyY1BhcmFtcy5lbmRBbmdsZUdyYWRlKTtcblxuICAgICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKChhcmMsIHBlcmNlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVuZEFuZ2xlID0gZW5kQW5nbGVHcmFkZSAvIDEwMCAqIGNvdW50O1xuICAgICAgICAgICAgU3ZnVGFnc0hlbHBlci5zZXRBdHRyaWJ1dGVzKGFyYywge1xuICAgICAgICAgICAgICAgIGQ6IFN2Z1RhZ3NIZWxwZXIuZGVzY3JpYmVBcmMoYXJjUGFyYW1zLngsIGFyY1BhcmFtcy55LCBhcmNQYXJhbXMucmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGFuaW1hdGlvblN0ZXAgPiAxKSB7XG4gICAgICAgICAgICAgICAgY291bnQgKz0gYW5pbWF0aW9uU3RlcDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvdW50ID4gcGVyY2VudCkge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBtcywgYXJjLCBhcmNQYXJhbXMucGVyY2VudCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0TWlsbGlzZWNvbmRzKGRlZmF1bHRNczogbnVtYmVyLCBlbmRBbmdsZUdyYWRlOiBudW1iZXIpIHtcbiAgICAgICAgbGV0IG1zID0gZGVmYXVsdE1zID8gZGVmYXVsdE1zIDogNTA7XG5cbiAgICAgICAgaWYgKGVuZEFuZ2xlR3JhZGUgPD0gMTgwKSB7XG4gICAgICAgICAgICBtcyA9IG1zIC8gMztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtcztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN2Z1RhZ3NIZWxwZXI7XG4iLCJpbXBvcnQgXCIuLi9zdHlsZXMvbWFpbi5zY3NzXCI7XG5pbXBvcnQgQ2lyY2xlIGZyb20gXCIuL2NpcmNsZVwiO1xuaW1wb3J0IHtJQXZhaWxhYmxlT3B0aW9uc30gZnJvbSBcIi4vaW50ZXJmYWNlcy9pYXZhaWxhYmxlLW9wdGlvbnNcIjtcbi8qKlxuICogQGRlc2NyaXB0aW9uIEdldHMgY2FsbGVkIGZyb20gaHRtbCBzY3JpcHQgdGFnXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHJldHVybnMgdm9pZFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdENpcmNsZShvcHRpb25zOiBJQXZhaWxhYmxlT3B0aW9ucykge1xuICAgIHJldHVybiBDaXJjbGUuaW5pdENpcmNsZShvcHRpb25zKTtcbn1cbiIsImltcG9ydCB7SUF2YWlsYWJsZU9wdGlvbnN9IGZyb20gXCIuL2ludGVyZmFjZXMvaWF2YWlsYWJsZS1vcHRpb25zXCI7XG5cbmNsYXNzIE9wdGlvbnMge1xuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEZWZhdWx0IG9wdGlvbnMgaWYgb3B0aW9uIGlzIG5vdCBzZXQgb24gaW5pdGlhbGlzYXRpb25cbiAgICAgKi9cbiAgICBwdWJsaWMgZGVmYXVsdE9wdGlvbnM6IElBdmFpbGFibGVPcHRpb25zID0ge1xuICAgICAgICBwb2ludDogZmFsc2UsXG4gICAgICAgIHBvaW50U2l6ZTogNjAsXG4gICAgICAgIHBlcmNlbnQ6IDc1LFxuICAgICAgICBmb3JlZ3JvdW5kQ2lyY2xlV2lkdGg6IDUsXG4gICAgICAgIGJhY2tncm91bmRDaXJjbGVXaWR0aDogMTUsXG4gICAgICAgIGFuaW1hdGlvbjogMSxcbiAgICAgICAgYW5pbWF0aW9uU3RlcDogMSxcbiAgICAgICAgbm9QZXJjZW50YWdlU2lnbjogZmFsc2UsXG4gICAgICAgIGFuaW1hdGVJblZpZXc6IGZhbHNlLFxuICAgICAgICBzdHJva2VMaW5lY2FwOiBcImJ1dHRcIixcbiAgICAgICAgdHlwZTogXCJTaW1wbGVDaXJjbGVcIixcbiAgICAgICAgdGV4dEJlbG93OiBmYWxzZSxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIE1lcmdlIGRlZmF1bHQgb3B0aW9ucyBhbmQgY3VzdG9tIG9wdGlvbiBvbiBpbml0aWFsaXNhdGlvblxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHJldHVybnMgT3B0aW9uc1snZGVmYXVsdE9wdGlvbnMnXVxuICAgICAqL1xuICAgIHB1YmxpYyBtZXJnZU9wdGlvbnMgPSAob3B0aW9uczogSUF2YWlsYWJsZU9wdGlvbnMpID0+IHtcbiAgICAgICAgcmV0dXJuIHsuLi50aGlzLmRlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zfTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9wdGlvbnM7XG4iLCJpbXBvcnQgT2JqZWN0SGVscGVyIGZyb20gXCIuL2hlbHBlcnMvb2JqZWN0LWhlbHBlclwiO1xuaW1wb3J0IFN2Z1RhZ3NIZWxwZXIgZnJvbSBcIi4vaGVscGVycy9zdmctdGFncy1oZWxwZXJcIjtcbmltcG9ydCB7SUF0dHJpYnV0ZXN9IGZyb20gXCIuL2ludGVyZmFjZXMvaWF0dHJpYnV0ZXNcIjtcbmltcG9ydCB7SURpY3Rpb25hcnl9IGZyb20gXCIuL2ludGVyZmFjZXMvaWRpY3Rpb25hcnlcIjtcblxuY2xhc3MgU3ZnVGFncyB7XG4gICAgcHVibGljIHN0YXRpYyBuYW1lc3BhY2VVUkkgPSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gQWRkcyBhIHN2ZyB0YWcgd2l0aCBhdHRyaWJ1dGVzXG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZXNcbiAgICAgKiBAcmV0dXJucyBTVkdFbGVtZW50XG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBhZGRTdmcoYXR0cmlidXRlczogSUF0dHJpYnV0ZXMpOiBFbGVtZW50IHtcbiAgICAgICAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFN2Z1RhZ3MubmFtZXNwYWNlVVJJLCBcInN2Z1wiKTtcbiAgICAgICAgYXR0cmlidXRlcy5jbGFzcyA9IFwiY2lyY2xlLWNvbnRhaW5lclwiICsgT2JqZWN0SGVscGVyLmV4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QoXG4gICAgICAgICAgICBhdHRyaWJ1dGVzIGFzIElEaWN0aW9uYXJ5LFxuICAgICAgICAgICAgXCJjbGFzc1wiLFxuICAgICAgICApO1xuXG4gICAgICAgIFN2Z1RhZ3NIZWxwZXIuc2V0QXR0cmlidXRlcyhzdmcgYXMgU1ZHRWxlbWVudCwgYXR0cmlidXRlcyk7XG5cbiAgICAgICAgcmV0dXJuIHN2ZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gQWRkcyBhIGNpcmNsZSB0YWcgd2l0aCBhdHRyaWJ1dGVzXG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZXNcbiAgICAgKiBAcmV0dXJucyBTVkdDaXJjbGVFbGVtZW50XG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBhZGRDaXJjbGUoYXR0cmlidXRlczogSUF0dHJpYnV0ZXMpOiBFbGVtZW50IHtcbiAgICAgICAgY29uc3QgY2lyY2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFN2Z1RhZ3MubmFtZXNwYWNlVVJJLCBcImNpcmNsZVwiKTtcbiAgICAgICAgU3ZnVGFnc0hlbHBlci5zZXRBdHRyaWJ1dGVzKGNpcmNsZSBhcyBTVkdFbGVtZW50LCBhdHRyaWJ1dGVzKTtcblxuICAgICAgICByZXR1cm4gY2lyY2xlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBBZGRzIGEgcGF0aCB0YWcgd2l0aCBhdHRyaWJ1dGVzXG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZXNcbiAgICAgKiBAcmV0dXJucyBTVkdQYXRoRWxlbWVudFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgYWRkQXJjKGF0dHJpYnV0ZXM6IElBdHRyaWJ1dGVzKTogRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGFyYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTdmdUYWdzLm5hbWVzcGFjZVVSSSwgXCJwYXRoXCIpO1xuICAgICAgICBTdmdUYWdzSGVscGVyLnNldEF0dHJpYnV0ZXMoYXJjIGFzIFNWR0VsZW1lbnQsIGF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIHJldHVybiBhcmM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEFkZHMgYSB0ZXh0IHRhZyB3aXRoIGF0dHJpYnV0ZXNcbiAgICAgKiBAcGFyYW0gYXR0cmlidXRlc1xuICAgICAqIEByZXR1cm5zIFNWR1RleHRFbGVtZW50XG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBhZGRUZXh0KGF0dHJpYnV0ZXM6IElBdHRyaWJ1dGVzKTogRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IHRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU3ZnVGFncy5uYW1lc3BhY2VVUkksIFwidGV4dFwiKTtcbiAgICAgICAgdGV4dC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpO1xuICAgICAgICBTdmdUYWdzSGVscGVyLnNldEF0dHJpYnV0ZXModGV4dCBhcyBTVkdFbGVtZW50LCBhdHRyaWJ1dGVzKTtcblxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gQWRkcyBkZWZzIHRhZyB0byBzdmcgdG8gZHJhdyBhIGdyYWRpZW50XG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGFkZERlZnMoYXR0cmlidXRlczogSUF0dHJpYnV0ZXMpOiBFbGVtZW50IHtcbiAgICAgICAgY29uc3QgZGVmcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTdmdUYWdzLm5hbWVzcGFjZVVSSSwgXCJkZWZzXCIpO1xuICAgICAgICBjb25zdCBsaW5lYXJHcmFkaWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTdmdUYWdzLm5hbWVzcGFjZVVSSSwgXCJsaW5lYXJHcmFkaWVudFwiKTtcbiAgICAgICAgY29uc3QgbGluZWFyR3JhZGllbnRBdHRyaWJ1dGVzID0ge1xuICAgICAgICAgICAgaWQ6IFwibGluZWFyR3JhZGllbnRcIixcbiAgICAgICAgfTtcbiAgICAgICAgU3ZnVGFnc0hlbHBlci5zZXRBdHRyaWJ1dGVzKGxpbmVhckdyYWRpZW50IGFzIFNWR0VsZW1lbnQsIGxpbmVhckdyYWRpZW50QXR0cmlidXRlcyk7XG5cbiAgICAgICAgY29uc3QgZmlyc3RTdG9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFN2Z1RhZ3MubmFtZXNwYWNlVVJJLCBcInN0b3BcIik7XG4gICAgICAgIGNvbnN0IGZpcnN0U3RvcEF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgICBcIm9mZnNldFwiOiBcIjBcIixcbiAgICAgICAgICAgIFwic3RvcC1jb2xvclwiOiBhdHRyaWJ1dGVzLmdyYWRpZW50U3RhcnQsXG4gICAgICAgIH07XG4gICAgICAgIFN2Z1RhZ3NIZWxwZXIuc2V0QXR0cmlidXRlcyhmaXJzdFN0b3AgYXMgU1ZHRWxlbWVudCwgZmlyc3RTdG9wQXR0cmlidXRlcyk7XG5cbiAgICAgICAgY29uc3Qgc2Vjb25kU3RvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTdmdUYWdzLm5hbWVzcGFjZVVSSSwgXCJzdG9wXCIpO1xuICAgICAgICBjb25zdCBzZWNvbmRTdG9wQXR0cmlidXRlcyA9IHtcbiAgICAgICAgICAgIFwib2Zmc2V0XCI6IFwiMVwiLFxuICAgICAgICAgICAgXCJzdG9wLWNvbG9yXCI6IGF0dHJpYnV0ZXMuZ3JhZGllbnRFbmQsXG4gICAgICAgIH07XG4gICAgICAgIFN2Z1RhZ3NIZWxwZXIuc2V0QXR0cmlidXRlcyhzZWNvbmRTdG9wIGFzIFNWR0VsZW1lbnQsIHNlY29uZFN0b3BBdHRyaWJ1dGVzKTtcblxuICAgICAgICBsaW5lYXJHcmFkaWVudC5hcHBlbmRDaGlsZChmaXJzdFN0b3ApO1xuICAgICAgICBsaW5lYXJHcmFkaWVudC5hcHBlbmRDaGlsZChzZWNvbmRTdG9wKTtcbiAgICAgICAgZGVmcy5hcHBlbmRDaGlsZChsaW5lYXJHcmFkaWVudCk7XG5cbiAgICAgICAgcmV0dXJuIGRlZnM7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTdmdUYWdzO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==