var circliful=function(t){var e={};function i(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(r,s,function(e){return t[e]}.bind(null,s));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s="./src/index.ts")}({"./src/api.ts":function(t,e,i){"use strict";i.r(e),i.d(e,"Api",(function(){return n}));var r=i("./src/base-class/circle.ts"),s=i("./src/helper/object-helper.ts"),n=function(){function t(t){this.options=t}return t.prototype.update=function(t){var e=this,i=document.getElementById("svg-"+this.options.id);Array.isArray(t)?t.forEach((function(t){return e.updateType(t.type,t.value)})):this.updateType(t.type,t.value),i.innerHTML="",r.default.initializeCircleType(this.options)},t.prototype.updateType=function(t,e){switch(t){case"percent":this.options.percent=Number(e);break;case"point":this.options.point=Boolean(e);break;case"animation":this.options.animation=Boolean(e);break;case"pointSize":this.options.pointSize=Number(e);break;case"animationStep":this.options.animationStep=Number(e);break;case"strokeGradient":this.options.strokeGradient=e;break;case"icon":this.options.icon=String(e);break;case"text":this.options.text=String(e);break;case"textReplacesPercentage":this.options.textReplacesPercentage=Boolean(e);break;case"foregroundCircleWidth":this.options.foregroundCircleWidth=Number(e);break;case"backgroundCircleWidth":this.options.backgroundCircleWidth=Number(e);break;case"additionalCssClasses":this.options.additionalCssClasses=e;break;case"progressColors":console.log("value",e),this.options.progressColors=e}},t.prototype.get=function(t){return s.default.extractPropertyFromObject(this.options,t)},t}()},"./src/base-class/base-circle.ts":function(t,e,i){"use strict";i.r(e),i.d(e,"BaseCircle",(function(){return n}));var r=i("./src/base-class/svg-tags.ts"),s=function(){return(s=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)},n=function(){function t(){this.tags=[]}return t.prototype.animateInView=function(){var t=this;this.options.animateInView&&window.addEventListener("scroll",(function(){t.checkAnimation(t.options.id)}))},t.prototype.checkAnimation=function(t){var e=this,i=document.getElementById(t),r=document.getElementById("arc-"+t),s=this.isElementInViewport(i);!i.classList.contains("reanimated")&&s&&(i.classList.add("reanimated"),setTimeout((function(){return e.animate(r)}),250))},t.prototype.isElementInViewport=function(t){var e=t.offsetTop,i=window.scrollY,r=window.innerHeight;return i<e&&i+r>e},t.prototype.drawContainer=function(t){console.log(t);var e=this.getViewBoxParams(),i=e.minX,n=e.minY,o=e.width,a=e.height,c=r.default.addSvg(s({width:"100%",height:"100%",viewBox:i+" "+n+" "+o+" "+a,id:"svg-"+this.options.id,preserveAspectRatio:"xMinYMin meet"},t));this.tags.push({element:c,parentId:this.options.id})},t.prototype.getViewBoxParams=function(){var t=this.options,e=t.foregroundCircleWidth,i=t.backgroundCircleWidth,r=i;e>i&&(r=e);var s=this.size.width,n=this.size.height;return(e>5||i>5)&&(s=this.size.width+1.5*r,n=this.size.height+1.5*r),{minX:0,minY:0,width:s,height:n}},t.prototype.append=function(){this.tags.forEach((function(t){document.getElementById(t.parentId).appendChild(t.element)}))},t.prototype.initialize=function(t,e){this.options=t,this.size=e},t}()},"./src/base-class/circle-factory.ts":function(t,e,i){"use strict";i.r(e),i.d(e,"CircleFactory",(function(){return o}));var r=i("./src/circle-type/half-circle.ts"),s=i("./src/circle-type/plain-circle.ts"),n=i("./src/circle-type/simple-circle.ts"),o=function(){function t(){}return t.create=function(t){var e;switch(t.toLowerCase()){case"half":e=new r.default;break;case"plain":e=new s.default;break;case"simple":e=new n.default;break;default:e=new n.default}return e},t}()},"./src/base-class/circle.ts":function(t,e,i){"use strict";i.r(e);var r=i("./src/api.ts"),s=i("./src/base-class/circle-factory.ts"),n=i("./src/base-class/options.ts"),o=function(){function t(){}return t.getParentSize=function(t){var e=document.getElementById(t),i=e.clientWidth>0?e.clientWidth:200,r=e.clientHeight>0?e.clientHeight:200;return{maxSize:i>r?r:i,height:r,width:i}},t.initializeCircleType=function(e,i){void 0===i&&(i=!1);var r=t.getParentSize(e.id),o=s.CircleFactory.create(e.type),a=(new n.default).mergeOptions(e,i);return o.initialize(a,r),o.drawCircle(),o},t.prototype.newCircle=function(e){return t.initializeCircleType(e),new r.Api(e)},t.prototype.newCircleWithDataSet=function(e,i){var s={id:e,type:i,percent:1};return t.initializeCircleType(s,!0),new r.Api(s)},t}();e.default=o},"./src/base-class/options.ts":function(t,e,i){"use strict";i.r(e);var r=function(){return(r=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)},s=function(){function t(){this.defaultOptions={point:!1,pointSize:60,percent:75,foregroundCircleWidth:5,backgroundCircleWidth:15,animation:!0,animationStep:1,noPercentageSign:!1,animateInView:!1,strokeLinecap:"butt",type:"SimpleCircle",textReplacesPercentage:!1}}return t.getDataAttributes=function(t){var e=document.getElementById(t.id),i={percent:t.percent};for(var r in e.dataset)if(e.dataset.hasOwnProperty(r)){var s=e.dataset[r];"false"===s||"true"===s?i[r]="true"===s:Number(s)?i[r]=Number(s):i[r]=s}return i},t.prototype.mergeOptions=function(e,i){void 0===i&&(i=!1);var s=r(r({},this.defaultOptions),e);if(i){var n=t.getDataAttributes(e);s=r(r({},s),n)}return s},t}();e.default=s},"./src/base-class/svg-tags.ts":function(t,e,i){"use strict";i.r(e);var r=i("./src/helper/object-helper.ts"),s=i("./src/helper/svg-tags-helper.ts"),n=function(){function t(){}return t.addSvg=function(e){var i=document.createElementNS(t.namespaceURI,"svg");return e.class="circle-container "+r.default.extractPropertyFromObject(e,"class"),s.default.setAttributes(i,e),i},t.addCircle=function(e){var i=document.createElementNS(t.namespaceURI,"circle");return s.default.setAttributes(i,e),i},t.addArc=function(e){var i=document.createElementNS(t.namespaceURI,"path");return s.default.setAttributes(i,e),i},t.addText=function(e){var i=document.createElementNS(t.namespaceURI,"text");return i.setAttributeNS(null,"text-anchor","middle"),s.default.setAttributes(i,e),i},t.addDefs=function(e){var i=document.createElementNS(t.namespaceURI,"defs"),r=document.createElementNS(t.namespaceURI,"linearGradient");s.default.setAttributes(r,{id:"linearGradient"});var n=document.createElementNS(t.namespaceURI,"stop"),o={offset:"0","stop-color":e.gradientStart};s.default.setAttributes(n,o);var a=document.createElementNS(t.namespaceURI,"stop"),c={offset:"1","stop-color":e.gradientEnd};return s.default.setAttributes(a,c),r.appendChild(n),r.appendChild(a),i.appendChild(r),i},t.namespaceURI="http://www.w3.org/2000/svg",t}();e.default=n},"./src/circle-type/half-circle.ts":function(t,e,i){"use strict";i.r(e);var r,s=i("./src/base-class/svg-tags.ts"),n=i("./src/helper/object-helper.ts"),o=i("./src/helper/style-helper.ts"),a=i("./src/helper/svg-tags-helper.ts"),c=i("./src/circle-type/simple-circle.ts"),l=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.drawCircle=function(){var t={class:n.default.extractPropertyFromObject(this.additionalCssClasses,"svgContainer")};this.drawContainer(t),this.drawBackgroundCircle(),this.drawForegroundCircle(),this.drawText(),this.append()},e.prototype.drawBackgroundCircle=function(){var t=n.default.extractPropertyFromObject(this.additionalCssClasses,"backgroundCircle"),e=s.default.addArc({id:"bg-arc-"+this.options.id,d:a.default.describeArc(this.coordinates.x,this.coordinates.y,this.radius,270,90),class:"background-circle "+t,"stroke-width":this.options.backgroundCircleWidth});this.tags.push({element:e,parentId:"svg-"+this.options.id})},e.prototype.drawForegroundCircle=function(){var t=1.8*this.options.percent,e=n.default.extractPropertyFromObject(this.additionalCssClasses,"foregroundCircle"),i=s.default.addArc({id:"arc-"+this.options.id,class:"foreground-circle "+e,d:a.default.describeArc(this.coordinates.x,this.coordinates.y,this.radius,0,t),transform:"rotate(-90, "+this.coordinates.x+", "+this.coordinates.y+")","stroke-width":this.options.foregroundCircleWidth,"stroke-linecap":this.options.strokeLinecap});this.options.animation&&this.animate(i),this.tags.push({element:i,parentId:"svg-"+this.options.id})},e.prototype.animate=function(t){o.StyleHelper.animateArc({arc:t,arcParams:{percent:this.options.percent,x:this.coordinates.x,y:this.coordinates.y,radius:this.radius,endAngleGrade:180},animationStep:this.options.animationStep,progressColors:this.options.progressColors},this.options.onAnimationEnd)},e}(c.default);e.default=d},"./src/circle-type/plain-circle.ts":function(t,e,i){"use strict";i.r(e);var r,s=i("./src/base-class/base-circle.ts"),n=i("./src/base-class/svg-tags.ts"),o=i("./src/helper/object-helper.ts"),a=i("./src/helper/style-helper.ts"),c=i("./src/helper/svg-tags-helper.ts"),l=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coordinates={x:0,y:0},e.additionalCssClasses={},e}return l(e,t),e.prototype.initialize=function(e,i){t.prototype.initialize.call(this,e,i);var r=this.size.maxSize;this.coordinates={x:r/2,y:r/2},this.radius=r/2.2,this.options.additionalCssClasses&&(this.additionalCssClasses=this.options.additionalCssClasses),this.animateInView()},e.prototype.drawCircle=function(){this.drawContainer(),this.drawPlainCircle(),this.append()},e.prototype.drawPlainCircle=function(){var t=3.6*this.options.percent,e=o.default.extractPropertyFromObject(this.additionalCssClasses,"foregroundCircle"),i=n.default.addArc({id:"arc-"+this.options.id,class:"foreground-circle "+e,d:c.default.describeArc(this.coordinates.x,this.coordinates.y,this.radius,0,t),"stroke-width":this.options.foregroundCircleWidth,"stroke-linecap":this.options.strokeLinecap});this.options.animation&&this.animate(i),this.tags.push({element:i,parentId:"svg-"+this.options.id})},e.prototype.animate=function(t){a.StyleHelper.animateArc({arc:t,arcParams:{percent:this.options.percent,x:this.coordinates.x,y:this.coordinates.y,radius:this.radius},animationStep:this.options.animationStep,progressColors:this.options.progressColors},this.options.onAnimationEnd)},e}(s.BaseCircle);e.default=d},"./src/circle-type/simple-circle.ts":function(t,e,i){"use strict";i.r(e);var r,s=i("./src/base-class/base-circle.ts"),n=i("./src/base-class/svg-tags.ts"),o=i("./src/helper/object-helper.ts"),a=i("./src/helper/style-helper.ts"),c=i("./src/helper/svg-tags-helper.ts"),l=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coordinates={x:0,y:0},e.additionalCssClasses={},e}return l(e,t),e.prototype.initialize=function(e,i){t.prototype.initialize.call(this,e,i);var r=this.size.maxSize;this.coordinates={x:r/2,y:r/2},this.radius=r/2.2,this.options.additionalCssClasses&&(this.additionalCssClasses=this.options.additionalCssClasses),this.animateInView()},e.prototype.drawCircle=function(){var t={class:o.default.extractPropertyFromObject(this.additionalCssClasses,"svgContainer")};this.drawContainer(t),this.options.strokeGradient&&this.drawLinearGradient(),this.drawBackgroundCircle(),this.drawForegroundCircle(),this.options.point&&this.drawPoint(),this.options.icon&&this.drawIcon(),this.drawText(),!this.options.textReplacesPercentage&&this.options.text&&this.drawInfoText(),this.append()},e.prototype.drawBackgroundCircle=function(){var t=o.default.extractPropertyFromObject(this.additionalCssClasses,"backgroundCircle"),e=n.default.addCircle({id:"circle-"+this.options.id,class:"background-circle "+t,cx:String(this.coordinates.x),cy:String(this.coordinates.y),r:String(this.radius),"stroke-width":this.options.backgroundCircleWidth});this.tags.push({element:e,parentId:"svg-"+this.options.id})},e.prototype.drawPoint=function(){var t=this.radius/100*this.options.pointSize,e=o.default.extractPropertyFromObject(this.additionalCssClasses,"point"),i=n.default.addCircle({id:"point-"+this.options.id,class:"point-circle "+e,cx:String(this.coordinates.x),cy:String(this.coordinates.y),r:String(t)});this.tags.push({element:i,parentId:"svg-"+this.options.id})},e.prototype.drawForegroundCircle=function(){var t=3.6*this.options.percent,e=o.default.extractPropertyFromObject(this.additionalCssClasses,"foregroundCircle"),i={id:"arc-"+this.options.id,class:"foreground-circle "+e,d:c.default.describeArc(this.coordinates.x,this.coordinates.y,this.radius,0,t),"stroke-width":this.options.foregroundCircleWidth,"stroke-linecap":this.options.strokeLinecap};this.options.strokeGradient&&(i.stroke="url(#linearGradient)",i.class="foreground-circle-without-stroke-color "+e);var r=n.default.addArc(i);this.options.animation&&this.animate(r),this.tags.push({element:r,parentId:"svg-"+this.options.id})},e.prototype.animate=function(t,e){a.StyleHelper.animateArc({arc:t,arcParams:{percent:e||this.options.percent,x:this.coordinates.x,y:this.coordinates.y,radius:this.radius},animationStep:this.options.animationStep,progressColors:this.options.progressColors},this.options.onAnimationEnd)},e.prototype.drawIcon=function(){var t=this.options.icon,e=o.default.extractPropertyFromObject(this.additionalCssClasses,"icon"),i=n.default.addText({id:"text-"+this.options.id,x:String(this.coordinates.x),y:String(this.coordinates.y-25),class:"circle-icon fa "+e});i.innerHTML="&#x"+t+";",this.tags.push({element:i,parentId:"svg-"+this.options.id})},e.prototype.drawText=function(){var t=o.default.extractPropertyFromObject(this.additionalCssClasses,"text"),e=n.default.addText({id:"text-"+this.options.id,x:String(this.coordinates.x),y:String(this.coordinates.y),class:"circle-text "+t}),i=this.options.noPercentageSign?"":"%",r=""+this.options.percent+i;this.options.textReplacesPercentage&&this.options.text&&(r=this.options.text),e.textContent=r,this.tags.push({element:e,parentId:"svg-"+this.options.id})},e.prototype.drawInfoText=function(){var t=o.default.extractPropertyFromObject(this.additionalCssClasses,"infoText"),e=n.default.addText({id:"text-"+this.options.id,x:String(this.coordinates.x),y:String(this.coordinates.y+20),class:"circle-info-text "+t});e.textContent=this.options.text,this.tags.push({element:e,parentId:"svg-"+this.options.id})},e.prototype.drawLinearGradient=function(){var t={};t.gradientStart=this.options.strokeGradient[0],t.gradientEnd=this.options.strokeGradient[1];var e=n.default.addDefs(t);this.tags.push({element:e,parentId:"svg-"+this.options.id})},e}(s.BaseCircle);e.default=d},"./src/helper/object-helper.ts":function(t,e,i){"use strict";i.r(e);var r=function(){function t(){}return t.extractPropertyFromObject=function(t,e){var i;return t.hasOwnProperty(e)&&t[e]&&(i=t[e]),i},t}();e.default=r},"./src/helper/style-helper.ts":function(t,e,i){"use strict";i.r(e),i.d(e,"StyleHelper",(function(){return s}));var r=i("./src/helper/svg-tags-helper.ts"),s=function(){function t(){}return t.animateArc=function(e,i){var s=e.arc,n=e.arcParams,o=e.animationStep,a=e.progressColors,c=n.startAngle?n.startAngle:0,l=n.endAngleGrade?n.endAngleGrade:360,d=this.getMilliseconds(n.ms,n.endAngleGrade),p=Array.isArray(a)&&a.length>0,u=1,h=setInterval((function(e,s,a){var d=l/100*u;r.default.setAttributes(e,{d:r.default.describeArc(n.x,n.y,n.radius,c,d)}),p&&t.updateCircleColor(u,e,a),(u+=o)>s&&(clearInterval(h),"function"==typeof i&&i())}),d,s,n.percent,a)},t.updateCircleColor=function(t,e,i){var s=i.find((function(e){return e.percent===t}));s&&r.default.setAttributes(e,{style:"stroke: "+s.color})},t.getMilliseconds=function(t,e){var i=t||50;return e<=180&&(i/=3),i},t}()},"./src/helper/svg-tags-helper.ts":function(t,e,i){"use strict";i.r(e);var r=function(){function t(){}return t.setAttributes=function(t,e){for(var i=0,r=Object.entries(e);i<r.length;i++){var s=r[i],n=s[0],o=s[1];t.setAttribute(n,o)}},t.setAttributeNamespace=function(t,e){for(var i=0,r=Object.entries(e);i<r.length;i++){var s=r[i],n=s[0],o=s[1];t.setAttributeNS(null,n,o)}},t.polarToCartesian=function(t,e,i,r){var s=(r-90)*Math.PI/180;return{x:t+Math.round(i*Math.cos(s)+Number.EPSILON),y:e+Math.round(i*Math.sin(s)+Number.EPSILON)}},t.describeArc=function(e,i,r,s,n){var o=t.polarToCartesian(e,i,r,n),a=t.polarToCartesian(e,i,r,s),c=n-s<=180?"0":"1";return["M",o.x,o.y,"A",r,r,0,c,0,a.x,a.y].join(" ")},t}();e.default=r},"./src/index.ts":function(t,e,i){"use strict";i.r(e),i.d(e,"newCircle",(function(){return s})),i.d(e,"newCircleWithDataSet",(function(){return n}));i("./style/main.scss");var r=i("./src/base-class/circle.ts");function s(t){return(new r.default).newCircle(t)}function n(t,e){return(new r.default).newCircleWithDataSet(t,e)}},"./style/main.scss":function(t,e,i){}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaXJjbGlmdWwvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2FwaS50cyIsIndlYnBhY2s6Ly9jaXJjbGlmdWwvLi9zcmMvYmFzZS1jbGFzcy9iYXNlLWNpcmNsZS50cyIsIndlYnBhY2s6Ly9jaXJjbGlmdWwvLi9zcmMvYmFzZS1jbGFzcy9jaXJjbGUtZmFjdG9yeS50cyIsIndlYnBhY2s6Ly9jaXJjbGlmdWwvLi9zcmMvYmFzZS1jbGFzcy9jaXJjbGUudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2Jhc2UtY2xhc3Mvb3B0aW9ucy50cyIsIndlYnBhY2s6Ly9jaXJjbGlmdWwvLi9zcmMvYmFzZS1jbGFzcy9zdmctdGFncy50cyIsIndlYnBhY2s6Ly9jaXJjbGlmdWwvLi9zcmMvY2lyY2xlLXR5cGUvaGFsZi1jaXJjbGUudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2NpcmNsZS10eXBlL3BsYWluLWNpcmNsZS50cyIsIndlYnBhY2s6Ly9jaXJjbGlmdWwvLi9zcmMvY2lyY2xlLXR5cGUvc2ltcGxlLWNpcmNsZS50cyIsIndlYnBhY2s6Ly9jaXJjbGlmdWwvLi9zcmMvaGVscGVyL29iamVjdC1oZWxwZXIudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2hlbHBlci9zdHlsZS1oZWxwZXIudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2hlbHBlci9zdmctdGFncy1oZWxwZXIudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwib3B0aW9ucyIsInRoaXMiLCJ1cGRhdGUiLCJwYXJhbWV0ZXIiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlkIiwiQXJyYXkiLCJpc0FycmF5IiwiZm9yRWFjaCIsInVwZGF0ZVR5cGUiLCJ0eXBlIiwiaW5uZXJIVE1MIiwiaW5pdGlhbGl6ZUNpcmNsZVR5cGUiLCJwZXJjZW50IiwiTnVtYmVyIiwicG9pbnQiLCJCb29sZWFuIiwiYW5pbWF0aW9uIiwicG9pbnRTaXplIiwiYW5pbWF0aW9uU3RlcCIsInN0cm9rZUdyYWRpZW50IiwiaWNvbiIsIlN0cmluZyIsInRleHQiLCJ0ZXh0UmVwbGFjZXNQZXJjZW50YWdlIiwiZm9yZWdyb3VuZENpcmNsZVdpZHRoIiwiYmFja2dyb3VuZENpcmNsZVdpZHRoIiwiYWRkaXRpb25hbENzc0NsYXNzZXMiLCJjb25zb2xlIiwibG9nIiwicHJvZ3Jlc3NDb2xvcnMiLCJleHRyYWN0UHJvcGVydHlGcm9tT2JqZWN0IiwidGFncyIsImFuaW1hdGVJblZpZXciLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiY2hlY2tBbmltYXRpb24iLCJzdmdQYXJlbnRJZCIsImNpcmNsZUNvbnRhaW5lciIsImZvcmVncm91bmRDaXJjbGUiLCJpblZpZXciLCJpc0VsZW1lbnRJblZpZXdwb3J0IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJhZGQiLCJzZXRUaW1lb3V0IiwiYW5pbWF0ZSIsIm9mZnNldFRvcCIsInNjcm9sbFBvc2l0aW9uVG9wIiwic2Nyb2xsWSIsIndpbmRvd0hlaWdodCIsImlubmVySGVpZ2h0IiwiZHJhd0NvbnRhaW5lciIsImFkZGl0aW9uYWxBdHRyaWJ1dGVzIiwibWluWCIsIm1pblkiLCJ3aWR0aCIsImhlaWdodCIsImNvbnRhaW5lciIsImFkZFN2ZyIsInZpZXdCb3giLCJwcmVzZXJ2ZUFzcGVjdFJhdGlvIiwicHVzaCIsInBhcmVudElkIiwiZ2V0Vmlld0JveFBhcmFtcyIsImNpcmNsZVdpZHRoIiwic2l6ZSIsImFwcGVuZCIsInRhZyIsImFwcGVuZENoaWxkIiwiaW5pdGlhbGl6ZSIsImNpcmNsZUNsYXNzIiwidG9Mb3dlckNhc2UiLCJnZXRQYXJlbnRTaXplIiwiYm94IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJtYXhTaXplIiwiY2hlY2tEYXRhQXR0cmlidXRlcyIsIkNpcmNsZSIsImNpcmNsZSIsIm1lcmdlZE9wdGlvbnMiLCJtZXJnZU9wdGlvbnMiLCJkcmF3Q2lyY2xlIiwibmV3Q2lyY2xlIiwibmV3Q2lyY2xlV2l0aERhdGFTZXQiLCJkZWZhdWx0T3B0aW9ucyIsIm5vUGVyY2VudGFnZVNpZ24iLCJzdHJva2VMaW5lY2FwIiwiZ2V0RGF0YUF0dHJpYnV0ZXMiLCJkYXRhT3B0aW9ucyIsImRhdGFzZXQiLCJPcHRpb25zIiwiYXR0cmlidXRlcyIsInN2ZyIsImNyZWF0ZUVsZW1lbnROUyIsIlN2Z1RhZ3MiLCJuYW1lc3BhY2VVUkkiLCJjbGFzcyIsInNldEF0dHJpYnV0ZXMiLCJhZGRDaXJjbGUiLCJhZGRBcmMiLCJhcmMiLCJhZGRUZXh0Iiwic2V0QXR0cmlidXRlTlMiLCJhZGREZWZzIiwiZGVmcyIsImxpbmVhckdyYWRpZW50IiwiZmlyc3RTdG9wIiwiZmlyc3RTdG9wQXR0cmlidXRlcyIsImdyYWRpZW50U3RhcnQiLCJzZWNvbmRTdG9wIiwic2Vjb25kU3RvcEF0dHJpYnV0ZXMiLCJncmFkaWVudEVuZCIsImFkZGl0aW9uYWxDb250YWluZXJBdHRyaWJ1dGVzIiwiZHJhd0JhY2tncm91bmRDaXJjbGUiLCJkcmF3Rm9yZWdyb3VuZENpcmNsZSIsImRyYXdUZXh0IiwiY3VzdG9tQ3NzQ2xhc3MiLCJkZXNjcmliZUFyYyIsImNvb3JkaW5hdGVzIiwieCIsInkiLCJyYWRpdXMiLCJlbmRBbmdsZSIsImFuaW1hdGVBcmMiLCJhcmNQYXJhbXMiLCJlbmRBbmdsZUdyYWRlIiwib25BbmltYXRpb25FbmQiLCJkcmF3UGxhaW5DaXJjbGUiLCJkcmF3TGluZWFyR3JhZGllbnQiLCJkcmF3UG9pbnQiLCJkcmF3SWNvbiIsImRyYXdJbmZvVGV4dCIsImN4IiwiY3kiLCJzdHJva2UiLCJ1cGRhdGVkUGVyY2VudCIsInBlcmNlbnRhZ2VTaWduIiwiY29udGVudCIsInRleHRDb250ZW50IiwicGFyYW1zIiwiY2FsbGJhY2siLCJzdGFydEFuZ2xlIiwibXMiLCJnZXRNaWxsaXNlY29uZHMiLCJoYXNQcm9ncmVzc0NvbG9yIiwibGVuZ3RoIiwiY291bnQiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiU3R5bGVIZWxwZXIiLCJ1cGRhdGVDaXJjbGVDb2xvciIsImNsZWFySW50ZXJ2YWwiLCJhY3R1YWxDb3VudCIsInByb2dyZXNzQ29sb3IiLCJmaW5kIiwicHJvZ3Jlc3MiLCJzdHlsZSIsImNvbG9yIiwiZGVmYXVsdE1zIiwiZW50cmllcyIsInNldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZU5hbWVzcGFjZSIsInBvbGFyVG9DYXJ0ZXNpYW4iLCJjZW50ZXJYIiwiY2VudGVyWSIsImFuZ2xlSW5EZWdyZWVzIiwiYW5nbGVJblJhZGlhbnMiLCJNYXRoIiwiUEkiLCJyb3VuZCIsImNvcyIsIkVQU0lMT04iLCJzaW4iLCJzdGFydCIsIlN2Z1RhZ3NIZWxwZXIiLCJlbmQiLCJsYXJnZUFyY0ZsYWciLCJqb2luIl0sIm1hcHBpbmdzIjoiMEJBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBMERmLE9BckRBRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FBTyxNQUd2QixHQUZBMUIsRUFBb0JrQixFQUFFTyxHQUN0QlgsT0FBT0MsZUFBZVUsRUFBSSxVQUFXLENBQUVULFlBQVksRUFBTUssTUFBT0EsSUFDdEQsRUFBUEUsR0FBNEIsaUJBQVRGLEVBQW1CLElBQUksSUFBSU0sS0FBT04sRUFBT3JCLEVBQW9CVSxFQUFFZSxFQUFJRSxFQUFLLFNBQVNBLEdBQU8sT0FBT04sRUFBTU0sSUFBUUMsS0FBSyxLQUFNRCxJQUM5SSxPQUFPRixHQUlSekIsRUFBb0I2QixFQUFJLFNBQVMxQixHQUNoQyxJQUFJUyxFQUFTVCxHQUFVQSxFQUFPcUIsV0FDN0IsV0FBd0IsT0FBT3JCLEVBQWdCLFNBQy9DLFdBQThCLE9BQU9BLEdBRXRDLE9BREFILEVBQW9CVSxFQUFFRSxFQUFRLElBQUtBLEdBQzVCQSxHQUlSWixFQUFvQmEsRUFBSSxTQUFTaUIsRUFBUUMsR0FBWSxPQUFPakIsT0FBT2tCLFVBQVVDLGVBQWUxQixLQUFLdUIsRUFBUUMsSUFHekcvQixFQUFvQmtDLEVBQUksU0FJakJsQyxFQUFvQkEsRUFBb0JtQyxFQUFJLGtCLDhDQ2xGckQsc0hBS0EsYUFHSSxXQUFZQyxHQUNSQyxLQUFLRCxRQUFVQSxFQWdGdkIsT0F6RVcsWUFBQUUsT0FBUCxTQUFjQyxHQUFkLFdBQ1VDLEVBQVVDLFNBQVNDLGVBQWUsT0FBT0wsS0FBS0QsUUFBUU8sSUFFeERDLE1BQU1DLFFBQVFOLEdBQ2RBLEVBQVVPLFNBQVEsU0FBQ1osR0FBTSxTQUFLYSxXQUFXYixFQUFFYyxLQUFNZCxFQUFFYixVQUVuRGdCLEtBQUtVLFdBQVdSLEVBQVVTLEtBQU1ULEVBQVVsQixPQUc5Q21CLEVBQVFTLFVBQVksR0FDcEIsVUFBT0MscUJBQXFCYixLQUFLRCxVQVE3QixZQUFBVyxXQUFSLFNBQW1CQyxFQUFjM0IsR0FDN0IsT0FBUTJCLEdBQ0osSUFBSyxVQUNEWCxLQUFLRCxRQUFRZSxRQUFVQyxPQUFPL0IsR0FDOUIsTUFDSixJQUFLLFFBQ0RnQixLQUFLRCxRQUFRaUIsTUFBUUMsUUFBUWpDLEdBQzdCLE1BQ0osSUFBSyxZQUNEZ0IsS0FBS0QsUUFBUW1CLFVBQVlELFFBQVFqQyxHQUNqQyxNQUNKLElBQUssWUFDRGdCLEtBQUtELFFBQVFvQixVQUFZSixPQUFPL0IsR0FDaEMsTUFDSixJQUFLLGdCQUNEZ0IsS0FBS0QsUUFBUXFCLGNBQWdCTCxPQUFPL0IsR0FDcEMsTUFDSixJQUFLLGlCQUVEZ0IsS0FBS0QsUUFBUXNCLGVBQWlCckMsRUFDOUIsTUFDSixJQUFLLE9BQ0RnQixLQUFLRCxRQUFRdUIsS0FBT0MsT0FBT3ZDLEdBQzNCLE1BQ0osSUFBSyxPQUNEZ0IsS0FBS0QsUUFBUXlCLEtBQU9ELE9BQU92QyxHQUMzQixNQUNKLElBQUsseUJBQ0RnQixLQUFLRCxRQUFRMEIsdUJBQXlCUixRQUFRakMsR0FDOUMsTUFDSixJQUFLLHdCQUNEZ0IsS0FBS0QsUUFBUTJCLHNCQUF3QlgsT0FBTy9CLEdBQzVDLE1BQ0osSUFBSyx3QkFDRGdCLEtBQUtELFFBQVE0QixzQkFBd0JaLE9BQU8vQixHQUM1QyxNQUNKLElBQUssdUJBRURnQixLQUFLRCxRQUFRNkIscUJBQXVCNUMsRUFDcEMsTUFDSixJQUFLLGlCQUNENkMsUUFBUUMsSUFBSSxRQUFTOUMsR0FFckJnQixLQUFLRCxRQUFRZ0MsZUFBaUIvQyxJQVNuQyxZQUFBSixJQUFQLFNBQVcrQixHQUNQLE9BQU8sVUFBYXFCLDBCQUEwQmhDLEtBQUtELFFBQVNZLElBRXBFLEVBcEZBLEksd1dDSUEsMEJBWVcsS0FBQXNCLEtBQWUsR0FtSDFCLE9BOUdjLFlBQUFDLGNBQVYsc0JBQ1FsQyxLQUFLRCxRQUFRbUMsZUFDYkMsT0FBT0MsaUJBQWlCLFVBQVUsV0FDOUIsRUFBS0MsZUFBZSxFQUFLdEMsUUFBUU8sUUFRbkMsWUFBQStCLGVBQVYsU0FBeUJDLEdBQXpCLFdBQ1VDLEVBQWtCbkMsU0FBU0MsZUFBZWlDLEdBQzFDRSxFQUFtQnBDLFNBQVNDLGVBQWUsT0FBT2lDLEdBQ2xERyxFQUFTekMsS0FBSzBDLG9CQUFvQkgsSUFFbkNBLEVBQWdCSSxVQUFVQyxTQUFTLGVBQWlCSCxJQUNyREYsRUFBZ0JJLFVBQVVFLElBQUksY0FDOUJDLFlBQVcsV0FBTSxTQUFLQyxRQUFRUCxLQUE4QixPQVExRCxZQUFBRSxvQkFBVixTQUE4QkgsR0FDMUIsSUFBTVMsRUFBWVQsRUFBZ0JTLFVBQzVCQyxFQUFvQmQsT0FBT2UsUUFDM0JDLEVBQWVoQixPQUFPaUIsWUFFNUIsT0FBT0gsRUFBb0JELEdBQWNDLEVBQW9CRSxFQUFlSCxHQW1CekUsWUFBQUssY0FBUCxTQUFxQkMsR0FBZ0N6QixRQUFRQyxJQUFJd0IsR0FDTiw4QkFBQ0MsRUFBQSxFQUFBQSxLQUFNQyxFQUFBLEVBQUFBLEtBQU1DLEVBQUEsRUFBQUEsTUFBT0MsRUFBQSxFQUFBQSxPQUVwQkMsRUFBWSxVQUFRQyxPQUFPLEVBQUQsQ0FDN0VILE1BQU8sT0FDUEMsT0FBUSxPQUNSRyxRQUFZTixFQUFJLElBQUlDLEVBQUksSUFBSUMsRUFBSyxJQUFJQyxFQUNyQ3BELEdBQUksT0FBT04sS0FBS0QsUUFBUU8sR0FDeEJ3RCxvQkFBcUIsaUJBQ2xCUixJQUcwQ3RELEtBQUtpQyxLQUFLOEIsS0FBSyxDQUM1RDVELFFBQVN3RCxFQUNUSyxTQUFVaEUsS0FBS0QsUUFBUU8sTUFPdkIsWUFBQTJELGlCQUFSLFdBQ1UsbUJBQUN2QyxFQUFBLEVBQUFBLHNCQUF1QkMsRUFBQSxFQUFBQSxzQkFDMUJ1QyxFQUFjdkMsRUFFZEQsRUFBd0JDLElBQ3hCdUMsRUFBY3hDLEdBR2xCLElBRUkrQixFQUFRekQsS0FBS21FLEtBQUtWLE1BQ2xCQyxFQUFTMUQsS0FBS21FLEtBQUtULE9BTXZCLE9BTEloQyxFQUF3QixHQUFLQyxFQUF3QixLQUNyRDhCLEVBQVF6RCxLQUFLbUUsS0FBS1YsTUFBUyxJQUFNUyxFQUNqQ1IsRUFBUzFELEtBQUttRSxLQUFLVCxPQUFVLElBQU1RLEdBR2hDLENBQUNYLEtBVEssRUFTQ0MsS0FSRCxFQVFPQyxNQUFLLEVBQUVDLE9BQU0sSUFNOUIsWUFBQVUsT0FBUCxXQUNJcEUsS0FBS2lDLEtBQUt4QixTQUFRLFNBQUM0RCxHQUNBakUsU0FBU0MsZUFBZWdFLEVBQUlMLFVBQ3BDTSxZQUFZRCxFQUFJbEUsYUFTeEIsWUFBQW9FLFdBQVAsU0FBa0J4RSxFQUE0Qm9FLEdBQzFDbkUsS0FBS0QsUUFBVUEsRUFDZkMsS0FBS21FLEtBQU9BLEdBRXBCLEVBL0hBLEksa0VDVEEsb0xBS0EsMkJBbUJBLE9BbEJrQixFQUFBOUUsT0FBZCxTQUFxQnNCLEdBQ2pCLElBQUk2RCxFQUNKLE9BQVE3RCxFQUFLOEQsZUFDVCxJQUFLLE9BQ0RELEVBQWMsSUFBSSxVQUNsQixNQUNKLElBQUssUUFDREEsRUFBYyxJQUFJLFVBQ2xCLE1BQ0osSUFBSyxTQUNEQSxFQUFjLElBQUksVUFDbEIsTUFDSixRQUNJQSxFQUFjLElBQUksVUFHMUIsT0FBT0EsR0FFZixFQW5CQSxJLDBEQ0xBLDRHQUtBLDJCQTZEQSxPQXZEbUIsRUFBQUUsY0FBZixTQUE2QnBFLEdBQ3pCLElBQU1xRSxFQUFNdkUsU0FBU0MsZUFBZUMsR0FDOUJtRCxFQUFRa0IsRUFBSUMsWUFBYyxFQUFJRCxFQUFJQyxZQUFjLElBQ2hEbEIsRUFBU2lCLEVBQUlFLGFBQWUsRUFBSUYsRUFBSUUsYUFBZSxJQUV6RCxNQUFPLENBQ0hDLFFBQVNyQixFQUFRQyxFQUFTQSxFQUFTRCxFQUNuQ0MsT0FBTSxFQUNORCxNQUFLLElBU0MsRUFBQTVDLHFCQUFkLFNBQW1DZCxFQUE0QmdGLFFBQUEsSUFBQUEsT0FBQSxHQUMzRCxJQUFNWixFQUFPYSxFQUFPTixjQUFjM0UsRUFBUU8sSUFDcEMyRSxFQUFTLGdCQUFjNUYsT0FBT1UsRUFBUVksTUFFdEN1RSxHQURpQixJQUFJLFdBQ1VDLGFBQWFwRixFQUFTZ0YsR0FLM0QsT0FIQUUsRUFBT1YsV0FBV1csRUFBZWYsR0FDakNjLEVBQU9HLGFBRUFILEdBT0osWUFBQUksVUFBUCxTQUFpQnRGLEdBR2IsT0FGQWlGLEVBQU9uRSxxQkFBcUJkLEdBRXJCLElBQUksTUFBSUEsSUFRWixZQUFBdUYscUJBQVAsU0FBNEJ0QixFQUFrQnJELEdBQzFDLElBQU1aLEVBQTZCLENBQy9CTyxHQUFJMEQsRUFDSnJELEtBQUksRUFDSkcsUUFBUyxHQUtiLE9BRkFrRSxFQUFPbkUscUJBQXFCZCxHQUFTLEdBRTlCLElBQUksTUFBSUEsSUFFdkIsRUE3REEsR0ErRGUsYSxxUkNsRWYsMEJBSVcsS0FBQXdGLGVBQW9DLENBQ3ZDdkUsT0FBTyxFQUNQRyxVQUFXLEdBQ1hMLFFBQVMsR0FDVFksc0JBQXVCLEVBQ3ZCQyxzQkFBdUIsR0FDdkJULFdBQVcsRUFDWEUsY0FBZSxFQUNmb0Usa0JBQWtCLEVBQ2xCdEQsZUFBZSxFQUNmdUQsY0FBZSxPQUNmOUUsS0FBTSxlQUNOYyx3QkFBd0IsR0EyQ2hDLE9BcENtQixFQUFBaUUsa0JBQWYsU0FBaUMzRixHQUM3QixJQUFNd0MsRUFBa0JuQyxTQUFTQyxlQUFlTixFQUFRTyxJQUNsRHFGLEVBQWlDLENBQUM3RSxRQUFTZixFQUFRZSxTQUV6RCxJQUFLLElBQU14QixLQUFPaUQsRUFBZ0JxRCxRQUM5QixHQUFJckQsRUFBZ0JxRCxRQUFRaEcsZUFBZU4sR0FBTSxDQUM3QyxJQUFNTixFQUFRdUQsRUFBZ0JxRCxRQUFRdEcsR0FFeEIsVUFBVk4sR0FBK0IsU0FBVkEsRUFDckIyRyxFQUFZckcsR0FBaUIsU0FBVk4sRUFDWitCLE9BQU8vQixHQUNkMkcsRUFBWXJHLEdBQU95QixPQUFPL0IsR0FFMUIyRyxFQUFZckcsR0FBT04sRUFLL0IsT0FBTzJHLEdBU0osWUFBQVIsYUFBUCxTQUFvQnBGLEVBQTRCZ0YsUUFBQSxJQUFBQSxPQUFBLEdBQzVDLElBQUlHLEVBQWdCLEVBQUgsS0FBT2xGLEtBQUt1RixnQkFBbUJ4RixHQUNoRCxHQUFJZ0YsRUFBcUIsQ0FDckIsSUFBTVksRUFBY0UsRUFBUUgsa0JBQWtCM0YsR0FDOUNtRixFQUFnQixFQUFILEtBQU9BLEdBQWtCUyxHQUcxQyxPQUFPVCxHQUVmLEVBM0RBLEdBNkRlLGEsNERDL0RmLHVGQUtBLDJCQXlGQSxPQWpGa0IsRUFBQXRCLE9BQWQsU0FBcUJrQyxHQUNqQixJQUFNQyxFQUFNM0YsU0FBUzRGLGdCQUFnQkMsRUFBUUMsYUFBYyxPQVEzRCxPQVBBSixFQUFXSyxNQUFRLG9CQUFzQixVQUFhbkUsMEJBQ2xEOEQsRUFDQSxTQUdKLFVBQWNNLGNBQWNMLEVBQW1CRCxHQUV4Q0MsR0FRRyxFQUFBTSxVQUFkLFNBQXdCUCxHQUNwQixJQUFNYixFQUFTN0UsU0FBUzRGLGdCQUFnQkMsRUFBUUMsYUFBYyxVQUc5RCxPQUZBLFVBQWNFLGNBQWNuQixFQUFzQmEsR0FFM0NiLEdBUUcsRUFBQXFCLE9BQWQsU0FBcUJSLEdBQ2pCLElBQU1TLEVBQU1uRyxTQUFTNEYsZ0JBQWdCQyxFQUFRQyxhQUFjLFFBRzNELE9BRkEsVUFBY0UsY0FBY0csRUFBbUJULEdBRXhDUyxHQVFHLEVBQUFDLFFBQWQsU0FBc0JWLEdBQ2xCLElBQU10RSxFQUFPcEIsU0FBUzRGLGdCQUFnQkMsRUFBUUMsYUFBYyxRQUk1RCxPQUhBMUUsRUFBS2lGLGVBQWUsS0FBTSxjQUFlLFVBQ3pDLFVBQWNMLGNBQWM1RSxFQUFvQnNFLEdBRXpDdEUsR0FPRyxFQUFBa0YsUUFBZCxTQUFzQlosR0FDbEIsSUFBTWEsRUFBT3ZHLFNBQVM0RixnQkFBZ0JDLEVBQVFDLGFBQWMsUUFDdERVLEVBQWlCeEcsU0FBUzRGLGdCQUFnQkMsRUFBUUMsYUFBYyxrQkFJdEUsVUFBY0UsY0FBY1EsRUFISyxDQUM3QnRHLEdBQUksbUJBSVIsSUFBTXVHLEVBQVl6RyxTQUFTNEYsZ0JBQWdCQyxFQUFRQyxhQUFjLFFBQzNEWSxFQUFzQixDQUN4QixPQUFVLElBQ1YsYUFBY2hCLEVBQVdpQixlQUU3QixVQUFjWCxjQUFjUyxFQUF5QkMsR0FFckQsSUFBTUUsRUFBYTVHLFNBQVM0RixnQkFBZ0JDLEVBQVFDLGFBQWMsUUFDNURlLEVBQXVCLENBQ3pCLE9BQVUsSUFDVixhQUFjbkIsRUFBV29CLGFBUTdCLE9BTkEsVUFBY2QsY0FBY1ksRUFBMEJDLEdBRXRETCxFQUFldEMsWUFBWXVDLEdBQzNCRCxFQUFldEMsWUFBWTBDLEdBQzNCTCxFQUFLckMsWUFBWXNDLEdBRVZELEdBdEZHLEVBQUFULGFBQWUsNkJBd0ZqQyxFQXpGQSxHQTJGZSxhLCtqQkN2RmYsMkIsK0NBb0ZBLE9BcEZ5QixPQUlkLFlBQUFkLFdBQVAsV0FDSSxJQUFNK0IsRUFBZ0MsQ0FDbENoQixNQUFPLFVBQWFuRSwwQkFBMEJoQyxLQUFLNEIscUJBQXNCLGlCQUU3RTVCLEtBQUtxRCxjQUFjOEQsR0FDbkJuSCxLQUFLb0gsdUJBQ0xwSCxLQUFLcUgsdUJBQ0xySCxLQUFLc0gsV0FDTHRILEtBQUtvRSxVQU1GLFlBQUFnRCxxQkFBUCxXQUNJLElBRU1HLEVBQWlCLFVBQWF2RiwwQkFDaENoQyxLQUFLNEIscUJBQ0wsb0JBRUUyRSxFQUFNLFVBQVFELE9BQU8sQ0FDdkIsR0FBTSxVQUFVdEcsS0FBS0QsUUFBUU8sR0FDN0IsRUFBSyxVQUFja0gsWUFBWXhILEtBQUt5SCxZQUFZQyxFQUFHMUgsS0FBS3lILFlBQVlFLEVBQUczSCxLQUFLNEgsT0FSN0QsSUFDRixJQVFiLE1BQVMscUJBQXFCTCxFQUM5QixlQUFnQnZILEtBQUtELFFBQVE0Qix3QkFHakMzQixLQUFLaUMsS0FBSzhCLEtBQUssQ0FDWDVELFFBQVNvRyxFQUNUdkMsU0FBVSxPQUFPaEUsS0FBS0QsUUFBUU8sTUFPL0IsWUFBQStHLHFCQUFQLFdBQ0ksSUFBTVEsRUFBVyxJQUFZN0gsS0FBS0QsUUFBUWUsUUFDcEN5RyxFQUFpQixVQUFhdkYsMEJBQ2hDaEMsS0FBSzRCLHFCQUNMLG9CQUVFMkUsRUFBTSxVQUFRRCxPQUFPLENBQ3ZCLEdBQU0sT0FBT3RHLEtBQUtELFFBQVFPLEdBQzFCLE1BQVMscUJBQXFCaUgsRUFDOUIsRUFBSyxVQUFjQyxZQUFZeEgsS0FBS3lILFlBQVlDLEVBQUcxSCxLQUFLeUgsWUFBWUUsRUFBRzNILEtBQUs0SCxPQUFRLEVBQUdDLEdBQ3ZGLFVBQWEsZUFBZTdILEtBQUt5SCxZQUFZQyxFQUFDLEtBQUsxSCxLQUFLeUgsWUFBWUUsRUFBQyxJQUNyRSxlQUFnQjNILEtBQUtELFFBQVEyQixzQkFDN0IsaUJBQWtCMUIsS0FBS0QsUUFBUTBGLGdCQUcvQnpGLEtBQUtELFFBQVFtQixXQUNibEIsS0FBSytDLFFBQVF3RCxHQUdqQnZHLEtBQUtpQyxLQUFLOEIsS0FBSyxDQUNYNUQsUUFBU29HLEVBQ1R2QyxTQUFVLE9BQU9oRSxLQUFLRCxRQUFRTyxNQVEvQixZQUFBeUMsUUFBUCxTQUFld0QsR0FDWCxjQUFZdUIsV0FBVyxDQUNuQnZCLElBQUcsRUFDSHdCLFVBQVcsQ0FDUGpILFFBQVNkLEtBQUtELFFBQVFlLFFBQ3RCNEcsRUFBRzFILEtBQUt5SCxZQUFZQyxFQUNwQkMsRUFBRzNILEtBQUt5SCxZQUFZRSxFQUNwQkMsT0FBUTVILEtBQUs0SCxPQUNiSSxjQUFlLEtBRW5CNUcsY0FBZXBCLEtBQUtELFFBQVFxQixjQUM1QlcsZUFBZ0IvQixLQUFLRCxRQUFRZ0MsZ0JBQzlCL0IsS0FBS0QsUUFBUWtJLGlCQUV4QixFQXBGQSxDQUF5QixXQXNGVixhLDZqQkNwRmYseUUsT0FDWSxFQUFBUixZQUFjLENBQ2xCQyxFQUFHLEVBQ0hDLEVBQUcsR0FHRyxFQUFBL0YscUJBQWtFLEcsRUEyRWhGLE9BakYwQixPQVdmLFlBQUEyQyxXQUFQLFNBQWtCeEUsRUFBNEJvRSxHQUMxQyxZQUFNSSxXQUFVLFVBQUN4RSxFQUFTb0UsR0FFMUIsSUFBTVcsRUFBVTlFLEtBQUttRSxLQUFLVyxRQUMxQjlFLEtBQUt5SCxZQUFjLENBQ2ZDLEVBQUc1QyxFQUFVLEVBQ2I2QyxFQUFHN0MsRUFBVSxHQUVqQjlFLEtBQUs0SCxPQUFTOUMsRUFBVSxJQUVwQjlFLEtBQUtELFFBQVE2Qix1QkFDYjVCLEtBQUs0QixxQkFBdUI1QixLQUFLRCxRQUFRNkIsc0JBRzdDNUIsS0FBS2tDLGlCQU1GLFlBQUFrRCxXQUFQLFdBQ0lwRixLQUFLcUQsZ0JBQ0xyRCxLQUFLa0ksa0JBQ0xsSSxLQUFLb0UsVUFNRixZQUFBOEQsZ0JBQVAsV0FDSSxJQUFNTCxFQUFXLElBQVk3SCxLQUFLRCxRQUFRZSxRQUNwQ3lHLEVBQWlCLFVBQWF2RiwwQkFDaENoQyxLQUFLNEIscUJBQ0wsb0JBRUUyRSxFQUFNLFVBQVFELE9BQU8sQ0FDdkIsR0FBTSxPQUFPdEcsS0FBS0QsUUFBUU8sR0FDMUIsTUFBUyxxQkFBcUJpSCxFQUM5QixFQUFLLFVBQWNDLFlBQVl4SCxLQUFLeUgsWUFBWUMsRUFBRzFILEtBQUt5SCxZQUFZRSxFQUFHM0gsS0FBSzRILE9BQVEsRUFBR0MsR0FDdkYsZUFBZ0I3SCxLQUFLRCxRQUFRMkIsc0JBQzdCLGlCQUFrQjFCLEtBQUtELFFBQVEwRixnQkFHL0J6RixLQUFLRCxRQUFRbUIsV0FDYmxCLEtBQUsrQyxRQUFRd0QsR0FHakJ2RyxLQUFLaUMsS0FBSzhCLEtBQUssQ0FDWDVELFFBQVNvRyxFQUNUdkMsU0FBVSxPQUFPaEUsS0FBS0QsUUFBUU8sTUFRL0IsWUFBQXlDLFFBQVAsU0FBZXdELEdBQ1gsY0FBWXVCLFdBQVcsQ0FDbkJ2QixJQUFHLEVBQ0h3QixVQUFXLENBQ1BqSCxRQUFTZCxLQUFLRCxRQUFRZSxRQUN0QjRHLEVBQUcxSCxLQUFLeUgsWUFBWUMsRUFDcEJDLEVBQUczSCxLQUFLeUgsWUFBWUUsRUFDcEJDLE9BQVE1SCxLQUFLNEgsUUFFakJ4RyxjQUFlcEIsS0FBS0QsUUFBUXFCLGNBQzVCVyxlQUFnQi9CLEtBQUtELFFBQVFnQyxnQkFDOUIvQixLQUFLRCxRQUFRa0ksaUJBRXhCLEVBakZBLENBQTBCLGNBbUZYLGEsOGpCQ2pGZix5RSxPQUNjLEVBQUFSLFlBQWMsQ0FDcEJDLEVBQUcsRUFDSEMsRUFBRyxHQUdHLEVBQUEvRixxQkFBa0UsRyxFQW9QaEYsT0ExUDJCLE9BV2hCLFlBQUEyQyxXQUFQLFNBQWtCeEUsRUFBNEJvRSxHQUMxQyxZQUFNSSxXQUFVLFVBQUN4RSxFQUFTb0UsR0FFMUIsSUFBTVcsRUFBVTlFLEtBQUttRSxLQUFLVyxRQUMxQjlFLEtBQUt5SCxZQUFjLENBQ2ZDLEVBQUc1QyxFQUFVLEVBQ2I2QyxFQUFHN0MsRUFBVSxHQUVqQjlFLEtBQUs0SCxPQUFTOUMsRUFBVSxJQUVwQjlFLEtBQUtELFFBQVE2Qix1QkFDYjVCLEtBQUs0QixxQkFBdUI1QixLQUFLRCxRQUFRNkIsc0JBRzdDNUIsS0FBS2tDLGlCQU1GLFlBQUFrRCxXQUFQLFdBQ0ksSUFBTStCLEVBQWdDLENBQ2xDaEIsTUFBTyxVQUFhbkUsMEJBQTBCaEMsS0FBSzRCLHFCQUFzQixpQkFFN0U1QixLQUFLcUQsY0FBYzhELEdBRWZuSCxLQUFLRCxRQUFRc0IsZ0JBQ2JyQixLQUFLbUkscUJBR1RuSSxLQUFLb0gsdUJBQ0xwSCxLQUFLcUgsdUJBRURySCxLQUFLRCxRQUFRaUIsT0FDYmhCLEtBQUtvSSxZQUdMcEksS0FBS0QsUUFBUXVCLE1BQ2J0QixLQUFLcUksV0FHVHJJLEtBQUtzSCxZQUVBdEgsS0FBS0QsUUFBUTBCLHdCQUEwQnpCLEtBQUtELFFBQVF5QixNQUNyRHhCLEtBQUtzSSxlQUdUdEksS0FBS29FLFVBTUYsWUFBQWdELHFCQUFQLFdBQ0ksSUFBTUcsRUFBaUIsVUFBYXZGLDBCQUNoQ2hDLEtBQUs0QixxQkFDTCxvQkFHRXFELEVBQVMsVUFBUW9CLFVBQVUsQ0FDN0IsR0FBTSxVQUFVckcsS0FBS0QsUUFBUU8sR0FDN0IsTUFBUyxxQkFBcUJpSCxFQUM5QixHQUFNaEcsT0FBT3ZCLEtBQUt5SCxZQUFZQyxHQUM5QixHQUFNbkcsT0FBT3ZCLEtBQUt5SCxZQUFZRSxHQUM5QixFQUFLcEcsT0FBT3ZCLEtBQUs0SCxRQUNqQixlQUFnQjVILEtBQUtELFFBQVE0Qix3QkFHakMzQixLQUFLaUMsS0FBSzhCLEtBQUssQ0FDWDVELFFBQVM4RSxFQUNUakIsU0FBVSxPQUFPaEUsS0FBS0QsUUFBUU8sTUFPL0IsWUFBQThILFVBQVAsV0FDSSxJQUFNakgsRUFBWW5CLEtBQUs0SCxPQUFTLElBQU01SCxLQUFLRCxRQUFRb0IsVUFDN0NvRyxFQUFpQixVQUFhdkYsMEJBQ2hDaEMsS0FBSzRCLHFCQUNMLFNBRUVxRCxFQUFTLFVBQVFvQixVQUFVLENBQzdCL0YsR0FBSSxTQUFTTixLQUFLRCxRQUFRTyxHQUMxQjZGLE1BQU8sZ0JBQWdCb0IsRUFDdkJnQixHQUFJaEgsT0FBT3ZCLEtBQUt5SCxZQUFZQyxHQUM1QmMsR0FBSWpILE9BQU92QixLQUFLeUgsWUFBWUUsR0FDNUI5SSxFQUFHMEMsT0FBT0osS0FHZG5CLEtBQUtpQyxLQUFLOEIsS0FBSyxDQUNYNUQsUUFBUzhFLEVBQ1RqQixTQUFVLE9BQU9oRSxLQUFLRCxRQUFRTyxNQU8vQixZQUFBK0cscUJBQVAsV0FDSSxJQUFNUSxFQUFXLElBQVk3SCxLQUFLRCxRQUFRZSxRQUNwQ3lHLEVBQWlCLFVBQWF2RiwwQkFDaENoQyxLQUFLNEIscUJBQ0wsb0JBRUVrRSxFQUEwQixDQUM1QixHQUFNLE9BQU85RixLQUFLRCxRQUFRTyxHQUMxQixNQUFTLHFCQUFxQmlILEVBQzlCLEVBQUssVUFBY0MsWUFBWXhILEtBQUt5SCxZQUFZQyxFQUFHMUgsS0FBS3lILFlBQVlFLEVBQUczSCxLQUFLNEgsT0FBUSxFQUFHQyxHQUN2RixlQUFnQjdILEtBQUtELFFBQVEyQixzQkFDN0IsaUJBQWtCMUIsS0FBS0QsUUFBUTBGLGVBRy9CekYsS0FBS0QsUUFBUXNCLGlCQUNieUUsRUFBVzJDLE9BQVMsdUJBQ3BCM0MsRUFBV0ssTUFBUSwwQ0FBMENvQixHQUdqRSxJQUFNaEIsRUFBTSxVQUFRRCxPQUFPUixHQUN2QjlGLEtBQUtELFFBQVFtQixXQUNibEIsS0FBSytDLFFBQVF3RCxHQUdqQnZHLEtBQUtpQyxLQUFLOEIsS0FBSyxDQUNYNUQsUUFBU29HLEVBQ1R2QyxTQUFVLE9BQU9oRSxLQUFLRCxRQUFRTyxNQVMvQixZQUFBeUMsUUFBUCxTQUFld0QsRUFBY21DLEdBQ3pCLGNBQVlaLFdBQVcsQ0FDbkJ2QixJQUFHLEVBQ0h3QixVQUFXLENBQ1BqSCxRQUFTNEgsR0FBa0MxSSxLQUFLRCxRQUFRZSxRQUN4RDRHLEVBQUcxSCxLQUFLeUgsWUFBWUMsRUFDcEJDLEVBQUczSCxLQUFLeUgsWUFBWUUsRUFDcEJDLE9BQVE1SCxLQUFLNEgsUUFFakJ4RyxjQUFlcEIsS0FBS0QsUUFBUXFCLGNBQzVCVyxlQUFnQi9CLEtBQUtELFFBQVFnQyxnQkFDOUIvQixLQUFLRCxRQUFRa0ksaUJBTWIsWUFBQUksU0FBUCxXQUNJLElBQU0vRyxFQUFPdEIsS0FBS0QsUUFBUXVCLEtBQ3BCaUcsRUFBaUIsVUFBYXZGLDBCQUNoQ2hDLEtBQUs0QixxQkFDTCxRQUVFSixFQUFPLFVBQVFnRixRQUFRLENBQ3pCbEcsR0FBSSxRQUFRTixLQUFLRCxRQUFRTyxHQUN6Qm9ILEVBQUduRyxPQUFPdkIsS0FBS3lILFlBQVlDLEdBQzNCQyxFQUFHcEcsT0FBT3ZCLEtBQUt5SCxZQUFZRSxFQUFJLElBQy9CeEIsTUFBTyxrQkFBa0JvQixJQUc3Qi9GLEVBQUtaLFVBQVksTUFBTVUsRUFBSSxJQUUzQnRCLEtBQUtpQyxLQUFLOEIsS0FBSyxDQUNYNUQsUUFBU3FCLEVBQ1R3QyxTQUFVLE9BQU9oRSxLQUFLRCxRQUFRTyxNQU8vQixZQUFBZ0gsU0FBUCxXQUNJLElBQU1DLEVBQWlCLFVBQWF2RiwwQkFDaENoQyxLQUFLNEIscUJBQ0wsUUFFRUosRUFBTyxVQUFRZ0YsUUFBUSxDQUN6QmxHLEdBQUksUUFBUU4sS0FBS0QsUUFBUU8sR0FDekJvSCxFQUFHbkcsT0FBT3ZCLEtBQUt5SCxZQUFZQyxHQUMzQkMsRUFBR3BHLE9BQU92QixLQUFLeUgsWUFBWUUsR0FDM0J4QixNQUFPLGVBQWVvQixJQUdwQm9CLEVBQWlCM0ksS0FBS0QsUUFBUXlGLGlCQUFtQixHQUFLLElBQ3hEb0QsRUFBVSxHQUFHNUksS0FBS0QsUUFBUWUsUUFBVTZILEVBQ3BDM0ksS0FBS0QsUUFBUTBCLHdCQUEwQnpCLEtBQUtELFFBQVF5QixPQUNwRG9ILEVBQVU1SSxLQUFLRCxRQUFReUIsTUFFM0JBLEVBQUtxSCxZQUFjRCxFQUVuQjVJLEtBQUtpQyxLQUFLOEIsS0FBSyxDQUNYNUQsUUFBU3FCLEVBQ1R3QyxTQUFVLE9BQU9oRSxLQUFLRCxRQUFRTyxNQU8vQixZQUFBZ0ksYUFBUCxXQUNJLElBQU1mLEVBQWlCLFVBQWF2RiwwQkFDaENoQyxLQUFLNEIscUJBQ0wsWUFFRUosRUFBTyxVQUFRZ0YsUUFBUSxDQUN6QmxHLEdBQUksUUFBUU4sS0FBS0QsUUFBUU8sR0FDekJvSCxFQUFHbkcsT0FBT3ZCLEtBQUt5SCxZQUFZQyxHQUMzQkMsRUFBR3BHLE9BQU92QixLQUFLeUgsWUFBWUUsRUFBSSxJQUMvQnhCLE1BQU8sb0JBQW9Cb0IsSUFHL0IvRixFQUFLcUgsWUFBYzdJLEtBQUtELFFBQVF5QixLQUVoQ3hCLEtBQUtpQyxLQUFLOEIsS0FBSyxDQUNYNUQsUUFBU3FCLEVBQ1R3QyxTQUFVLE9BQU9oRSxLQUFLRCxRQUFRTyxNQU85QixZQUFBNkgsbUJBQVIsV0FDSSxJQUFNckMsRUFBMEIsR0FFaENBLEVBQVdpQixjQUFnQi9HLEtBQUtELFFBQVFzQixlQUFlLEdBQ3ZEeUUsRUFBV29CLFlBQWNsSCxLQUFLRCxRQUFRc0IsZUFBZSxHQUVyRCxJQUFNc0YsRUFBTyxVQUFRRCxRQUFRWixHQUM3QjlGLEtBQUtpQyxLQUFLOEIsS0FBSyxDQUNYNUQsUUFBU3dHLEVBQ1QzQyxTQUFVLE9BQU9oRSxLQUFLRCxRQUFRTyxNQUcxQyxFQTFQQSxDQUEyQixjQTRQWixhLDZEQ3ZRZixzQ0FTQSxPQVJrQixFQUFBMEIsMEJBQWQsU0FBd0N2QyxFQUFxQkMsR0FDekQsSUFBSVYsRUFLSixPQUpJUyxFQUFPRyxlQUFlRixJQUFhRCxFQUFPQyxLQUMxQ1YsRUFBUVMsRUFBT0MsSUFHWlYsR0FFZixFQVRBLEcseUVDQUEsOEZBRUEsMkJBd0VBLE9BbEVrQixFQUFBOEksV0FBZCxTQUNJZ0IsRUFNQUMsR0FFTyxJQUFBeEMsRUFBQSxFQUFBQSxJQUFLd0IsRUFBQSxFQUFBQSxVQUFXM0csRUFBQSxFQUFBQSxjQUFlVyxFQUFBLEVBQUFBLGVBQ2hDaUgsRUFBYWpCLEVBQVVpQixXQUFhakIsRUFBVWlCLFdBQWEsRUFDM0RoQixFQUFnQkQsRUFBVUMsY0FBZ0JELEVBQVVDLGNBQWdCLElBQ3BFaUIsRUFBS2pKLEtBQUtrSixnQkFBZ0JuQixFQUFVa0IsR0FBSWxCLEVBQVVDLGVBQ2xEbUIsRUFBbUI1SSxNQUFNQyxRQUFRdUIsSUFBbUJBLEVBQWVxSCxPQUFTLEVBRTlFQyxFQUFRLEVBQ05DLEVBQVdDLGFBQVksU0FBQ2hELEVBQUt6RixFQUFTaUIsR0FDeEMsSUFBTThGLEVBQVdHLEVBQWdCLElBQU1xQixFQUN2QyxVQUFjakQsY0FBY0csRUFBSyxDQUM3QmxJLEVBQUcsVUFBY21KLFlBQVlPLEVBQVVMLEVBQUdLLEVBQVVKLEVBQUdJLEVBQVVILE9BQVFvQixFQUFZbkIsS0FHckZzQixHQUNBSyxFQUFZQyxrQkFBa0JKLEVBQU85QyxFQUFLeEUsSUFHOUNzSCxHQUFTakksR0FFR04sSUFDUjRJLGNBQWNKLEdBRVUsbUJBQWJQLEdBQ1BBLE9BR1RFLEVBQUkxQyxFQUFLd0IsRUFBVWpILFFBQVNpQixJQVNyQixFQUFBMEgsa0JBQWQsU0FBZ0NFLEVBQXFCcEQsRUFBY3hFLEdBQy9ELElBQU02SCxFQUFnQjdILEVBQWU4SCxNQUFLLFNBQUNDLEdBQTZCLE9BQUFBLEVBQVNoSixVQUFZNkksS0FDekZDLEdBQ0EsVUFBY3hELGNBQWNHLEVBQUssQ0FDN0J3RCxNQUFPLFdBQVdILEVBQWNJLFNBUzdCLEVBQUFkLGdCQUFmLFNBQStCZSxFQUFtQmpDLEdBQzlDLElBQUlpQixFQUFLZ0IsR0FBd0IsR0FNakMsT0FKSWpDLEdBQWlCLE1BQ2pCaUIsR0FBVSxHQUdQQSxHQUVmLEVBeEVBLEksK0RDREEsc0NBa0VBLE9BM0RrQixFQUFBN0MsY0FBZCxTQUE0QmpHLEVBQWtCMkYsR0FDMUMsSUFBMkIsVUFBQXJILE9BQU95TCxRQUFRcEUsR0FBZixlQUE0QixDQUE1QyxXQUFDeEcsRUFBQSxLQUFLTixFQUFBLEtBQ2JtQixFQUFRZ0ssYUFBYTdLLEVBQUtOLEtBVXBCLEVBQUFvTCxzQkFBZCxTQUFvQ2pLLEVBQWtCMkYsR0FDbEQsSUFBMkIsVUFBQXJILE9BQU95TCxRQUFRcEUsR0FBZixlQUE0QixDQUE1QyxXQUFDeEcsRUFBQSxLQUFLTixFQUFBLEtBQ2JtQixFQUFRc0csZUFBZSxLQUFNbkgsRUFBS04sS0FZNUIsRUFBQXFMLGlCQUFkLFNBQ0lDLEVBQ0FDLEVBQ0EzQyxFQUNBNEMsR0FFQSxJQUFNQyxHQUFrQkQsRUFBaUIsSUFBTUUsS0FBS0MsR0FBSyxJQUV6RCxNQUFPLENBQ0hqRCxFQUFHNEMsRUFBVUksS0FBS0UsTUFBTWhELEVBQVM4QyxLQUFLRyxJQUFJSixHQUFrQjFKLE9BQU8rSixTQUNuRW5ELEVBQUc0QyxFQUFVRyxLQUFLRSxNQUFNaEQsRUFBUzhDLEtBQUtLLElBQUlOLEdBQWtCMUosT0FBTytKLFdBYTdELEVBQUF0RCxZQUFkLFNBQTBCRSxFQUFXQyxFQUFXQyxFQUFnQm9CLEVBQW9CbkIsR0FDaEYsSUFBTW1ELEVBQVFDLEVBQWNaLGlCQUFpQjNDLEVBQUdDLEVBQUdDLEVBQVFDLEdBQ3JEcUQsRUFBTUQsRUFBY1osaUJBQWlCM0MsRUFBR0MsRUFBR0MsRUFBUW9CLEdBQ25EbUMsRUFBZXRELEVBQVdtQixHQUFjLElBQU0sSUFBTSxJQUUxRCxNQUFPLENBQ0gsSUFBS2dDLEVBQU10RCxFQUFHc0QsRUFBTXJELEVBQ3BCLElBQUtDLEVBQVFBLEVBQVEsRUFBR3VELEVBQWMsRUFBR0QsRUFBSXhELEVBQUd3RCxFQUFJdkQsR0FDdER5RCxLQUFLLE1BRWYsRUFsRUEsR0FvRWUsYSw4Q0N2RWYsbUtBU08sU0FBUy9GLEVBQVV0RixHQUV0QixPQURlLElBQUksV0FDTHNGLFVBQVV0RixHQVFyQixTQUFTdUYsRUFBcUJ0QixFQUFrQnJELEdBRW5ELE9BRGUsSUFBSSxXQUNMMkUscUJBQXFCdEIsRUFBVXJELEsiLCJmaWxlIjoiY2lyY2xpZnVsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvZGlzdC9cIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9zcmMvaW5kZXgudHNcIik7XG4iLCJpbXBvcnQgQ2lyY2xlIGZyb20gXCIuL2Jhc2UtY2xhc3MvY2lyY2xlXCI7XG5pbXBvcnQgT2JqZWN0SGVscGVyIGZyb20gXCIuL2hlbHBlci9vYmplY3QtaGVscGVyXCI7XG5pbXBvcnQge0lBdmFpbGFibGVPcHRpb25zfSBmcm9tIFwiLi9pbnRlcmZhY2UvaWF2YWlsYWJsZS1vcHRpb25zXCI7XG5pbXBvcnQge0lUeXBlfSBmcm9tIFwiLi9pbnRlcmZhY2UvaXR5cGVcIjtcblxuZXhwb3J0IGNsYXNzIEFwaSB7XG4gICAgcHVibGljIHJlYWRvbmx5IG9wdGlvbnM6IElBdmFpbGFibGVPcHRpb25zO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogSUF2YWlsYWJsZU9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gVXBkYXRlIG9wdGlvbnMgYW5kIHJlcmVuZGVyIGNpcmNsZVxuICAgICAqIEBwYXJhbSBwYXJhbWV0ZXJcbiAgICAgKi9cbiAgICBwdWJsaWMgdXBkYXRlKHBhcmFtZXRlcjogSVR5cGUgfCBJVHlwZVtdKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWApO1xuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcmFtZXRlcikpIHtcbiAgICAgICAgICAgIHBhcmFtZXRlci5mb3JFYWNoKChwKSA9PiB0aGlzLnVwZGF0ZVR5cGUocC50eXBlLCBwLnZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVR5cGUocGFyYW1ldGVyLnR5cGUsIHBhcmFtZXRlci52YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIENpcmNsZS5pbml0aWFsaXplQ2lyY2xlVHlwZSh0aGlzLm9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBVcGRhdGUgb3B0aW9ucyBieSBnaXZlbiB0eXBlXG4gICAgICogQHBhcmFtIHR5cGVcbiAgICAgKiBAcGFyYW0gdmFsdWVcbiAgICAgKi9cbiAgICBwcml2YXRlIHVwZGF0ZVR5cGUodHlwZTogc3RyaW5nLCB2YWx1ZTogSVR5cGVbXCJ2YWx1ZVwiXSk6IHZvaWQge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJwZXJjZW50XCI6XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnBlcmNlbnQgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInBvaW50XCI6XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnBvaW50ID0gQm9vbGVhbih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYW5pbWF0aW9uXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmFuaW1hdGlvbiA9IEJvb2xlYW4odmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInBvaW50U2l6ZVwiOlxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5wb2ludFNpemUgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImFuaW1hdGlvblN0ZXBcIjpcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uU3RlcCA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic3Ryb2tlR3JhZGllbnRcIjpcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuc3Ryb2tlR3JhZGllbnQgPSB2YWx1ZSBhcyBhbnk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiaWNvblwiOlxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5pY29uID0gU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnRleHQgPSBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInRleHRSZXBsYWNlc1BlcmNlbnRhZ2VcIjpcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMudGV4dFJlcGxhY2VzUGVyY2VudGFnZSA9IEJvb2xlYW4odmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImZvcmVncm91bmRDaXJjbGVXaWR0aFwiOlxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5mb3JlZ3JvdW5kQ2lyY2xlV2lkdGggPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImJhY2tncm91bmRDaXJjbGVXaWR0aFwiOlxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kQ2lyY2xlV2lkdGggPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImFkZGl0aW9uYWxDc3NDbGFzc2VzXCI6XG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmFkZGl0aW9uYWxDc3NDbGFzc2VzID0gdmFsdWUgYXMgYW55O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInByb2dyZXNzQ29sb3JzXCI6XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ2YWx1ZVwiLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnByb2dyZXNzQ29sb3JzID0gdmFsdWUgYXMgYW55O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEdldCBwcm9wZXJ0eSBmcm9tIG9iamVjdFxuICAgICAqIEBwYXJhbSB0eXBlXG4gICAgICovXG4gICAgcHVibGljIGdldCh0eXBlOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdEhlbHBlci5leHRyYWN0UHJvcGVydHlGcm9tT2JqZWN0KHRoaXMub3B0aW9ucywgdHlwZSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtJQXZhaWxhYmxlT3B0aW9uc30gZnJvbSBcIi4uL2ludGVyZmFjZS9pYXZhaWxhYmxlLW9wdGlvbnNcIjtcbmltcG9ydCB7SVNpemV9IGZyb20gXCIuLi9pbnRlcmZhY2UvaXNpemVcIjtcbmltcG9ydCB7SVRhZ30gZnJvbSBcIi4uL2ludGVyZmFjZS9pdGFnXCI7XG5pbXBvcnQge0lWaWV3Qm94QXR0cmlidXRlc30gZnJvbSBcIi4uL2ludGVyZmFjZS9pdmlldy1ib3gtYXR0cmlidXRlc1wiO1xuaW1wb3J0IFN2Z1RhZ3MgZnJvbSBcIi4vc3ZnLXRhZ3NcIjtcblxuLyoqXG4gKiBCYXNlIGZvciBjaXJjbGUgdHlwZSBpbXBsZW1lbnRhdGlvbnNcbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2VDaXJjbGUge1xuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBPcHRpb25zIG9iamVjdCBzZWNvbmQgYXJndW1lbnQgZm9yIGluaXRDaXJjbGUgbWV0aG9kXG4gICAgICovXG4gICAgcHVibGljIG9wdGlvbnM6IElBdmFpbGFibGVPcHRpb25zO1xuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBTaXplIG9mIHN1cnJvdW5kaW5nIHRhZyBmb3Igc3ZnIHRhZ1xuICAgICAqL1xuICAgIHB1YmxpYyBzaXplOiBJU2l6ZTtcbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gQXJyYXkgb2YgYWxsIHRhZ3MgdGhhdCBuZWVkcyB0byBiZSBhcHBlbmRlZCB0byB0aGUgZG9tXG4gICAgICovXG4gICAgcHVibGljIHRhZ3M6IElUYWdbXSA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEZpcmVzIHNjcm9sbCBldmVudCBpZiBhbmltYXRlSW5WaWV3IGlzIHNldCB0byB0cnVlIGFuZCBydW5zIGNoZWNrQW5pbWF0aW9uXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFuaW1hdGVJblZpZXcoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0ZUluVmlldykge1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tBbmltYXRpb24odGhpcy5vcHRpb25zLmlkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIFdoZW4gY2lyY2xlIGlzIGluIHZpZXcgcG9ydCBpdCBhbmltYXRlcyB0aGUgZm9yZWdyb3VuZCBjaXJjbGVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgY2hlY2tBbmltYXRpb24oc3ZnUGFyZW50SWQ6IHN0cmluZykge1xuICAgICAgICBjb25zdCBjaXJjbGVDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdmdQYXJlbnRJZCk7XG4gICAgICAgIGNvbnN0IGZvcmVncm91bmRDaXJjbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYXJjLSR7c3ZnUGFyZW50SWR9YCk7XG4gICAgICAgIGNvbnN0IGluVmlldyA9IHRoaXMuaXNFbGVtZW50SW5WaWV3cG9ydChjaXJjbGVDb250YWluZXIpO1xuXG4gICAgICAgIGlmICghY2lyY2xlQ29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucyhcInJlYW5pbWF0ZWRcIikgJiYgaW5WaWV3KSB7XG4gICAgICAgICAgICBjaXJjbGVDb250YWluZXIuY2xhc3NMaXN0LmFkZChcInJlYW5pbWF0ZWRcIik7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuYW5pbWF0ZShmb3JlZ3JvdW5kQ2lyY2xlIGFzIEVsZW1lbnQpLCAyNTApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIENhbGN1bGF0ZXMgaWYgdGhlIGNpcmNsZSBpcyBpbiB2aWV3cG9ydFxuICAgICAqIEBwYXJhbSBjaXJjbGVDb250YWluZXJcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgaXNFbGVtZW50SW5WaWV3cG9ydChjaXJjbGVDb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IG9mZnNldFRvcCA9IGNpcmNsZUNvbnRhaW5lci5vZmZzZXRUb3A7XG4gICAgICAgIGNvbnN0IHNjcm9sbFBvc2l0aW9uVG9wID0gd2luZG93LnNjcm9sbFk7XG4gICAgICAgIGNvbnN0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcblxuICAgICAgICByZXR1cm4gc2Nyb2xsUG9zaXRpb25Ub3AgPCBvZmZzZXRUb3AgJiYgIHNjcm9sbFBvc2l0aW9uVG9wICsgd2luZG93SGVpZ2h0ID4gb2Zmc2V0VG9wO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBHZXRzIGNhbGxlZCBpbiB0aGUgY2lyY2xlIGNsYXNzIHRvIGRyYXcgdGhlIGNpcmNsZSB3aXRoIGFsbCBpdHMgY2hpbGQgZWxlbWVudHMsIHRoZSBtZXRob2RzXG4gICAgICogZHJhd0NvbnRhaW5lciBhbmQgYXBwZW5kIG11c3QgYmUgYWx3YXlzIGNhbGxlZCBpbiBvd24gaW1wbGVtZW50YXRpb25zIGlmIHlvdSBkb250IGltcGxlbWVudCBvd24gbG9naWMgZm9yIHRoZW1cbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgZHJhd0NpcmNsZSgpOiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQHBhcmFtIGVsZW1lbnRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgYW5pbWF0ZShlbGVtZW50OiBFbGVtZW50KTogdm9pZDtcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEcmF3cyB0aGUgc3ZnIHRhZ1xuICAgICAqIEBwYXJhbSBhZGRpdGlvbmFsQXR0cmlidXRlc1xuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3Q29udGFpbmVyKGFkZGl0aW9uYWxBdHRyaWJ1dGVzPzogb2JqZWN0KSB7Y29uc29sZS5sb2coYWRkaXRpb25hbEF0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qge21pblgsIG1pblksIHdpZHRoLCBoZWlnaHR9ID0gdGhpcy5nZXRWaWV3Qm94UGFyYW1zKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IFN2Z1RhZ3MuYWRkU3ZnKHtcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICB2aWV3Qm94OiBgJHttaW5YfSAke21pbll9ICR7d2lkdGh9ICR7aGVpZ2h0fWAsXG4gICAgICAgICAgICBpZDogYHN2Zy0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICAgICAgcHJlc2VydmVBc3BlY3RSYXRpbzogXCJ4TWluWU1pbiBtZWV0XCIsXG4gICAgICAgICAgICAuLi5hZGRpdGlvbmFsQXR0cmlidXRlcyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGNvbnRhaW5lcixcbiAgICAgICAgICAgIHBhcmVudElkOiB0aGlzLm9wdGlvbnMuaWQsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBHZXQgdmlld0JveCBwYXJhbWV0ZXJzLCByZXNpemUgdGhlIHZpZXcgaWYgdGhlIGJvcmRlciB3b3VsZCBvdmVyZmxvd1xuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0Vmlld0JveFBhcmFtcygpOiBJVmlld0JveEF0dHJpYnV0ZXMge1xuICAgICAgICBjb25zdCB7Zm9yZWdyb3VuZENpcmNsZVdpZHRoLCBiYWNrZ3JvdW5kQ2lyY2xlV2lkdGh9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBsZXQgY2lyY2xlV2lkdGggPSBiYWNrZ3JvdW5kQ2lyY2xlV2lkdGg7XG4gICAgICAgIC8vIEdldCB0aGlja2VyIGNpcmNsZSBzdHJva2Ugd2lkdGgsIGZvcmVncm91bmQgb3IgYmFja2dyb3VuZFxuICAgICAgICBpZiAoZm9yZWdyb3VuZENpcmNsZVdpZHRoID4gYmFja2dyb3VuZENpcmNsZVdpZHRoKSB7XG4gICAgICAgICAgICBjaXJjbGVXaWR0aCA9IGZvcmVncm91bmRDaXJjbGVXaWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1pblggPSAwO1xuICAgICAgICBjb25zdCBtaW5ZID0gMDtcbiAgICAgICAgbGV0IHdpZHRoID0gdGhpcy5zaXplLndpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gdGhpcy5zaXplLmhlaWdodDtcbiAgICAgICAgaWYgKGZvcmVncm91bmRDaXJjbGVXaWR0aCA+IDUgfHwgYmFja2dyb3VuZENpcmNsZVdpZHRoID4gNSkge1xuICAgICAgICAgICAgd2lkdGggPSB0aGlzLnNpemUud2lkdGggKyAoMS41ICogY2lyY2xlV2lkdGgpO1xuICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5zaXplLmhlaWdodCArICgxLjUgKiBjaXJjbGVXaWR0aCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge21pblgsIG1pblksIHdpZHRoLCBoZWlnaHR9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBBcHBlbmRzIHRoZSB0YWdzIHRvIHRoZSBkb21cbiAgICAgKi9cbiAgICBwdWJsaWMgYXBwZW5kKCkge1xuICAgICAgICB0aGlzLnRhZ3MuZm9yRWFjaCgodGFnKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YWcucGFyZW50SWQpO1xuICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHRhZy5lbGVtZW50IGFzIE5vZGUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gSW5pdGlhbGl6ZSBiYXNpYyB2YWx1ZXMgZm9yIGNpcmNsZVxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIHNpemVcbiAgICAgKi9cbiAgICBwdWJsaWMgaW5pdGlhbGl6ZShvcHRpb25zOiBJQXZhaWxhYmxlT3B0aW9ucywgc2l6ZTogSVNpemUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgSGFsZkNpcmNsZSBmcm9tIFwiLi4vY2lyY2xlLXR5cGUvaGFsZi1jaXJjbGVcIjtcbmltcG9ydCBQbGFpbkNpcmNsZSBmcm9tIFwiLi4vY2lyY2xlLXR5cGUvcGxhaW4tY2lyY2xlXCI7XG5pbXBvcnQgU2ltcGxlQ2lyY2xlIGZyb20gXCIuLi9jaXJjbGUtdHlwZS9zaW1wbGUtY2lyY2xlXCI7XG5pbXBvcnQge0Jhc2VDaXJjbGV9IGZyb20gXCIuL2Jhc2UtY2lyY2xlXCI7XG5cbmV4cG9ydCBjbGFzcyBDaXJjbGVGYWN0b3J5IHtcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh0eXBlOiBzdHJpbmcpOiBCYXNlQ2lyY2xlIHtcbiAgICAgICAgbGV0IGNpcmNsZUNsYXNzOiBCYXNlQ2lyY2xlO1xuICAgICAgICBzd2l0Y2ggKHR5cGUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgY2FzZSBcImhhbGZcIjpcbiAgICAgICAgICAgICAgICBjaXJjbGVDbGFzcyA9IG5ldyBIYWxmQ2lyY2xlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicGxhaW5cIjpcbiAgICAgICAgICAgICAgICBjaXJjbGVDbGFzcyA9IG5ldyBQbGFpbkNpcmNsZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInNpbXBsZVwiOlxuICAgICAgICAgICAgICAgIGNpcmNsZUNsYXNzID0gbmV3IFNpbXBsZUNpcmNsZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjaXJjbGVDbGFzcyA9IG5ldyBTaW1wbGVDaXJjbGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaXJjbGVDbGFzcztcbiAgICB9XG59XG4iLCJpbXBvcnQge0FwaX0gZnJvbSBcIi4uL2FwaVwiO1xuaW1wb3J0IHtJQXZhaWxhYmxlT3B0aW9uc30gZnJvbSBcIi4uL2ludGVyZmFjZS9pYXZhaWxhYmxlLW9wdGlvbnNcIjtcbmltcG9ydCB7Q2lyY2xlRmFjdG9yeX0gZnJvbSBcIi4vY2lyY2xlLWZhY3RvcnlcIjtcbmltcG9ydCBPcHRpb25zIGZyb20gXCIuL29wdGlvbnNcIjtcblxuY2xhc3MgQ2lyY2xlIHtcbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gR2V0cyB0aGUgc2l6ZSBvZiB0aGUgcGFyZW50IGVsZW1lbnQsIHdoZXJlIHRoZSBzdmcgZ2V0cyBwbGFjZWQgaW5cbiAgICAgKiBAcGFyYW0gaWRcbiAgICAgKiBAcmV0dXJucyB7e3dpZHRoOiBudW1iZXIsIG1heFNpemU6IG51bWJlciwgaGVpZ2h0OiBudW1iZXJ9fVxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGdldFBhcmVudFNpemUoaWQ6IHN0cmluZykge1xuICAgICAgICBjb25zdCBib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gYm94LmNsaWVudFdpZHRoID4gMCA/IGJveC5jbGllbnRXaWR0aCA6IDIwMDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gYm94LmNsaWVudEhlaWdodCA+IDAgPyBib3guY2xpZW50SGVpZ2h0IDogMjAwO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtYXhTaXplOiB3aWR0aCA+IGhlaWdodCA/IGhlaWdodCA6IHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEluaXRpYWxpemVzIHRoZSBjaXJjbGUgYnkgZ2l2ZW4gdHlwZVxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIGNoZWNrRGF0YUF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGluaXRpYWxpemVDaXJjbGVUeXBlKG9wdGlvbnM6IElBdmFpbGFibGVPcHRpb25zLCBjaGVja0RhdGFBdHRyaWJ1dGVzID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IENpcmNsZS5nZXRQYXJlbnRTaXplKG9wdGlvbnMuaWQpO1xuICAgICAgICBjb25zdCBjaXJjbGUgPSBDaXJjbGVGYWN0b3J5LmNyZWF0ZShvcHRpb25zLnR5cGUpO1xuICAgICAgICBjb25zdCBvcHRpb25zTWFuYWdlciA9IG5ldyBPcHRpb25zKCk7XG4gICAgICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSBvcHRpb25zTWFuYWdlci5tZXJnZU9wdGlvbnMob3B0aW9ucywgY2hlY2tEYXRhQXR0cmlidXRlcyk7XG5cbiAgICAgICAgY2lyY2xlLmluaXRpYWxpemUobWVyZ2VkT3B0aW9ucywgc2l6ZSk7XG4gICAgICAgIGNpcmNsZS5kcmF3Q2lyY2xlKCk7XG5cbiAgICAgICAgcmV0dXJuIGNpcmNsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlcyBhIG5ldyBjaXJjbGVcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIHB1YmxpYyBuZXdDaXJjbGUob3B0aW9uczogSUF2YWlsYWJsZU9wdGlvbnMpOiBBcGkge1xuICAgICAgICBDaXJjbGUuaW5pdGlhbGl6ZUNpcmNsZVR5cGUob3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBcGkob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIENyZWF0ZXMgYSBuZXcgY2lyY2xlIHdpdGggYXR0cmlidXRlcyBzZXQgYXMgZGF0YSBhdHRyaWJ1dGVzIG9uIHRhZ1xuICAgICAqIEBwYXJhbSBwYXJlbnRJZFxuICAgICAqIEBwYXJhbSB0eXBlXG4gICAgICovXG4gICAgcHVibGljIG5ld0NpcmNsZVdpdGhEYXRhU2V0KHBhcmVudElkOiBzdHJpbmcsIHR5cGU6IHN0cmluZyk6IEFwaSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnM6IElBdmFpbGFibGVPcHRpb25zID0ge1xuICAgICAgICAgICAgaWQ6IHBhcmVudElkLFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIHBlcmNlbnQ6IDEsXG4gICAgICAgIH07XG5cbiAgICAgICAgQ2lyY2xlLmluaXRpYWxpemVDaXJjbGVUeXBlKG9wdGlvbnMsIHRydWUpO1xuXG4gICAgICAgIHJldHVybiBuZXcgQXBpKG9wdGlvbnMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2lyY2xlO1xuIiwiaW1wb3J0IHtJQXZhaWxhYmxlT3B0aW9uc30gZnJvbSBcIi4uL2ludGVyZmFjZS9pYXZhaWxhYmxlLW9wdGlvbnNcIjtcblxuY2xhc3MgT3B0aW9ucyB7XG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIERlZmF1bHQgb3B0aW9ucyBpZiBvcHRpb24gaXMgbm90IHNldCBvbiBpbml0aWFsaXNhdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyBkZWZhdWx0T3B0aW9uczogSUF2YWlsYWJsZU9wdGlvbnMgPSB7XG4gICAgICAgIHBvaW50OiBmYWxzZSxcbiAgICAgICAgcG9pbnRTaXplOiA2MCxcbiAgICAgICAgcGVyY2VudDogNzUsXG4gICAgICAgIGZvcmVncm91bmRDaXJjbGVXaWR0aDogNSxcbiAgICAgICAgYmFja2dyb3VuZENpcmNsZVdpZHRoOiAxNSxcbiAgICAgICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgICAgICBhbmltYXRpb25TdGVwOiAxLFxuICAgICAgICBub1BlcmNlbnRhZ2VTaWduOiBmYWxzZSxcbiAgICAgICAgYW5pbWF0ZUluVmlldzogZmFsc2UsXG4gICAgICAgIHN0cm9rZUxpbmVjYXA6IFwiYnV0dFwiLFxuICAgICAgICB0eXBlOiBcIlNpbXBsZUNpcmNsZVwiLFxuICAgICAgICB0ZXh0UmVwbGFjZXNQZXJjZW50YWdlOiBmYWxzZSxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEdldCBkYXRhIGF0dHJpYnV0ZXMgZnJvbSB0YWdcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGdldERhdGFBdHRyaWJ1dGVzKG9wdGlvbnM6IElBdmFpbGFibGVPcHRpb25zKTogSUF2YWlsYWJsZU9wdGlvbnMge1xuICAgICAgICBjb25zdCBjaXJjbGVDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChvcHRpb25zLmlkKTtcbiAgICAgICAgY29uc3QgZGF0YU9wdGlvbnM6IElBdmFpbGFibGVPcHRpb25zID0ge3BlcmNlbnQ6IG9wdGlvbnMucGVyY2VudH07XG5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY2lyY2xlQ29udGFpbmVyLmRhdGFzZXQpIHtcbiAgICAgICAgICAgIGlmIChjaXJjbGVDb250YWluZXIuZGF0YXNldC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjaXJjbGVDb250YWluZXIuZGF0YXNldFtrZXldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImZhbHNlXCIgfHwgdmFsdWUgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFPcHRpb25zW2tleV0gPSB2YWx1ZSA9PT0gXCJ0cnVlXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFPcHRpb25zW2tleV0gPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFPcHRpb25zW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGF0YU9wdGlvbnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIE1lcmdlIGRlZmF1bHQgb3B0aW9ucyBhbmQgY3VzdG9tIG9wdGlvbiBvbiBpbml0aWFsaXNhdGlvblxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIGNoZWNrRGF0YUF0dHJpYnV0ZXNcbiAgICAgKiBAcmV0dXJucyBPcHRpb25zWydkZWZhdWx0T3B0aW9ucyddXG4gICAgICovXG4gICAgcHVibGljIG1lcmdlT3B0aW9ucyhvcHRpb25zOiBJQXZhaWxhYmxlT3B0aW9ucywgY2hlY2tEYXRhQXR0cmlidXRlcyA9IGZhbHNlKSB7XG4gICAgICAgIGxldCBtZXJnZWRPcHRpb25zID0gey4uLnRoaXMuZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnN9O1xuICAgICAgICBpZiAoY2hlY2tEYXRhQXR0cmlidXRlcykge1xuICAgICAgICAgICAgY29uc3QgZGF0YU9wdGlvbnMgPSBPcHRpb25zLmdldERhdGFBdHRyaWJ1dGVzKG9wdGlvbnMpO1xuICAgICAgICAgICAgbWVyZ2VkT3B0aW9ucyA9IHsuLi5tZXJnZWRPcHRpb25zLCAuLi5kYXRhT3B0aW9uc307XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWVyZ2VkT3B0aW9ucztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9wdGlvbnM7XG4iLCJpbXBvcnQgT2JqZWN0SGVscGVyIGZyb20gXCIuLi9oZWxwZXIvb2JqZWN0LWhlbHBlclwiO1xuaW1wb3J0IFN2Z1RhZ3NIZWxwZXIgZnJvbSBcIi4uL2hlbHBlci9zdmctdGFncy1oZWxwZXJcIjtcbmltcG9ydCB7SUF0dHJpYnV0ZXN9IGZyb20gXCIuLi9pbnRlcmZhY2UvaWF0dHJpYnV0ZXNcIjtcbmltcG9ydCB7SURpY3Rpb25hcnl9IGZyb20gXCIuLi9pbnRlcmZhY2UvaWRpY3Rpb25hcnlcIjtcblxuY2xhc3MgU3ZnVGFncyB7XG4gICAgcHVibGljIHN0YXRpYyBuYW1lc3BhY2VVUkkgPSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gQWRkcyBhIHN2ZyB0YWcgd2l0aCBhdHRyaWJ1dGVzXG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZXNcbiAgICAgKiBAcmV0dXJucyBTVkdFbGVtZW50XG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBhZGRTdmcoYXR0cmlidXRlczogSUF0dHJpYnV0ZXMpOiBFbGVtZW50IHtcbiAgICAgICAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFN2Z1RhZ3MubmFtZXNwYWNlVVJJLCBcInN2Z1wiKTtcbiAgICAgICAgYXR0cmlidXRlcy5jbGFzcyA9IFwiY2lyY2xlLWNvbnRhaW5lciBcIiArIE9iamVjdEhlbHBlci5leHRyYWN0UHJvcGVydHlGcm9tT2JqZWN0KFxuICAgICAgICAgICAgYXR0cmlidXRlcyBhcyBJRGljdGlvbmFyeSxcbiAgICAgICAgICAgIFwiY2xhc3NcIixcbiAgICAgICAgKTtcblxuICAgICAgICBTdmdUYWdzSGVscGVyLnNldEF0dHJpYnV0ZXMoc3ZnIGFzIFNWR0VsZW1lbnQsIGF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIHJldHVybiBzdmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEFkZHMgYSBjaXJjbGUgdGFnIHdpdGggYXR0cmlidXRlc1xuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVzXG4gICAgICogQHJldHVybnMgU1ZHQ2lyY2xlRWxlbWVudFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgYWRkQ2lyY2xlKGF0dHJpYnV0ZXM6IElBdHRyaWJ1dGVzKTogRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGNpcmNsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTdmdUYWdzLm5hbWVzcGFjZVVSSSwgXCJjaXJjbGVcIik7XG4gICAgICAgIFN2Z1RhZ3NIZWxwZXIuc2V0QXR0cmlidXRlcyhjaXJjbGUgYXMgU1ZHRWxlbWVudCwgYXR0cmlidXRlcyk7XG5cbiAgICAgICAgcmV0dXJuIGNpcmNsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gQWRkcyBhIHBhdGggdGFnIHdpdGggYXR0cmlidXRlc1xuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVzXG4gICAgICogQHJldHVybnMgU1ZHUGF0aEVsZW1lbnRcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGFkZEFyYyhhdHRyaWJ1dGVzOiBJQXR0cmlidXRlcyk6IEVsZW1lbnQge1xuICAgICAgICBjb25zdCBhcmMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU3ZnVGFncy5uYW1lc3BhY2VVUkksIFwicGF0aFwiKTtcbiAgICAgICAgU3ZnVGFnc0hlbHBlci5zZXRBdHRyaWJ1dGVzKGFyYyBhcyBTVkdFbGVtZW50LCBhdHRyaWJ1dGVzKTtcblxuICAgICAgICByZXR1cm4gYXJjO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBBZGRzIGEgdGV4dCB0YWcgd2l0aCBhdHRyaWJ1dGVzXG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZXNcbiAgICAgKiBAcmV0dXJucyBTVkdUZXh0RWxlbWVudFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgYWRkVGV4dChhdHRyaWJ1dGVzOiBJQXR0cmlidXRlcyk6IEVsZW1lbnQge1xuICAgICAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFN2Z1RhZ3MubmFtZXNwYWNlVVJJLCBcInRleHRcIik7XG4gICAgICAgIHRleHQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKTtcbiAgICAgICAgU3ZnVGFnc0hlbHBlci5zZXRBdHRyaWJ1dGVzKHRleHQgYXMgU1ZHRWxlbWVudCwgYXR0cmlidXRlcyk7XG5cbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEFkZHMgZGVmcyB0YWcgdG8gc3ZnIHRvIGRyYXcgYSBncmFkaWVudFxuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVzXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBhZGREZWZzKGF0dHJpYnV0ZXM6IElBdHRyaWJ1dGVzKTogRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGRlZnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU3ZnVGFncy5uYW1lc3BhY2VVUkksIFwiZGVmc1wiKTtcbiAgICAgICAgY29uc3QgbGluZWFyR3JhZGllbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU3ZnVGFncy5uYW1lc3BhY2VVUkksIFwibGluZWFyR3JhZGllbnRcIik7XG4gICAgICAgIGNvbnN0IGxpbmVhckdyYWRpZW50QXR0cmlidXRlcyA9IHtcbiAgICAgICAgICAgIGlkOiBcImxpbmVhckdyYWRpZW50XCIsXG4gICAgICAgIH07XG4gICAgICAgIFN2Z1RhZ3NIZWxwZXIuc2V0QXR0cmlidXRlcyhsaW5lYXJHcmFkaWVudCBhcyBTVkdFbGVtZW50LCBsaW5lYXJHcmFkaWVudEF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIGNvbnN0IGZpcnN0U3RvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTdmdUYWdzLm5hbWVzcGFjZVVSSSwgXCJzdG9wXCIpO1xuICAgICAgICBjb25zdCBmaXJzdFN0b3BBdHRyaWJ1dGVzID0ge1xuICAgICAgICAgICAgXCJvZmZzZXRcIjogXCIwXCIsXG4gICAgICAgICAgICBcInN0b3AtY29sb3JcIjogYXR0cmlidXRlcy5ncmFkaWVudFN0YXJ0LFxuICAgICAgICB9O1xuICAgICAgICBTdmdUYWdzSGVscGVyLnNldEF0dHJpYnV0ZXMoZmlyc3RTdG9wIGFzIFNWR0VsZW1lbnQsIGZpcnN0U3RvcEF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIGNvbnN0IHNlY29uZFN0b3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU3ZnVGFncy5uYW1lc3BhY2VVUkksIFwic3RvcFwiKTtcbiAgICAgICAgY29uc3Qgc2Vjb25kU3RvcEF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgICBcIm9mZnNldFwiOiBcIjFcIixcbiAgICAgICAgICAgIFwic3RvcC1jb2xvclwiOiBhdHRyaWJ1dGVzLmdyYWRpZW50RW5kLFxuICAgICAgICB9O1xuICAgICAgICBTdmdUYWdzSGVscGVyLnNldEF0dHJpYnV0ZXMoc2Vjb25kU3RvcCBhcyBTVkdFbGVtZW50LCBzZWNvbmRTdG9wQXR0cmlidXRlcyk7XG5cbiAgICAgICAgbGluZWFyR3JhZGllbnQuYXBwZW5kQ2hpbGQoZmlyc3RTdG9wKTtcbiAgICAgICAgbGluZWFyR3JhZGllbnQuYXBwZW5kQ2hpbGQoc2Vjb25kU3RvcCk7XG4gICAgICAgIGRlZnMuYXBwZW5kQ2hpbGQobGluZWFyR3JhZGllbnQpO1xuXG4gICAgICAgIHJldHVybiBkZWZzO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3ZnVGFncztcbiIsImltcG9ydCBTdmdUYWdzIGZyb20gXCIuLi9iYXNlLWNsYXNzL3N2Zy10YWdzXCI7XG5pbXBvcnQgT2JqZWN0SGVscGVyIGZyb20gXCIuLi9oZWxwZXIvb2JqZWN0LWhlbHBlclwiO1xuaW1wb3J0IHtTdHlsZUhlbHBlcn0gZnJvbSBcIi4uL2hlbHBlci9zdHlsZS1oZWxwZXJcIjtcbmltcG9ydCBTdmdUYWdzSGVscGVyIGZyb20gXCIuLi9oZWxwZXIvc3ZnLXRhZ3MtaGVscGVyXCI7XG5pbXBvcnQgU2ltcGxlQ2lyY2xlIGZyb20gXCIuL3NpbXBsZS1jaXJjbGVcIjtcblxuLyoqXG4gKiBFdmVyeSBjaXJjbGUgZ2V0cyBkeW5hbWljYWxseSBjYWxsZWQgYnkgdGhlIGdpdmVuIHR5cGUgaW4gdGhlIG9wdGlvbnMgb2JqZWN0IGV4YW1wbGU6IHsgdHlwZTogJ0hhbGZDaXJjbGUnIH1cbiAqL1xuY2xhc3MgSGFsZkNpcmNsZSBleHRlbmRzIFNpbXBsZUNpcmNsZSB7XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd0NpcmNsZSgpIHtcbiAgICAgICAgY29uc3QgYWRkaXRpb25hbENvbnRhaW5lckF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgICBjbGFzczogT2JqZWN0SGVscGVyLmV4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QodGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcywgXCJzdmdDb250YWluZXJcIiksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZHJhd0NvbnRhaW5lcihhZGRpdGlvbmFsQ29udGFpbmVyQXR0cmlidXRlcyk7XG4gICAgICAgIHRoaXMuZHJhd0JhY2tncm91bmRDaXJjbGUoKTtcbiAgICAgICAgdGhpcy5kcmF3Rm9yZWdyb3VuZENpcmNsZSgpO1xuICAgICAgICB0aGlzLmRyYXdUZXh0KCk7XG4gICAgICAgIHRoaXMuYXBwZW5kKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIERyYXdzIHRoZSBiYWNrZ3JvdW5kIGNpcmNsZVxuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3QmFja2dyb3VuZENpcmNsZSgpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRBbmdsZSA9IDI3MDtcbiAgICAgICAgY29uc3QgZW5kQW5nbGUgPSA5MDtcbiAgICAgICAgY29uc3QgY3VzdG9tQ3NzQ2xhc3MgPSBPYmplY3RIZWxwZXIuZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChcbiAgICAgICAgICAgIHRoaXMuYWRkaXRpb25hbENzc0NsYXNzZXMsXG4gICAgICAgICAgICBcImJhY2tncm91bmRDaXJjbGVcIixcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgYXJjID0gU3ZnVGFncy5hZGRBcmMoe1xuICAgICAgICAgICAgXCJpZFwiOiBgYmctYXJjLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgICAgICBcImRcIjogU3ZnVGFnc0hlbHBlci5kZXNjcmliZUFyYyh0aGlzLmNvb3JkaW5hdGVzLngsIHRoaXMuY29vcmRpbmF0ZXMueSwgdGhpcy5yYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlKSxcbiAgICAgICAgICAgIFwiY2xhc3NcIjogYGJhY2tncm91bmQtY2lyY2xlICR7Y3VzdG9tQ3NzQ2xhc3N9YCxcbiAgICAgICAgICAgIFwic3Ryb2tlLXdpZHRoXCI6IHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kQ2lyY2xlV2lkdGgsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGFyYyxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEcmF3cyB0aGUgZm9yZWdyb3VuZCBjaXJjbGUgYnkgZ2l2ZW4gcGVyY2VudGFnZSB3aXRoIG9wdGlvbmFsIGFuaW1hdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3Rm9yZWdyb3VuZENpcmNsZSgpIHtcbiAgICAgICAgY29uc3QgZW5kQW5nbGUgPSAxODAgLyAxMDAgKiB0aGlzLm9wdGlvbnMucGVyY2VudDtcbiAgICAgICAgY29uc3QgY3VzdG9tQ3NzQ2xhc3MgPSBPYmplY3RIZWxwZXIuZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChcbiAgICAgICAgICAgIHRoaXMuYWRkaXRpb25hbENzc0NsYXNzZXMsXG4gICAgICAgICAgICBcImZvcmVncm91bmRDaXJjbGVcIixcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgYXJjID0gU3ZnVGFncy5hZGRBcmMoe1xuICAgICAgICAgICAgXCJpZFwiOiBgYXJjLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgICAgICBcImNsYXNzXCI6IGBmb3JlZ3JvdW5kLWNpcmNsZSAke2N1c3RvbUNzc0NsYXNzfWAsXG4gICAgICAgICAgICBcImRcIjogU3ZnVGFnc0hlbHBlci5kZXNjcmliZUFyYyh0aGlzLmNvb3JkaW5hdGVzLngsIHRoaXMuY29vcmRpbmF0ZXMueSwgdGhpcy5yYWRpdXMsIDAsIGVuZEFuZ2xlKSxcbiAgICAgICAgICAgIFwidHJhbnNmb3JtXCI6IGByb3RhdGUoLTkwLCAke3RoaXMuY29vcmRpbmF0ZXMueH0sICR7dGhpcy5jb29yZGluYXRlcy55fSlgLFxuICAgICAgICAgICAgXCJzdHJva2Utd2lkdGhcIjogdGhpcy5vcHRpb25zLmZvcmVncm91bmRDaXJjbGVXaWR0aCxcbiAgICAgICAgICAgIFwic3Ryb2tlLWxpbmVjYXBcIjogdGhpcy5vcHRpb25zLnN0cm9rZUxpbmVjYXAsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGUoYXJjKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGFyYyxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBBbmltYXRlcyBjaXJjbGUgY291bnRlciBjbG9jayB3aXNlXG4gICAgICogQHBhcmFtIGFyY1xuICAgICAqL1xuICAgIHB1YmxpYyBhbmltYXRlKGFyYzogRWxlbWVudCkge1xuICAgICAgICBTdHlsZUhlbHBlci5hbmltYXRlQXJjKHtcbiAgICAgICAgICAgIGFyYyxcbiAgICAgICAgICAgIGFyY1BhcmFtczoge1xuICAgICAgICAgICAgICAgIHBlcmNlbnQ6IHRoaXMub3B0aW9ucy5wZXJjZW50LFxuICAgICAgICAgICAgICAgIHg6IHRoaXMuY29vcmRpbmF0ZXMueCxcbiAgICAgICAgICAgICAgICB5OiB0aGlzLmNvb3JkaW5hdGVzLnksXG4gICAgICAgICAgICAgICAgcmFkaXVzOiB0aGlzLnJhZGl1cyxcbiAgICAgICAgICAgICAgICBlbmRBbmdsZUdyYWRlOiAxODAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYW5pbWF0aW9uU3RlcDogdGhpcy5vcHRpb25zLmFuaW1hdGlvblN0ZXAsXG4gICAgICAgICAgICBwcm9ncmVzc0NvbG9yczogdGhpcy5vcHRpb25zLnByb2dyZXNzQ29sb3JzLFxuICAgICAgICB9LCB0aGlzLm9wdGlvbnMub25BbmltYXRpb25FbmQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSGFsZkNpcmNsZTtcbiIsImltcG9ydCB7QmFzZUNpcmNsZX0gZnJvbSBcIi4uL2Jhc2UtY2xhc3MvYmFzZS1jaXJjbGVcIjtcbmltcG9ydCBTdmdUYWdzIGZyb20gXCIuLi9iYXNlLWNsYXNzL3N2Zy10YWdzXCI7XG5pbXBvcnQgT2JqZWN0SGVscGVyIGZyb20gXCIuLi9oZWxwZXIvb2JqZWN0LWhlbHBlclwiO1xuaW1wb3J0IHtTdHlsZUhlbHBlcn0gZnJvbSBcIi4uL2hlbHBlci9zdHlsZS1oZWxwZXJcIjtcbmltcG9ydCBTdmdUYWdzSGVscGVyIGZyb20gXCIuLi9oZWxwZXIvc3ZnLXRhZ3MtaGVscGVyXCI7XG5pbXBvcnQge0lBdmFpbGFibGVPcHRpb25zfSBmcm9tIFwiLi4vaW50ZXJmYWNlL2lhdmFpbGFibGUtb3B0aW9uc1wiO1xuaW1wb3J0IHtJU2l6ZX0gZnJvbSBcIi4uL2ludGVyZmFjZS9pc2l6ZVwiO1xuXG4vKipcbiAqIEV2ZXJ5IGNpcmNsZSBnZXRzIGR5bmFtaWNhbGx5IGNhbGxlZCBieSB0aGUgZ2l2ZW4gdHlwZSBpbiB0aGUgb3B0aW9ucyBvYmplY3QgZXhhbXBsZTogeyB0eXBlOiAnUGxhaW5DaXJjbGUnIH1cbiAqL1xuY2xhc3MgUGxhaW5DaXJjbGUgZXh0ZW5kcyBCYXNlQ2lyY2xlIHtcbiAgICBwcml2YXRlIGNvb3JkaW5hdGVzID0ge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwLFxuICAgIH07XG4gICAgcHJvdGVjdGVkIHJhZGl1czogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBhZGRpdGlvbmFsQ3NzQ2xhc3NlczogSUF2YWlsYWJsZU9wdGlvbnNbXCJhZGRpdGlvbmFsQ3NzQ2xhc3Nlc1wiXSA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBwdWJsaWMgaW5pdGlhbGl6ZShvcHRpb25zOiBJQXZhaWxhYmxlT3B0aW9ucywgc2l6ZTogSVNpemUpIHtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZShvcHRpb25zLCBzaXplKTtcblxuICAgICAgICBjb25zdCBtYXhTaXplID0gdGhpcy5zaXplLm1heFNpemU7XG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMgPSB7XG4gICAgICAgICAgICB4OiBtYXhTaXplIC8gMixcbiAgICAgICAgICAgIHk6IG1heFNpemUgLyAyLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJhZGl1cyA9IG1heFNpemUgLyAyLjI7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hZGRpdGlvbmFsQ3NzQ2xhc3Nlcykge1xuICAgICAgICAgICAgdGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcyA9IHRoaXMub3B0aW9ucy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYW5pbWF0ZUluVmlldygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgcHVibGljIGRyYXdDaXJjbGUoKSB7XG4gICAgICAgIHRoaXMuZHJhd0NvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLmRyYXdQbGFpbkNpcmNsZSgpO1xuICAgICAgICB0aGlzLmFwcGVuZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEcmF3cyB0aGUgY2lyY2xlIGJ5IGdpdmVuIHBlcmNlbnRhZ2Ugd2l0aCBvcHRpb25hbCBhbmltYXRpb25cbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd1BsYWluQ2lyY2xlKCkge1xuICAgICAgICBjb25zdCBlbmRBbmdsZSA9IDM2MCAvIDEwMCAqIHRoaXMub3B0aW9ucy5wZXJjZW50O1xuICAgICAgICBjb25zdCBjdXN0b21Dc3NDbGFzcyA9IE9iamVjdEhlbHBlci5leHRyYWN0UHJvcGVydHlGcm9tT2JqZWN0KFxuICAgICAgICAgICAgdGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcyxcbiAgICAgICAgICAgIFwiZm9yZWdyb3VuZENpcmNsZVwiLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBhcmMgPSBTdmdUYWdzLmFkZEFyYyh7XG4gICAgICAgICAgICBcImlkXCI6IGBhcmMtJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgICAgIFwiY2xhc3NcIjogYGZvcmVncm91bmQtY2lyY2xlICR7Y3VzdG9tQ3NzQ2xhc3N9YCxcbiAgICAgICAgICAgIFwiZFwiOiBTdmdUYWdzSGVscGVyLmRlc2NyaWJlQXJjKHRoaXMuY29vcmRpbmF0ZXMueCwgdGhpcy5jb29yZGluYXRlcy55LCB0aGlzLnJhZGl1cywgMCwgZW5kQW5nbGUpLFxuICAgICAgICAgICAgXCJzdHJva2Utd2lkdGhcIjogdGhpcy5vcHRpb25zLmZvcmVncm91bmRDaXJjbGVXaWR0aCxcbiAgICAgICAgICAgIFwic3Ryb2tlLWxpbmVjYXBcIjogdGhpcy5vcHRpb25zLnN0cm9rZUxpbmVjYXAsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGUoYXJjKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGFyYyxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBBbmltYXRlcyBjaXJjbGUgY291bnRlciBjbG9jayB3aXNlXG4gICAgICogQHBhcmFtIGFyY1xuICAgICAqL1xuICAgIHB1YmxpYyBhbmltYXRlKGFyYzogRWxlbWVudCkge1xuICAgICAgICBTdHlsZUhlbHBlci5hbmltYXRlQXJjKHtcbiAgICAgICAgICAgIGFyYyxcbiAgICAgICAgICAgIGFyY1BhcmFtczoge1xuICAgICAgICAgICAgICAgIHBlcmNlbnQ6IHRoaXMub3B0aW9ucy5wZXJjZW50LFxuICAgICAgICAgICAgICAgIHg6IHRoaXMuY29vcmRpbmF0ZXMueCxcbiAgICAgICAgICAgICAgICB5OiB0aGlzLmNvb3JkaW5hdGVzLnksXG4gICAgICAgICAgICAgICAgcmFkaXVzOiB0aGlzLnJhZGl1cyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbmltYXRpb25TdGVwOiB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uU3RlcCxcbiAgICAgICAgICAgIHByb2dyZXNzQ29sb3JzOiB0aGlzLm9wdGlvbnMucHJvZ3Jlc3NDb2xvcnMsXG4gICAgICAgIH0sIHRoaXMub3B0aW9ucy5vbkFuaW1hdGlvbkVuZCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQbGFpbkNpcmNsZTtcbiIsImltcG9ydCB7QmFzZUNpcmNsZX0gZnJvbSBcIi4uL2Jhc2UtY2xhc3MvYmFzZS1jaXJjbGVcIjtcbmltcG9ydCBTdmdUYWdzIGZyb20gXCIuLi9iYXNlLWNsYXNzL3N2Zy10YWdzXCI7XG5pbXBvcnQgT2JqZWN0SGVscGVyIGZyb20gXCIuLi9oZWxwZXIvb2JqZWN0LWhlbHBlclwiO1xuaW1wb3J0IHtTdHlsZUhlbHBlcn0gZnJvbSBcIi4uL2hlbHBlci9zdHlsZS1oZWxwZXJcIjtcbmltcG9ydCBTdmdUYWdzSGVscGVyIGZyb20gXCIuLi9oZWxwZXIvc3ZnLXRhZ3MtaGVscGVyXCI7XG5pbXBvcnQge0lBdHRyaWJ1dGVzfSBmcm9tIFwiLi4vaW50ZXJmYWNlL2lhdHRyaWJ1dGVzXCI7XG5pbXBvcnQge0lBdmFpbGFibGVPcHRpb25zfSBmcm9tIFwiLi4vaW50ZXJmYWNlL2lhdmFpbGFibGUtb3B0aW9uc1wiO1xuaW1wb3J0IHtJU2l6ZX0gZnJvbSBcIi4uL2ludGVyZmFjZS9pc2l6ZVwiO1xuXG4vKipcbiAqIEV2ZXJ5IGNpcmNsZSBnZXRzIGR5bmFtaWNhbGx5IGNhbGxlZCBieSB0aGUgZ2l2ZW4gdHlwZSBpbiB0aGUgb3B0aW9ucyBvYmplY3RcbiAqIGV4YW1wbGU6IHsgdHlwZTogJ1NpbXBsZUNpcmNsZScgfVxuICovXG5jbGFzcyBTaW1wbGVDaXJjbGUgZXh0ZW5kcyBCYXNlQ2lyY2xlIHtcbiAgICBwcm90ZWN0ZWQgY29vcmRpbmF0ZXMgPSB7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDAsXG4gICAgfTtcbiAgICBwcm90ZWN0ZWQgcmFkaXVzOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIGFkZGl0aW9uYWxDc3NDbGFzc2VzOiBJQXZhaWxhYmxlT3B0aW9uc1tcImFkZGl0aW9uYWxDc3NDbGFzc2VzXCJdID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIHB1YmxpYyBpbml0aWFsaXplKG9wdGlvbnM6IElBdmFpbGFibGVPcHRpb25zLCBzaXplOiBJU2l6ZSkge1xuICAgICAgICBzdXBlci5pbml0aWFsaXplKG9wdGlvbnMsIHNpemUpO1xuXG4gICAgICAgIGNvbnN0IG1heFNpemUgPSB0aGlzLnNpemUubWF4U2l6ZTtcbiAgICAgICAgdGhpcy5jb29yZGluYXRlcyA9IHtcbiAgICAgICAgICAgIHg6IG1heFNpemUgLyAyLFxuICAgICAgICAgICAgeTogbWF4U2l6ZSAvIDIsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmFkaXVzID0gbWF4U2l6ZSAvIDIuMjtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFkZGl0aW9uYWxDc3NDbGFzc2VzKSB7XG4gICAgICAgICAgICB0aGlzLmFkZGl0aW9uYWxDc3NDbGFzc2VzID0gdGhpcy5vcHRpb25zLmFkZGl0aW9uYWxDc3NDbGFzc2VzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hbmltYXRlSW5WaWV3KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd0NpcmNsZSgpIHtcbiAgICAgICAgY29uc3QgYWRkaXRpb25hbENvbnRhaW5lckF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgICBjbGFzczogT2JqZWN0SGVscGVyLmV4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QodGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcywgXCJzdmdDb250YWluZXJcIiksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZHJhd0NvbnRhaW5lcihhZGRpdGlvbmFsQ29udGFpbmVyQXR0cmlidXRlcyk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zdHJva2VHcmFkaWVudCkge1xuICAgICAgICAgICAgdGhpcy5kcmF3TGluZWFyR3JhZGllbnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHJhd0JhY2tncm91bmRDaXJjbGUoKTtcbiAgICAgICAgdGhpcy5kcmF3Rm9yZWdyb3VuZENpcmNsZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucG9pbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd1BvaW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmljb24pIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0ljb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHJhd1RleHQoKTtcblxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy50ZXh0UmVwbGFjZXNQZXJjZW50YWdlICYmIHRoaXMub3B0aW9ucy50ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdJbmZvVGV4dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hcHBlbmQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gRHJhd3MgYmFja2dyb3VuZCBjaXJjbGVcbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd0JhY2tncm91bmRDaXJjbGUoKSB7XG4gICAgICAgIGNvbnN0IGN1c3RvbUNzc0NsYXNzID0gT2JqZWN0SGVscGVyLmV4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QoXG4gICAgICAgICAgICB0aGlzLmFkZGl0aW9uYWxDc3NDbGFzc2VzLFxuICAgICAgICAgICAgXCJiYWNrZ3JvdW5kQ2lyY2xlXCIsXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgY2lyY2xlID0gU3ZnVGFncy5hZGRDaXJjbGUoe1xuICAgICAgICAgICAgXCJpZFwiOiBgY2lyY2xlLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgICAgICBcImNsYXNzXCI6IGBiYWNrZ3JvdW5kLWNpcmNsZSAke2N1c3RvbUNzc0NsYXNzfWAsXG4gICAgICAgICAgICBcImN4XCI6IFN0cmluZyh0aGlzLmNvb3JkaW5hdGVzLngpLFxuICAgICAgICAgICAgXCJjeVwiOiBTdHJpbmcodGhpcy5jb29yZGluYXRlcy55KSxcbiAgICAgICAgICAgIFwiclwiOiBTdHJpbmcodGhpcy5yYWRpdXMpLFxuICAgICAgICAgICAgXCJzdHJva2Utd2lkdGhcIjogdGhpcy5vcHRpb25zLmJhY2tncm91bmRDaXJjbGVXaWR0aCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy50YWdzLnB1c2goe1xuICAgICAgICAgICAgZWxlbWVudDogY2lyY2xlLFxuICAgICAgICAgICAgcGFyZW50SWQ6IGBzdmctJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIERyYXdzIGEgcG9pbnQgaW50byB0aGUgY2lyY2xlLCBiZWhpbmQgdGhlIHRleHRcbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd1BvaW50KCkge1xuICAgICAgICBjb25zdCBwb2ludFNpemUgPSB0aGlzLnJhZGl1cyAvIDEwMCAqIHRoaXMub3B0aW9ucy5wb2ludFNpemU7XG4gICAgICAgIGNvbnN0IGN1c3RvbUNzc0NsYXNzID0gT2JqZWN0SGVscGVyLmV4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QoXG4gICAgICAgICAgICB0aGlzLmFkZGl0aW9uYWxDc3NDbGFzc2VzLFxuICAgICAgICAgICAgXCJwb2ludFwiLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBjaXJjbGUgPSBTdmdUYWdzLmFkZENpcmNsZSh7XG4gICAgICAgICAgICBpZDogYHBvaW50LSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgICAgICBjbGFzczogYHBvaW50LWNpcmNsZSAke2N1c3RvbUNzc0NsYXNzfWAsXG4gICAgICAgICAgICBjeDogU3RyaW5nKHRoaXMuY29vcmRpbmF0ZXMueCksXG4gICAgICAgICAgICBjeTogU3RyaW5nKHRoaXMuY29vcmRpbmF0ZXMueSksXG4gICAgICAgICAgICByOiBTdHJpbmcocG9pbnRTaXplKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy50YWdzLnB1c2goe1xuICAgICAgICAgICAgZWxlbWVudDogY2lyY2xlLFxuICAgICAgICAgICAgcGFyZW50SWQ6IGBzdmctJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIERyYXdzIGZvcmVncm91bmQgY2lyY2xlXG4gICAgICovXG4gICAgcHVibGljIGRyYXdGb3JlZ3JvdW5kQ2lyY2xlKCkge1xuICAgICAgICBjb25zdCBlbmRBbmdsZSA9IDM2MCAvIDEwMCAqIHRoaXMub3B0aW9ucy5wZXJjZW50O1xuICAgICAgICBjb25zdCBjdXN0b21Dc3NDbGFzcyA9IE9iamVjdEhlbHBlci5leHRyYWN0UHJvcGVydHlGcm9tT2JqZWN0KFxuICAgICAgICAgICAgdGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcyxcbiAgICAgICAgICAgIFwiZm9yZWdyb3VuZENpcmNsZVwiLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzOiBJQXR0cmlidXRlcyA9IHtcbiAgICAgICAgICAgIFwiaWRcIjogYGFyYy0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICAgICAgXCJjbGFzc1wiOiBgZm9yZWdyb3VuZC1jaXJjbGUgJHtjdXN0b21Dc3NDbGFzc31gLFxuICAgICAgICAgICAgXCJkXCI6IFN2Z1RhZ3NIZWxwZXIuZGVzY3JpYmVBcmModGhpcy5jb29yZGluYXRlcy54LCB0aGlzLmNvb3JkaW5hdGVzLnksIHRoaXMucmFkaXVzLCAwLCBlbmRBbmdsZSksXG4gICAgICAgICAgICBcInN0cm9rZS13aWR0aFwiOiB0aGlzLm9wdGlvbnMuZm9yZWdyb3VuZENpcmNsZVdpZHRoLFxuICAgICAgICAgICAgXCJzdHJva2UtbGluZWNhcFwiOiB0aGlzLm9wdGlvbnMuc3Ryb2tlTGluZWNhcCxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnN0cm9rZUdyYWRpZW50KSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzLnN0cm9rZSA9IFwidXJsKCNsaW5lYXJHcmFkaWVudClcIjtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMuY2xhc3MgPSBgZm9yZWdyb3VuZC1jaXJjbGUtd2l0aG91dC1zdHJva2UtY29sb3IgJHtjdXN0b21Dc3NDbGFzc31gO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXJjID0gU3ZnVGFncy5hZGRBcmMoYXR0cmlidXRlcyk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGUoYXJjKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGFyYyxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBBbmltYXRlcyBjaXJjbGUgY291bnRlciBjbG9jayB3aXNlXG4gICAgICogQHBhcmFtIGFyY1xuICAgICAqIEBwYXJhbSB1cGRhdGVkUGVyY2VudFxuICAgICAqL1xuICAgIHB1YmxpYyBhbmltYXRlKGFyYzogRWxlbWVudCwgdXBkYXRlZFBlcmNlbnQ/OiBudW1iZXIpIHtcbiAgICAgICAgU3R5bGVIZWxwZXIuYW5pbWF0ZUFyYyh7XG4gICAgICAgICAgICBhcmMsXG4gICAgICAgICAgICBhcmNQYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBwZXJjZW50OiB1cGRhdGVkUGVyY2VudCA/IHVwZGF0ZWRQZXJjZW50IDogdGhpcy5vcHRpb25zLnBlcmNlbnQsXG4gICAgICAgICAgICAgICAgeDogdGhpcy5jb29yZGluYXRlcy54LFxuICAgICAgICAgICAgICAgIHk6IHRoaXMuY29vcmRpbmF0ZXMueSxcbiAgICAgICAgICAgICAgICByYWRpdXM6IHRoaXMucmFkaXVzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFuaW1hdGlvblN0ZXA6IHRoaXMub3B0aW9ucy5hbmltYXRpb25TdGVwLFxuICAgICAgICAgICAgcHJvZ3Jlc3NDb2xvcnM6IHRoaXMub3B0aW9ucy5wcm9ncmVzc0NvbG9ycyxcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLm9uQW5pbWF0aW9uRW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gRHJhd3MgZm9udCBhd2Vzb21lIGljb25cbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd0ljb24oKSB7XG4gICAgICAgIGNvbnN0IGljb24gPSB0aGlzLm9wdGlvbnMuaWNvbjtcbiAgICAgICAgY29uc3QgY3VzdG9tQ3NzQ2xhc3MgPSBPYmplY3RIZWxwZXIuZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChcbiAgICAgICAgICAgIHRoaXMuYWRkaXRpb25hbENzc0NsYXNzZXMsXG4gICAgICAgICAgICBcImljb25cIixcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdGV4dCA9IFN2Z1RhZ3MuYWRkVGV4dCh7XG4gICAgICAgICAgICBpZDogYHRleHQtJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgICAgIHg6IFN0cmluZyh0aGlzLmNvb3JkaW5hdGVzLngpLFxuICAgICAgICAgICAgeTogU3RyaW5nKHRoaXMuY29vcmRpbmF0ZXMueSAtIDI1KSxcbiAgICAgICAgICAgIGNsYXNzOiBgY2lyY2xlLWljb24gZmEgJHtjdXN0b21Dc3NDbGFzc31gLFxuICAgICAgICB9KTtcblxuICAgICAgICB0ZXh0LmlubmVySFRNTCA9IGAmI3gke2ljb259O2A7XG5cbiAgICAgICAgdGhpcy50YWdzLnB1c2goe1xuICAgICAgICAgICAgZWxlbWVudDogdGV4dCxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEcmF3cyBwZXJjZW50YWdlXG4gICAgICovXG4gICAgcHVibGljIGRyYXdUZXh0KCkge1xuICAgICAgICBjb25zdCBjdXN0b21Dc3NDbGFzcyA9IE9iamVjdEhlbHBlci5leHRyYWN0UHJvcGVydHlGcm9tT2JqZWN0KFxuICAgICAgICAgICAgdGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcyxcbiAgICAgICAgICAgIFwidGV4dFwiLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCB0ZXh0ID0gU3ZnVGFncy5hZGRUZXh0KHtcbiAgICAgICAgICAgIGlkOiBgdGV4dC0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICAgICAgeDogU3RyaW5nKHRoaXMuY29vcmRpbmF0ZXMueCksXG4gICAgICAgICAgICB5OiBTdHJpbmcodGhpcy5jb29yZGluYXRlcy55KSxcbiAgICAgICAgICAgIGNsYXNzOiBgY2lyY2xlLXRleHQgJHtjdXN0b21Dc3NDbGFzc31gLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBwZXJjZW50YWdlU2lnbiA9IHRoaXMub3B0aW9ucy5ub1BlcmNlbnRhZ2VTaWduID8gXCJcIiA6IFwiJVwiO1xuICAgICAgICBsZXQgY29udGVudCA9IGAke3RoaXMub3B0aW9ucy5wZXJjZW50fSR7cGVyY2VudGFnZVNpZ259YDtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50ZXh0UmVwbGFjZXNQZXJjZW50YWdlICYmIHRoaXMub3B0aW9ucy50ZXh0KSB7XG4gICAgICAgICAgICBjb250ZW50ID0gdGhpcy5vcHRpb25zLnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgdGV4dC50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XG5cbiAgICAgICAgdGhpcy50YWdzLnB1c2goe1xuICAgICAgICAgICAgZWxlbWVudDogdGV4dCxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEcmF3cyBpbmZvIHRleHQgYmVsb3cgcGVyY2VudGFnZVxuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3SW5mb1RleHQoKSB7XG4gICAgICAgIGNvbnN0IGN1c3RvbUNzc0NsYXNzID0gT2JqZWN0SGVscGVyLmV4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QoXG4gICAgICAgICAgICB0aGlzLmFkZGl0aW9uYWxDc3NDbGFzc2VzLFxuICAgICAgICAgICAgXCJpbmZvVGV4dFwiLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCB0ZXh0ID0gU3ZnVGFncy5hZGRUZXh0KHtcbiAgICAgICAgICAgIGlkOiBgdGV4dC0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICAgICAgeDogU3RyaW5nKHRoaXMuY29vcmRpbmF0ZXMueCksXG4gICAgICAgICAgICB5OiBTdHJpbmcodGhpcy5jb29yZGluYXRlcy55ICsgMjApLFxuICAgICAgICAgICAgY2xhc3M6IGBjaXJjbGUtaW5mby10ZXh0ICR7Y3VzdG9tQ3NzQ2xhc3N9YCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGV4dC50ZXh0Q29udGVudCA9IHRoaXMub3B0aW9ucy50ZXh0O1xuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHRleHQsXG4gICAgICAgICAgICBwYXJlbnRJZDogYHN2Zy0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gRHJhd3MgYSBsaW5lYXIgZ3JhZGllbnQgaW50byB0aGUgZm9yZWdyb3VuZCBzdHJva2VcbiAgICAgKi9cbiAgICBwcml2YXRlIGRyYXdMaW5lYXJHcmFkaWVudCgpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlczogSUF0dHJpYnV0ZXMgPSB7fTtcblxuICAgICAgICBhdHRyaWJ1dGVzLmdyYWRpZW50U3RhcnQgPSB0aGlzLm9wdGlvbnMuc3Ryb2tlR3JhZGllbnRbMF07XG4gICAgICAgIGF0dHJpYnV0ZXMuZ3JhZGllbnRFbmQgPSB0aGlzLm9wdGlvbnMuc3Ryb2tlR3JhZGllbnRbMV07XG5cbiAgICAgICAgY29uc3QgZGVmcyA9IFN2Z1RhZ3MuYWRkRGVmcyhhdHRyaWJ1dGVzKTtcbiAgICAgICAgdGhpcy50YWdzLnB1c2goe1xuICAgICAgICAgICAgZWxlbWVudDogZGVmcyxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2ltcGxlQ2lyY2xlO1xuIiwiaW1wb3J0IHtJRGljdGlvbmFyeX0gZnJvbSBcIi4uL2ludGVyZmFjZS9pZGljdGlvbmFyeVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPYmplY3RIZWxwZXIge1xuICAgIHB1YmxpYyBzdGF0aWMgZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChvYmplY3Q6IElEaWN0aW9uYXJ5LCBwcm9wZXJ0eTogc3RyaW5nKSB7XG4gICAgICAgIGxldCB2YWx1ZTogc3RyaW5nIHwgb2JqZWN0IHwgbnVtYmVyIHwgYm9vbGVhbiB8IFtdO1xuICAgICAgICBpZiAob2JqZWN0Lmhhc093blByb3BlcnR5KHByb3BlcnR5KSAmJiBvYmplY3RbcHJvcGVydHldKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtwcm9wZXJ0eV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtJQ2FsY3VsYXRpb25QYXJhbXN9IGZyb20gXCIuLi9pbnRlcmZhY2UvaWNhbGN1bGF0aW9uLXBhcmFtc1wiO1xuaW1wb3J0IHtJUHJvZ3Jlc3NDb2xvcn0gZnJvbSBcIi4uL2ludGVyZmFjZS9pcHJvZ3Jlc3MtY29sb3JcIjtcbmltcG9ydCBTdmdUYWdzSGVscGVyIGZyb20gXCIuL3N2Zy10YWdzLWhlbHBlclwiO1xuXG5leHBvcnQgY2xhc3MgU3R5bGVIZWxwZXIge1xuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBSZWRyYXdzIHRoZSBhcmMgKGNpcmNsZSkgYm9yZGVyXG4gICAgICogQHBhcmFtIHBhcmFtc1xuICAgICAqIEBwYXJhbSBjYWxsYmFja1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgYW5pbWF0ZUFyYyhcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICBhcmM6IEVsZW1lbnQsXG4gICAgICAgICAgICBhcmNQYXJhbXM6IElDYWxjdWxhdGlvblBhcmFtcyxcbiAgICAgICAgICAgIGFuaW1hdGlvblN0ZXA6IG51bWJlcixcbiAgICAgICAgICAgIHByb2dyZXNzQ29sb3JzPzogSVByb2dyZXNzQ29sb3JbXSxcbiAgICAgICAgfSxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHt9LFxuICAgICk6IHZvaWQge1xuICAgICAgICBjb25zdCB7YXJjLCBhcmNQYXJhbXMsIGFuaW1hdGlvblN0ZXAsIHByb2dyZXNzQ29sb3JzfSA9IHBhcmFtcztcbiAgICAgICAgY29uc3Qgc3RhcnRBbmdsZSA9IGFyY1BhcmFtcy5zdGFydEFuZ2xlID8gYXJjUGFyYW1zLnN0YXJ0QW5nbGUgOiAwO1xuICAgICAgICBjb25zdCBlbmRBbmdsZUdyYWRlID0gYXJjUGFyYW1zLmVuZEFuZ2xlR3JhZGUgPyBhcmNQYXJhbXMuZW5kQW5nbGVHcmFkZSA6IDM2MDtcbiAgICAgICAgY29uc3QgbXMgPSB0aGlzLmdldE1pbGxpc2Vjb25kcyhhcmNQYXJhbXMubXMsIGFyY1BhcmFtcy5lbmRBbmdsZUdyYWRlKTtcbiAgICAgICAgY29uc3QgaGFzUHJvZ3Jlc3NDb2xvciA9IEFycmF5LmlzQXJyYXkocHJvZ3Jlc3NDb2xvcnMpICYmIHByb2dyZXNzQ29sb3JzLmxlbmd0aCA+IDA7XG5cbiAgICAgICAgbGV0IGNvdW50ID0gMTtcbiAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoYXJjLCBwZXJjZW50LCBwcm9ncmVzc0NvbG9ycykgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW5kQW5nbGUgPSBlbmRBbmdsZUdyYWRlIC8gMTAwICogY291bnQ7XG4gICAgICAgICAgICBTdmdUYWdzSGVscGVyLnNldEF0dHJpYnV0ZXMoYXJjLCB7XG4gICAgICAgICAgICAgICAgZDogU3ZnVGFnc0hlbHBlci5kZXNjcmliZUFyYyhhcmNQYXJhbXMueCwgYXJjUGFyYW1zLnksIGFyY1BhcmFtcy5yYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoaGFzUHJvZ3Jlc3NDb2xvcikge1xuICAgICAgICAgICAgICAgIFN0eWxlSGVscGVyLnVwZGF0ZUNpcmNsZUNvbG9yKGNvdW50LCBhcmMsIHByb2dyZXNzQ29sb3JzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY291bnQgKz0gYW5pbWF0aW9uU3RlcDtcblxuICAgICAgICAgICAgaWYgKGNvdW50ID4gcGVyY2VudCkge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBtcywgYXJjLCBhcmNQYXJhbXMucGVyY2VudCwgcHJvZ3Jlc3NDb2xvcnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBJZiBvcHRpb25zLnByb2dyZXNzQ29sb3JzIGlzIHNldCwgY29sb3JzIGFyZSBjaGFuZ2VkIG9uIGdpdmVuIHBlcmNlbnRhZ2VzXG4gICAgICogQHBhcmFtIGFjdHVhbENvdW50XG4gICAgICogQHBhcmFtIGFyY1xuICAgICAqIEBwYXJhbSBwcm9ncmVzc0NvbG9yc1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgdXBkYXRlQ2lyY2xlQ29sb3IoYWN0dWFsQ291bnQ6IG51bWJlciwgYXJjOiBFbGVtZW50LCBwcm9ncmVzc0NvbG9yczogSVByb2dyZXNzQ29sb3JbXSkge1xuICAgICAgICBjb25zdCBwcm9ncmVzc0NvbG9yID0gcHJvZ3Jlc3NDb2xvcnMuZmluZCgocHJvZ3Jlc3M6IElQcm9ncmVzc0NvbG9yKSA9PiBwcm9ncmVzcy5wZXJjZW50ID09PSBhY3R1YWxDb3VudCk7XG4gICAgICAgIGlmIChwcm9ncmVzc0NvbG9yKSB7XG4gICAgICAgICAgICBTdmdUYWdzSGVscGVyLnNldEF0dHJpYnV0ZXMoYXJjLCB7XG4gICAgICAgICAgICAgICAgc3R5bGU6IGBzdHJva2U6ICR7cHJvZ3Jlc3NDb2xvci5jb2xvcn1gLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gZGVmYXVsdE1zXG4gICAgICogQHBhcmFtIGVuZEFuZ2xlR3JhZGVcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBnZXRNaWxsaXNlY29uZHMoZGVmYXVsdE1zOiBudW1iZXIsIGVuZEFuZ2xlR3JhZGU6IG51bWJlcikge1xuICAgICAgICBsZXQgbXMgPSBkZWZhdWx0TXMgPyBkZWZhdWx0TXMgOiA1MDtcblxuICAgICAgICBpZiAoZW5kQW5nbGVHcmFkZSA8PSAxODApIHtcbiAgICAgICAgICAgIG1zID0gbXMgLyAzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1zO1xuICAgIH1cbn1cbiIsImltcG9ydCB7SUF0dHJpYnV0ZXN9IGZyb20gXCIuLi9pbnRlcmZhY2UvaWF0dHJpYnV0ZXNcIjtcbmltcG9ydCB7SUNhbGN1bGF0aW9uUGFyYW1zfSBmcm9tIFwiLi4vaW50ZXJmYWNlL2ljYWxjdWxhdGlvbi1wYXJhbXNcIjtcblxuY2xhc3MgU3ZnVGFnc0hlbHBlciB7XG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQHBhcmFtIGVsZW1lbnQgU1ZHRWxlbWVudFxuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVzIElBdmFpbGFibGVPcHRpb25zXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgc2V0QXR0cmlidXRlcyhlbGVtZW50OiBFbGVtZW50LCBhdHRyaWJ1dGVzOiBJQXR0cmlidXRlcyk6IHZvaWQge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhhdHRyaWJ1dGVzKSkge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBAcGFyYW0gZWxlbWVudFxuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVzXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgc2V0QXR0cmlidXRlTmFtZXNwYWNlKGVsZW1lbnQ6IEVsZW1lbnQsIGF0dHJpYnV0ZXM6IElBdHRyaWJ1dGVzKTogdm9pZCB7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGF0dHJpYnV0ZXMpKSB7XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZU5TKG51bGwsIGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEZvciBlYXNpZXIgaGFuZGxpbmcgcG9sYXIgY29vcmRpbmF0ZXMgYXJlIHVzZWQgYW5kIGNvbnZlcnRlZCB0byBjYXJ0ZXNpYW4gY29vcmRpbmF0ZXNcbiAgICAgKiBAcGFyYW0gY2VudGVyWFxuICAgICAqIEBwYXJhbSBjZW50ZXJZXG4gICAgICogQHBhcmFtIHJhZGl1c1xuICAgICAqIEBwYXJhbSBhbmdsZUluRGVncmVlc1xuICAgICAqIEByZXR1cm5zIG9iamVjdFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgcG9sYXJUb0NhcnRlc2lhbihcbiAgICAgICAgY2VudGVyWDogbnVtYmVyLFxuICAgICAgICBjZW50ZXJZOiBudW1iZXIsXG4gICAgICAgIHJhZGl1czogbnVtYmVyLFxuICAgICAgICBhbmdsZUluRGVncmVlczogbnVtYmVyLFxuICAgICk6IElDYWxjdWxhdGlvblBhcmFtcyB7XG4gICAgICAgIGNvbnN0IGFuZ2xlSW5SYWRpYW5zID0gKGFuZ2xlSW5EZWdyZWVzIC0gOTApICogTWF0aC5QSSAvIDE4MC4wO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBjZW50ZXJYICsgTWF0aC5yb3VuZChyYWRpdXMgKiBNYXRoLmNvcyhhbmdsZUluUmFkaWFucykgKyBOdW1iZXIuRVBTSUxPTiksXG4gICAgICAgICAgICB5OiBjZW50ZXJZICsgTWF0aC5yb3VuZChyYWRpdXMgKiBNYXRoLnNpbihhbmdsZUluUmFkaWFucykgKyBOdW1iZXIuRVBTSUxPTiksXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgdGhlIHN0cmluZyBmb3IgdGhlIGRhdGEgYXR0cmlidXRlIGluIHRoZSBwYXRoIHRhZ1xuICAgICAqIEBwYXJhbSB4XG4gICAgICogQHBhcmFtIHlcbiAgICAgKiBAcGFyYW0gcmFkaXVzXG4gICAgICogQHBhcmFtIHN0YXJ0QW5nbGVcbiAgICAgKiBAcGFyYW0gZW5kQW5nbGVcbiAgICAgKiBAcmV0dXJucyBzdHJpbmdcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGRlc2NyaWJlQXJjKHg6IG51bWJlciwgeTogbnVtYmVyLCByYWRpdXM6IG51bWJlciwgc3RhcnRBbmdsZTogbnVtYmVyLCBlbmRBbmdsZTogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBTdmdUYWdzSGVscGVyLnBvbGFyVG9DYXJ0ZXNpYW4oeCwgeSwgcmFkaXVzLCBlbmRBbmdsZSk7XG4gICAgICAgIGNvbnN0IGVuZCA9IFN2Z1RhZ3NIZWxwZXIucG9sYXJUb0NhcnRlc2lhbih4LCB5LCByYWRpdXMsIHN0YXJ0QW5nbGUpO1xuICAgICAgICBjb25zdCBsYXJnZUFyY0ZsYWcgPSBlbmRBbmdsZSAtIHN0YXJ0QW5nbGUgPD0gMTgwID8gXCIwXCIgOiBcIjFcIjtcblxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgXCJNXCIsIHN0YXJ0LngsIHN0YXJ0LnksXG4gICAgICAgICAgICBcIkFcIiwgcmFkaXVzLCByYWRpdXMsIDAsIGxhcmdlQXJjRmxhZywgMCwgZW5kLngsIGVuZC55LFxuICAgICAgICBdLmpvaW4oXCIgXCIpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3ZnVGFnc0hlbHBlcjtcbiIsImltcG9ydCBcIi4uL3N0eWxlL21haW4uc2Nzc1wiO1xuaW1wb3J0IENpcmNsZSBmcm9tIFwiLi9iYXNlLWNsYXNzL2NpcmNsZVwiO1xuaW1wb3J0IHtJQXZhaWxhYmxlT3B0aW9uc30gZnJvbSBcIi4vaW50ZXJmYWNlL2lhdmFpbGFibGUtb3B0aW9uc1wiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiBHZXRzIGNhbGxlZCBmcm9tIGh0bWwgc2NyaXB0IHRhZ1xuICogQHBhcmFtIG9wdGlvbnNcbiAqIEByZXR1cm5zIHZvaWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5ld0NpcmNsZShvcHRpb25zOiBJQXZhaWxhYmxlT3B0aW9ucykge1xuICAgIGNvbnN0IGNpcmNsZSA9IG5ldyBDaXJjbGUoKTtcbiAgICByZXR1cm4gY2lyY2xlLm5ld0NpcmNsZShvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gR2V0cyBjYWxsZWQgZnJvbSBodG1sIHNjcmlwdCB0YWdcbiAqIEBwYXJhbSBwYXJlbnRJZFxuICogQHBhcmFtIHR5cGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5ld0NpcmNsZVdpdGhEYXRhU2V0KHBhcmVudElkOiBzdHJpbmcsIHR5cGU6IHN0cmluZykge1xuICAgIGNvbnN0IGNpcmNsZSA9IG5ldyBDaXJjbGUoKTtcbiAgICByZXR1cm4gY2lyY2xlLm5ld0NpcmNsZVdpdGhEYXRhU2V0KHBhcmVudElkLCB0eXBlKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=