var circliful=function(t){var e={};function i(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(r,s,function(e){return t[e]}.bind(null,s));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s="./src/index.ts")}({"./src/api.ts":function(t,e,i){"use strict";i.r(e),i.d(e,"Api",(function(){return s}));var r=i("./src/base-classes/circle.ts"),s=function(){function t(t){this.options=t}return t.prototype.update=function(t){var e=this,i=document.getElementById("svg-"+this.options.id);Array.isArray(t)?t.forEach((function(t){return e.updateType(t.type,t.value)})):this.updateType(t.type,t.value),i.innerHTML="",r.default.initializeCircleType(this.options)},t.prototype.updateType=function(t,e){switch(t){case"percent":this.options.percent=Number(e);break;case"point":this.options.point=Boolean(e);break;case"animation":this.options.animation=Boolean(e);break;case"pointSize":this.options.pointSize=Number(e);break;case"animationStep":this.options.animationStep=Number(e);break;case"strokeGradient":this.options.strokeGradient=e;break;case"icon":this.options.icon=String(e);break;case"text":this.options.text=String(e);break;case"textReplacesPercentage":this.options.textReplacesPercentage=Boolean(e);break;case"foregroundCircleWidth":this.options.foregroundCircleWidth=Number(e);break;case"backgroundCircleWidth":this.options.backgroundCircleWidth=Number(e);break;case"additionalCssClasses":this.options.additionalCssClasses=e;break;case"progressColors":console.log("value",e),this.options.progressColors=e}},t.prototype.get=function(t){if(this.options.hasOwnProperty(t))return this.options[t]},t}()},"./src/base-classes/base-circle.ts":function(t,e,i){"use strict";i.r(e),i.d(e,"BaseCircle",(function(){return n}));var r=i("./src/base-classes/svg-tags.ts"),s=function(){return(s=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)},n=function(){function t(){this.tags=[]}return t.prototype.animateInView=function(){var t=this;this.options.animateInView&&window.addEventListener("scroll",(function(){t.checkAnimation(t.options.id)}))},t.prototype.checkAnimation=function(t){var e=this,i=document.getElementById(t),r=document.getElementById("arc-"+t),s=this.isElementInViewport(i);!i.classList.contains("reanimated")&&s&&(i.classList.add("reanimated"),setTimeout((function(){return e.animate(r)}),250))},t.prototype.isElementInViewport=function(t){var e=t.offsetTop,i=window.scrollY,r=window.innerHeight;return i<e&&i+r>e},t.prototype.drawContainer=function(t){var e=this.getViewBoxParams(),i=e.minX,n=e.minY,o=e.width,a=e.height,c=r.default.addSvg(s({width:"100%",height:"100%",viewBox:i+" "+n+" "+o+" "+a,id:"svg-"+this.options.id,preserveAspectRatio:"xMinYMin meet"},t));this.tags.push({element:c,parentId:this.options.id})},t.prototype.getViewBoxParams=function(){var t=this.options,e=t.foregroundCircleWidth,i=t.backgroundCircleWidth,r=i;e>i&&(r=e);var s=this.size.width,n=this.size.height;return(e>5||i>5)&&(s=this.size.width+1.5*r,n=this.size.height+1.5*r),{minX:0,minY:0,width:s,height:n}},t.prototype.append=function(){this.tags.forEach((function(t){document.getElementById(t.parentId).appendChild(t.element)}))},t.prototype.initialize=function(t,e){this.options=t,this.size=e},t}()},"./src/base-classes/circle-factory.ts":function(t,e,i){"use strict";i.r(e),i.d(e,"CircleFactory",(function(){return o}));var r=i("./src/circle-type/half-circle.ts"),s=i("./src/circle-type/plain-circle.ts"),n=i("./src/circle-type/simple-circle.ts"),o=function(){function t(){}return t.prototype.create=function(t){switch(t.toLowerCase()){case"half":this.circleClass=new r.default;break;case"plain":this.circleClass=new s.default;break;case"simple":this.circleClass=new n.default;break;default:this.circleClass=new n.default}return this.circleClass},t}()},"./src/base-classes/circle.ts":function(t,e,i){"use strict";i.r(e);var r=i("./src/api.ts"),s=i("./src/base-classes/circle-factory.ts"),n=i("./src/base-classes/options.ts"),o=function(){function t(){}return t.getParentSize=function(t){var e=document.getElementById(t),i=e.clientWidth>0?e.clientWidth:200,r=e.clientHeight>0?e.clientHeight:200;return{maxSize:i>r?r:i,height:r,width:i}},t.initializeCircleType=function(e){var i=t.getParentSize(e.id),r=(new s.CircleFactory).create(e.type),o=(new n.default).mergeOptions(e);return r.initialize(o,i),r.drawCircle(),r},t.prototype.newCircle=function(e){return t.initializeCircleType(e),new r.Api(e)},t.prototype.newCircleWithDataSet=function(e,i){var s={id:e,type:i,percent:1};return t.initializeCircleType(s),new r.Api(s)},t}();e.default=o},"./src/base-classes/options.ts":function(t,e,i){"use strict";i.r(e);var r=function(){return(r=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)},s=function(){function t(){this.defaultOptions={point:!1,pointSize:60,percent:75,foregroundCircleWidth:5,backgroundCircleWidth:15,animation:!0,animationStep:1,noPercentageSign:!1,animateInView:!1,strokeLinecap:"butt",type:"SimpleCircle",textReplacesPercentage:!1}}return t.getDataAttributes=function(t){var e=document.getElementById(t.id),i={percent:t.percent};for(var r in e.dataset)if(e.dataset.hasOwnProperty(r)){var s=e.dataset[r];"false"===s||"true"===s?i[r]=Boolean(s):Number(s)?i[r]=Number(s):i[r]=s}return i},t.dashToCamelCase=function(t){return t.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}))},t.prototype.mergeOptions=function(e){var i=t.getDataAttributes(e);return r(r(r({},this.defaultOptions),e),i)},t}();e.default=s},"./src/base-classes/svg-tags.ts":function(t,e,i){"use strict";i.r(e);var r=i("./src/helpers/object-helper.ts"),s=i("./src/helpers/svg-tags-helper.ts"),n=function(){function t(){}return t.addSvg=function(e){var i=document.createElementNS(t.namespaceURI,"svg");return e.class="circle-container "+r.default.extractPropertyFromObject(e,"class"),s.default.setAttributes(i,e),i},t.addCircle=function(e){var i=document.createElementNS(t.namespaceURI,"circle");return s.default.setAttributes(i,e),i},t.addArc=function(e){var i=document.createElementNS(t.namespaceURI,"path");return s.default.setAttributes(i,e),i},t.addText=function(e){var i=document.createElementNS(t.namespaceURI,"text");return i.setAttributeNS(null,"text-anchor","middle"),s.default.setAttributes(i,e),i},t.addDefs=function(e){var i=document.createElementNS(t.namespaceURI,"defs"),r=document.createElementNS(t.namespaceURI,"linearGradient");s.default.setAttributes(r,{id:"linearGradient"});var n=document.createElementNS(t.namespaceURI,"stop"),o={offset:"0","stop-color":e.gradientStart};s.default.setAttributes(n,o);var a=document.createElementNS(t.namespaceURI,"stop"),c={offset:"1","stop-color":e.gradientEnd};return s.default.setAttributes(a,c),r.appendChild(n),r.appendChild(a),i.appendChild(r),i},t.namespaceURI="http://www.w3.org/2000/svg",t}();e.default=n},"./src/circle-type/half-circle.ts":function(t,e,i){"use strict";i.r(e);var r,s=i("./src/base-classes/svg-tags.ts"),n=i("./src/helpers/object-helper.ts"),o=i("./src/helpers/style-helper.ts"),a=i("./src/helpers/svg-tags-helper.ts"),c=i("./src/circle-type/simple-circle.ts"),l=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.drawCircle=function(){var t={class:n.default.extractPropertyFromObject(this.additionalCssClasses,"svgContainer")};this.drawContainer(t),this.drawBackgroundCircle(),this.drawForegroundCircle(),this.drawText(),this.append()},e.prototype.drawBackgroundCircle=function(){var t=n.default.extractPropertyFromObject(this.additionalCssClasses,"backgroundCircle"),e=s.default.addArc({id:"bg-arc-"+this.options.id,d:a.default.describeArc(this.coordinates.x,this.coordinates.y,this.radius,270,90),class:"background-circle "+t,"stroke-width":this.options.backgroundCircleWidth});this.tags.push({element:e,parentId:"svg-"+this.options.id})},e.prototype.drawForegroundCircle=function(){var t=1.8*this.options.percent,e=n.default.extractPropertyFromObject(this.additionalCssClasses,"foregroundCircle"),i=s.default.addArc({id:"arc-"+this.options.id,class:"foreground-circle "+e,d:a.default.describeArc(this.coordinates.x,this.coordinates.y,this.radius,0,t),transform:"rotate(-90, "+this.coordinates.x+", "+this.coordinates.y+")","stroke-width":this.options.foregroundCircleWidth,"stroke-linecap":this.options.strokeLinecap});this.options.animation&&this.animate(i),this.tags.push({element:i,parentId:"svg-"+this.options.id})},e.prototype.animate=function(t){o.StyleHelper.animateArc({arc:t,arcParams:{percent:this.options.percent,x:this.coordinates.x,y:this.coordinates.y,radius:this.radius,endAngleGrade:180},animationStep:this.options.animationStep,progressColors:this.options.progressColors},this.options.onAnimationEnd)},e}(c.default);e.default=p},"./src/circle-type/plain-circle.ts":function(t,e,i){"use strict";i.r(e);var r,s=i("./src/base-classes/base-circle.ts"),n=i("./src/base-classes/svg-tags.ts"),o=i("./src/helpers/object-helper.ts"),a=i("./src/helpers/style-helper.ts"),c=i("./src/helpers/svg-tags-helper.ts"),l=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coordinates={x:0,y:0},e.additionalCssClasses={},e}return l(e,t),e.prototype.initialize=function(e,i){t.prototype.initialize.call(this,e,i);var r=this.size.maxSize;this.coordinates={x:r/2,y:r/2},this.radius=r/2.2,this.options.additionalCssClasses&&(this.additionalCssClasses=this.options.additionalCssClasses),this.animateInView()},e.prototype.drawCircle=function(){this.drawContainer(),this.drawPlainCircle(),this.append()},e.prototype.drawPlainCircle=function(){var t=3.6*this.options.percent,e=o.default.extractPropertyFromObject(this.additionalCssClasses,"foregroundCircle"),i=n.default.addArc({id:"arc-"+this.options.id,class:"foreground-circle "+e,d:c.default.describeArc(this.coordinates.x,this.coordinates.y,this.radius,0,t),"stroke-width":this.options.foregroundCircleWidth,"stroke-linecap":this.options.strokeLinecap});this.options.animation&&this.animate(i),this.tags.push({element:i,parentId:"svg-"+this.options.id})},e.prototype.animate=function(t){a.StyleHelper.animateArc({arc:t,arcParams:{percent:this.options.percent,x:this.coordinates.x,y:this.coordinates.y,radius:this.radius},animationStep:this.options.animationStep,progressColors:this.options.progressColors},this.options.onAnimationEnd)},e}(s.BaseCircle);e.default=p},"./src/circle-type/simple-circle.ts":function(t,e,i){"use strict";i.r(e);var r,s=i("./src/base-classes/base-circle.ts"),n=i("./src/base-classes/svg-tags.ts"),o=i("./src/helpers/object-helper.ts"),a=i("./src/helpers/style-helper.ts"),c=i("./src/helpers/svg-tags-helper.ts"),l=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coordinates={x:0,y:0},e.additionalCssClasses={},e}return l(e,t),e.prototype.initialize=function(e,i){t.prototype.initialize.call(this,e,i);var r=this.size.maxSize;this.coordinates={x:r/2,y:r/2},this.radius=r/2.2,this.options.additionalCssClasses&&(this.additionalCssClasses=this.options.additionalCssClasses),this.animateInView()},e.prototype.drawCircle=function(){var t={class:o.default.extractPropertyFromObject(this.additionalCssClasses,"svgContainer")};this.drawContainer(t),this.options.strokeGradient&&this.drawLinearGradient(),this.drawBackgroundCircle(),this.drawForegroundCircle(),this.options.point&&this.drawPoint(),this.options.icon&&this.drawIcon(),this.drawText(),!this.options.textReplacesPercentage&&this.options.text&&this.drawInfoText(),this.append()},e.prototype.drawBackgroundCircle=function(){var t=o.default.extractPropertyFromObject(this.additionalCssClasses,"backgroundCircle"),e=n.default.addCircle({id:"circle-"+this.options.id,class:"background-circle "+t,cx:String(this.coordinates.x),cy:String(this.coordinates.y),r:String(this.radius),"stroke-width":this.options.backgroundCircleWidth});this.tags.push({element:e,parentId:"svg-"+this.options.id})},e.prototype.drawPoint=function(){var t=this.radius/100*this.options.pointSize,e=o.default.extractPropertyFromObject(this.additionalCssClasses,"point"),i=n.default.addCircle({id:"point-"+this.options.id,class:"point-circle "+e,cx:String(this.coordinates.x),cy:String(this.coordinates.y),r:String(t)});this.tags.push({element:i,parentId:"svg-"+this.options.id})},e.prototype.drawForegroundCircle=function(){var t=3.6*this.options.percent,e=o.default.extractPropertyFromObject(this.additionalCssClasses,"foregroundCircle"),i={id:"arc-"+this.options.id,class:"foreground-circle "+e,d:c.default.describeArc(this.coordinates.x,this.coordinates.y,this.radius,0,t),"stroke-width":this.options.foregroundCircleWidth,"stroke-linecap":this.options.strokeLinecap};this.options.strokeGradient&&(i.stroke="url(#linearGradient)",i.class="foreground-circle-without-stroke-color "+e);var r=n.default.addArc(i);this.options.animation&&this.animate(r),this.tags.push({element:r,parentId:"svg-"+this.options.id})},e.prototype.animate=function(t,e){a.StyleHelper.animateArc({arc:t,arcParams:{percent:e||this.options.percent,x:this.coordinates.x,y:this.coordinates.y,radius:this.radius},animationStep:this.options.animationStep,progressColors:this.options.progressColors},this.options.onAnimationEnd)},e.prototype.drawIcon=function(){var t=this.options.icon,e=o.default.extractPropertyFromObject(this.additionalCssClasses,"icon"),i=n.default.addText({id:"text-"+this.options.id,x:String(this.coordinates.x),y:String(this.coordinates.y-25),class:"circle-icon fa "+e});i.innerHTML="&#x"+t+";",this.tags.push({element:i,parentId:"svg-"+this.options.id})},e.prototype.drawText=function(){var t=o.default.extractPropertyFromObject(this.additionalCssClasses,"text"),e=n.default.addText({id:"text-"+this.options.id,x:String(this.coordinates.x),y:String(this.coordinates.y),class:"circle-text "+t}),i=this.options.noPercentageSign?"":"%",r=""+this.options.percent+i;this.options.textReplacesPercentage&&this.options.text&&(r=this.options.text),e.textContent=r,this.tags.push({element:e,parentId:"svg-"+this.options.id})},e.prototype.drawInfoText=function(){var t=o.default.extractPropertyFromObject(this.additionalCssClasses,"infoText"),e=n.default.addText({id:"text-"+this.options.id,x:String(this.coordinates.x),y:String(this.coordinates.y+20),class:"circle-info-text "+t});e.textContent=this.options.text,this.tags.push({element:e,parentId:"svg-"+this.options.id})},e.prototype.drawLinearGradient=function(){var t={};t.gradientStart=this.options.strokeGradient[0],t.gradientEnd=this.options.strokeGradient[1];var e=n.default.addDefs(t);this.tags.push({element:e,parentId:"svg-"+this.options.id})},e}(s.BaseCircle);e.default=p},"./src/helpers/object-helper.ts":function(t,e,i){"use strict";i.r(e);var r=function(){function t(){}return t.extractPropertyFromObject=function(t,e){var i="";return t.hasOwnProperty(e)&&t[e]&&(i=t[e]),i},t}();e.default=r},"./src/helpers/style-helper.ts":function(t,e,i){"use strict";i.r(e),i.d(e,"StyleHelper",(function(){return s}));var r=i("./src/helpers/svg-tags-helper.ts"),s=function(){function t(){}return t.animateArc=function(e,i){var s=e.arc,n=e.arcParams,o=e.animationStep,a=e.progressColors,c=n.startAngle?n.startAngle:0,l=n.endAngleGrade?n.endAngleGrade:360,p=this.getMilliseconds(n.ms,n.endAngleGrade),d=Array.isArray(a)&&a.length>0,u=1,h=setInterval((function(e,s,a){var p=l/100*u;r.default.setAttributes(e,{d:r.default.describeArc(n.x,n.y,n.radius,c,p)}),d&&t.updateCircleColor(u,e,a),(u+=o)>s&&(clearInterval(h),"function"==typeof i&&i())}),p,s,n.percent,a)},t.updateCircleColor=function(t,e,i){var s=i.find((function(e){return e.percent===t}));s&&r.default.setAttributes(e,{style:"stroke: "+s.color})},t.getMilliseconds=function(t,e){var i=t||50;return e<=180&&(i/=3),i},t}()},"./src/helpers/svg-tags-helper.ts":function(t,e,i){"use strict";i.r(e);var r=function(){function t(){}return t.setAttributes=function(t,e){for(var i=0,r=Object.entries(e);i<r.length;i++){var s=r[i],n=s[0],o=s[1];t.setAttribute(n,o)}},t.setAttributeNamespace=function(t,e){for(var i=0,r=Object.entries(e);i<r.length;i++){var s=r[i],n=s[0],o=s[1];t.setAttributeNS(null,n,o)}},t.polarToCartesian=function(t,e,i,r){var s=(r-90)*Math.PI/180;return{x:t+i*Math.cos(s),y:e+i*Math.sin(s)}},t.describeArc=function(e,i,r,s,n){var o=t.polarToCartesian(e,i,r,n),a=t.polarToCartesian(e,i,r,s),c=n-s<=180?"0":"1";return["M",o.x,o.y,"A",r,r,0,c,0,a.x,a.y].join(" ")},t}();e.default=r},"./src/index.ts":function(t,e,i){"use strict";i.r(e),i.d(e,"newCircle",(function(){return s})),i.d(e,"newCircleWithDataSet",(function(){return n}));i("./styles/main.scss");var r=i("./src/base-classes/circle.ts");function s(t){return(new r.default).newCircle(t)}function n(t,e){return(new r.default).newCircleWithDataSet(t,e)}},"./styles/main.scss":function(t,e,i){}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaXJjbGlmdWwvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2FwaS50cyIsIndlYnBhY2s6Ly9jaXJjbGlmdWwvLi9zcmMvYmFzZS1jbGFzc2VzL2Jhc2UtY2lyY2xlLnRzIiwid2VicGFjazovL2NpcmNsaWZ1bC8uL3NyYy9iYXNlLWNsYXNzZXMvY2lyY2xlLWZhY3RvcnkudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2Jhc2UtY2xhc3Nlcy9jaXJjbGUudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2Jhc2UtY2xhc3Nlcy9vcHRpb25zLnRzIiwid2VicGFjazovL2NpcmNsaWZ1bC8uL3NyYy9iYXNlLWNsYXNzZXMvc3ZnLXRhZ3MudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2NpcmNsZS10eXBlL2hhbGYtY2lyY2xlLnRzIiwid2VicGFjazovL2NpcmNsaWZ1bC8uL3NyYy9jaXJjbGUtdHlwZS9wbGFpbi1jaXJjbGUudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2NpcmNsZS10eXBlL3NpbXBsZS1jaXJjbGUudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2hlbHBlcnMvb2JqZWN0LWhlbHBlci50cyIsIndlYnBhY2s6Ly9jaXJjbGlmdWwvLi9zcmMvaGVscGVycy9zdHlsZS1oZWxwZXIudHMiLCJ3ZWJwYWNrOi8vY2lyY2xpZnVsLy4vc3JjL2hlbHBlcnMvc3ZnLXRhZ3MtaGVscGVyLnRzIiwid2VicGFjazovL2NpcmNsaWZ1bC8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIm9wdGlvbnMiLCJ0aGlzIiwidXBkYXRlIiwicGFyYW1ldGVyIiwiZWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpZCIsIkFycmF5IiwiaXNBcnJheSIsImZvckVhY2giLCJ1cGRhdGVUeXBlIiwidHlwZSIsImlubmVySFRNTCIsImluaXRpYWxpemVDaXJjbGVUeXBlIiwicGVyY2VudCIsIk51bWJlciIsInBvaW50IiwiQm9vbGVhbiIsImFuaW1hdGlvbiIsInBvaW50U2l6ZSIsImFuaW1hdGlvblN0ZXAiLCJzdHJva2VHcmFkaWVudCIsImljb24iLCJTdHJpbmciLCJ0ZXh0IiwidGV4dFJlcGxhY2VzUGVyY2VudGFnZSIsImZvcmVncm91bmRDaXJjbGVXaWR0aCIsImJhY2tncm91bmRDaXJjbGVXaWR0aCIsImFkZGl0aW9uYWxDc3NDbGFzc2VzIiwiY29uc29sZSIsImxvZyIsInByb2dyZXNzQ29sb3JzIiwidGFncyIsImFuaW1hdGVJblZpZXciLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiY2hlY2tBbmltYXRpb24iLCJzdmdQYXJlbnRJZCIsImNpcmNsZUNvbnRhaW5lciIsImZvcmVncm91bmRDaXJjbGUiLCJpblZpZXciLCJpc0VsZW1lbnRJblZpZXdwb3J0IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJhZGQiLCJzZXRUaW1lb3V0IiwiYW5pbWF0ZSIsIm9mZnNldFRvcCIsInNjcm9sbFBvc2l0aW9uVG9wIiwic2Nyb2xsWSIsIndpbmRvd0hlaWdodCIsImlubmVySGVpZ2h0IiwiZHJhd0NvbnRhaW5lciIsImFkZGl0aW9uYWxBdHRyaWJ1dGVzIiwibWluWCIsIm1pblkiLCJ3aWR0aCIsImhlaWdodCIsImNvbnRhaW5lciIsImFkZFN2ZyIsInZpZXdCb3giLCJwcmVzZXJ2ZUFzcGVjdFJhdGlvIiwicHVzaCIsInBhcmVudElkIiwiZ2V0Vmlld0JveFBhcmFtcyIsImNpcmNsZVdpZHRoIiwic2l6ZSIsImFwcGVuZCIsInRhZyIsImFwcGVuZENoaWxkIiwiaW5pdGlhbGl6ZSIsInRvTG93ZXJDYXNlIiwiY2lyY2xlQ2xhc3MiLCJnZXRQYXJlbnRTaXplIiwiYm94IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJtYXhTaXplIiwiQ2lyY2xlIiwiY2lyY2xlIiwibWVyZ2VkT3B0aW9ucyIsIm1lcmdlT3B0aW9ucyIsImRyYXdDaXJjbGUiLCJuZXdDaXJjbGUiLCJuZXdDaXJjbGVXaXRoRGF0YVNldCIsImRlZmF1bHRPcHRpb25zIiwibm9QZXJjZW50YWdlU2lnbiIsInN0cm9rZUxpbmVjYXAiLCJnZXREYXRhQXR0cmlidXRlcyIsImRhdGFPcHRpb25zIiwiZGF0YXNldCIsImRhc2hUb0NhbWVsQ2FzZSIsIm9wdGlvbiIsInJlcGxhY2UiLCJ2YWwiLCJPcHRpb25zIiwiYXR0cmlidXRlcyIsInN2ZyIsImNyZWF0ZUVsZW1lbnROUyIsIlN2Z1RhZ3MiLCJuYW1lc3BhY2VVUkkiLCJjbGFzcyIsImV4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QiLCJzZXRBdHRyaWJ1dGVzIiwiYWRkQ2lyY2xlIiwiYWRkQXJjIiwiYXJjIiwiYWRkVGV4dCIsInNldEF0dHJpYnV0ZU5TIiwiYWRkRGVmcyIsImRlZnMiLCJsaW5lYXJHcmFkaWVudCIsImZpcnN0U3RvcCIsImZpcnN0U3RvcEF0dHJpYnV0ZXMiLCJncmFkaWVudFN0YXJ0Iiwic2Vjb25kU3RvcCIsInNlY29uZFN0b3BBdHRyaWJ1dGVzIiwiZ3JhZGllbnRFbmQiLCJhZGRpdGlvbmFsQ29udGFpbmVyQXR0cmlidXRlcyIsImRyYXdCYWNrZ3JvdW5kQ2lyY2xlIiwiZHJhd0ZvcmVncm91bmRDaXJjbGUiLCJkcmF3VGV4dCIsImN1c3RvbUNzc0NsYXNzIiwiZGVzY3JpYmVBcmMiLCJjb29yZGluYXRlcyIsIngiLCJ5IiwicmFkaXVzIiwiZW5kQW5nbGUiLCJhbmltYXRlQXJjIiwiYXJjUGFyYW1zIiwiZW5kQW5nbGVHcmFkZSIsIm9uQW5pbWF0aW9uRW5kIiwiZHJhd1BsYWluQ2lyY2xlIiwiZHJhd0xpbmVhckdyYWRpZW50IiwiZHJhd1BvaW50IiwiZHJhd0ljb24iLCJkcmF3SW5mb1RleHQiLCJjeCIsImN5Iiwic3Ryb2tlIiwidXBkYXRlZFBlcmNlbnQiLCJwZXJjZW50YWdlU2lnbiIsImNvbnRlbnQiLCJ0ZXh0Q29udGVudCIsInBhcmFtcyIsImNhbGxiYWNrIiwic3RhcnRBbmdsZSIsIm1zIiwiZ2V0TWlsbGlzZWNvbmRzIiwiaGFzUHJvZ3Jlc3NDb2xvciIsImxlbmd0aCIsImNvdW50IiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsIlN0eWxlSGVscGVyIiwidXBkYXRlQ2lyY2xlQ29sb3IiLCJjbGVhckludGVydmFsIiwiYWN0dWFsQ291bnQiLCJwcm9ncmVzc0NvbG9yIiwiZmluZCIsInByb2dyZXNzIiwic3R5bGUiLCJjb2xvciIsImRlZmF1bHRNcyIsImVudHJpZXMiLCJzZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGVOYW1lc3BhY2UiLCJwb2xhclRvQ2FydGVzaWFuIiwiY2VudGVyWCIsImNlbnRlclkiLCJhbmdsZUluRGVncmVlcyIsImFuZ2xlSW5SYWRpYW5zIiwiTWF0aCIsIlBJIiwiY29zIiwic2luIiwic3RhcnQiLCJTdmdUYWdzSGVscGVyIiwiZW5kIiwibGFyZ2VBcmNGbGFnIiwiam9pbiJdLCJtYXBwaW5ncyI6IjBCQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxH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QUFlcEQsRUFBV21CLEdBQWMsSUFBTSxJQUFNLElBRTFELE1BQU8sQ0FDSCxJQUFLOEIsRUFBTXBELEVBQUdvRCxFQUFNbkQsRUFDcEIsSUFBS0MsRUFBUUEsRUFBUSxFQUFHcUQsRUFBYyxFQUFHRCxFQUFJdEQsRUFBR3NELEVBQUlyRCxHQUN0RHVELEtBQUssTUFFZixFQWxFQSxHQW9FZSxhLDhDQ3ZFZixzS0FTTyxTQUFTbEcsRUFBVXBGLEdBRXRCLE9BRGUsSUFBSSxXQUNMb0YsVUFBVXBGLEdBUXJCLFNBQVNxRixFQUFxQnJCLEVBQWtCcEQsR0FFbkQsT0FEZSxJQUFJLFdBQ0x5RSxxQkFBcUJyQixFQUFVcEQsSyIsImZpbGUiOiJjaXJjbGlmdWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9kaXN0L1wiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NyYy9pbmRleC50c1wiKTtcbiIsImltcG9ydCBDaXJjbGUgZnJvbSBcIi4vYmFzZS1jbGFzc2VzL2NpcmNsZVwiO1xuaW1wb3J0IHtJQXZhaWxhYmxlT3B0aW9uc30gZnJvbSBcIi4vaW50ZXJmYWNlcy9pYXZhaWxhYmxlLW9wdGlvbnNcIjtcbmltcG9ydCB7SVR5cGV9IGZyb20gXCIuL2ludGVyZmFjZXMvaXR5cGVcIjtcblxuZXhwb3J0IGNsYXNzIEFwaSB7XG4gICAgcHVibGljIHJlYWRvbmx5IG9wdGlvbnM6IElBdmFpbGFibGVPcHRpb25zO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogSUF2YWlsYWJsZU9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlKHBhcmFtZXRlcjogSVR5cGUgfCBJVHlwZVtdKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWApO1xuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcmFtZXRlcikpIHtcbiAgICAgICAgICAgIHBhcmFtZXRlci5mb3JFYWNoKChwKSA9PiB0aGlzLnVwZGF0ZVR5cGUocC50eXBlLCBwLnZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVR5cGUocGFyYW1ldGVyLnR5cGUsIHBhcmFtZXRlci52YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIENpcmNsZS5pbml0aWFsaXplQ2lyY2xlVHlwZSh0aGlzLm9wdGlvbnMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlVHlwZSh0eXBlOiBzdHJpbmcsIHZhbHVlOiBJVHlwZVtcInZhbHVlXCJdKTogdm9pZCB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcInBlcmNlbnRcIjpcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMucGVyY2VudCA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicG9pbnRcIjpcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMucG9pbnQgPSBCb29sZWFuKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJhbmltYXRpb25cIjpcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uID0gQm9vbGVhbih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicG9pbnRTaXplXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnBvaW50U2l6ZSA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYW5pbWF0aW9uU3RlcFwiOlxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5hbmltYXRpb25TdGVwID0gTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzdHJva2VHcmFkaWVudFwiOlxuICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zdHJva2VHcmFkaWVudCA9IHZhbHVlIGFzIGFueTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJpY29uXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmljb24gPSBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMudGV4dCA9IFN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwidGV4dFJlcGxhY2VzUGVyY2VudGFnZVwiOlxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy50ZXh0UmVwbGFjZXNQZXJjZW50YWdlID0gQm9vbGVhbih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZm9yZWdyb3VuZENpcmNsZVdpZHRoXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmZvcmVncm91bmRDaXJjbGVXaWR0aCA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYmFja2dyb3VuZENpcmNsZVdpZHRoXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmJhY2tncm91bmRDaXJjbGVXaWR0aCA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYWRkaXRpb25hbENzc0NsYXNzZXNcIjpcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuYWRkaXRpb25hbENzc0NsYXNzZXMgPSB2YWx1ZSBhcyBhbnk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicHJvZ3Jlc3NDb2xvcnNcIjpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInZhbHVlXCIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMucHJvZ3Jlc3NDb2xvcnMgPSB2YWx1ZSBhcyBhbnk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0KHR5cGU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmhhc093blByb3BlcnR5KHR5cGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zW3R5cGVdO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtJQXZhaWxhYmxlT3B0aW9uc30gZnJvbSBcIi4uL2ludGVyZmFjZXMvaWF2YWlsYWJsZS1vcHRpb25zXCI7XG5pbXBvcnQge0lTaXplfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9pc2l6ZVwiO1xuaW1wb3J0IHtJVGFnfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9pdGFnXCI7XG5pbXBvcnQge0lWaWV3Qm94QXR0cmlidXRlc30gZnJvbSBcIi4uL2ludGVyZmFjZXMvaXZpZXctYm94LWF0dHJpYnV0ZXNcIjtcbmltcG9ydCBTdmdUYWdzIGZyb20gXCIuL3N2Zy10YWdzXCI7XG5cbi8qKlxuICogQmFzZSBmb3IgY2lyY2xlIHR5cGUgaW1wbGVtZW50YXRpb25zXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlQ2lyY2xlIHtcbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gT3B0aW9ucyBvYmplY3Qgc2Vjb25kIGFyZ3VtZW50IGZvciBpbml0Q2lyY2xlIG1ldGhvZFxuICAgICAqL1xuICAgIHB1YmxpYyBvcHRpb25zOiBJQXZhaWxhYmxlT3B0aW9ucztcbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gU2l6ZSBvZiBzdXJyb3VuZGluZyB0YWcgZm9yIHN2ZyB0YWdcbiAgICAgKi9cbiAgICBwdWJsaWMgc2l6ZTogSVNpemU7XG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEFycmF5IG9mIGFsbCB0YWdzIHRoYXQgbmVlZHMgdG8gYmUgYXBwZW5kZWQgdG8gdGhlIGRvbVxuICAgICAqL1xuICAgIHB1YmxpYyB0YWdzOiBJVGFnW10gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBGaXJlcyBzY3JvbGwgZXZlbnQgaWYgYW5pbWF0ZUluVmlldyBpcyBzZXQgdG8gdHJ1ZSBhbmQgcnVucyBjaGVja0FuaW1hdGlvblxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhbmltYXRlSW5WaWV3KCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFuaW1hdGVJblZpZXcpIHtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrQW5pbWF0aW9uKHRoaXMub3B0aW9ucy5pZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBXaGVuIGNpcmNsZSBpcyBpbiB2aWV3IHBvcnQgaXQgYW5pbWF0ZXMgdGhlIGZvcmVncm91bmQgY2lyY2xlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGNoZWNrQW5pbWF0aW9uKHN2Z1BhcmVudElkOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgY2lyY2xlQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3ZnUGFyZW50SWQpO1xuICAgICAgICBjb25zdCBmb3JlZ3JvdW5kQ2lyY2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGFyYy0ke3N2Z1BhcmVudElkfWApO1xuICAgICAgICBjb25zdCBpblZpZXcgPSB0aGlzLmlzRWxlbWVudEluVmlld3BvcnQoY2lyY2xlQ29udGFpbmVyKTtcblxuICAgICAgICBpZiAoIWNpcmNsZUNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoXCJyZWFuaW1hdGVkXCIpICYmIGluVmlldykge1xuICAgICAgICAgICAgY2lyY2xlQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJyZWFuaW1hdGVkXCIpO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmFuaW1hdGUoZm9yZWdyb3VuZENpcmNsZSBhcyBFbGVtZW50KSwgMjUwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBDYWxjdWxhdGVzIGlmIHRoZSBjaXJjbGUgaXMgaW4gdmlld3BvcnRcbiAgICAgKiBAcGFyYW0gY2lyY2xlQ29udGFpbmVyXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGlzRWxlbWVudEluVmlld3BvcnQoY2lyY2xlQ29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgICAgICBjb25zdCBvZmZzZXRUb3AgPSBjaXJjbGVDb250YWluZXIub2Zmc2V0VG9wO1xuICAgICAgICBjb25zdCBzY3JvbGxQb3NpdGlvblRvcCA9IHdpbmRvdy5zY3JvbGxZO1xuICAgICAgICBjb25zdCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICAgICAgcmV0dXJuIHNjcm9sbFBvc2l0aW9uVG9wIDwgb2Zmc2V0VG9wICYmICBzY3JvbGxQb3NpdGlvblRvcCArIHdpbmRvd0hlaWdodCA+IG9mZnNldFRvcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gR2V0cyBjYWxsZWQgaW4gdGhlIGNpcmNsZSBjbGFzcyB0byBkcmF3IHRoZSBjaXJjbGUgd2l0aCBhbGwgaXRzIGNoaWxkIGVsZW1lbnRzLCB0aGUgbWV0aG9kc1xuICAgICAqIGRyYXdDb250YWluZXIgYW5kIGFwcGVuZCBtdXN0IGJlIGFsd2F5cyBjYWxsZWQgaW4gb3duIGltcGxlbWVudGF0aW9ucyBpZiB5b3UgZG9udCBpbXBsZW1lbnQgb3duIGxvZ2ljIGZvciB0aGVtXG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IGRyYXdDaXJjbGUoKTogdm9pZDtcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSBlbGVtZW50XG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGFuaW1hdGUoZWxlbWVudDogRWxlbWVudCk6IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gRHJhd3MgdGhlIHN2ZyB0YWdcbiAgICAgKiBAcGFyYW0gYWRkaXRpb25hbEF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd0NvbnRhaW5lcihhZGRpdGlvbmFsQXR0cmlidXRlcz86IG9iamVjdCkge1xuICAgICAgICBjb25zdCB7bWluWCwgbWluWSwgd2lkdGgsIGhlaWdodH0gPSB0aGlzLmdldFZpZXdCb3hQYXJhbXMoKTtcblxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBTdmdUYWdzLmFkZFN2Zyh7XG4gICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICAgICAgdmlld0JveDogYCR7bWluWH0gJHttaW5ZfSAke3dpZHRofSAke2hlaWdodH1gLFxuICAgICAgICAgICAgaWQ6IGBzdmctJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IFwieE1pbllNaW4gbWVldFwiLFxuICAgICAgICAgICAgLi4uYWRkaXRpb25hbEF0dHJpYnV0ZXMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGNvbnRhaW5lcixcbiAgICAgICAgICAgIHBhcmVudElkOiB0aGlzLm9wdGlvbnMuaWQsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBHZXQgdmlld0JveCBwYXJhbWV0ZXJzLCByZXNpemUgdGhlIHZpZXcgaWYgdGhlIGJvcmRlciB3b3VsZCBvdmVyZmxvd1xuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0Vmlld0JveFBhcmFtcygpOiBJVmlld0JveEF0dHJpYnV0ZXMge1xuICAgICAgICBjb25zdCB7Zm9yZWdyb3VuZENpcmNsZVdpZHRoLCBiYWNrZ3JvdW5kQ2lyY2xlV2lkdGh9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBsZXQgY2lyY2xlV2lkdGggPSBiYWNrZ3JvdW5kQ2lyY2xlV2lkdGg7XG4gICAgICAgIC8vIEdldCB0aGlja2VyIGNpcmNsZSBzdHJva2Ugd2lkdGgsIGZvcmVncm91bmQgb3IgYmFja2dyb3VuZFxuICAgICAgICBpZiAoZm9yZWdyb3VuZENpcmNsZVdpZHRoID4gYmFja2dyb3VuZENpcmNsZVdpZHRoKSB7XG4gICAgICAgICAgICBjaXJjbGVXaWR0aCA9IGZvcmVncm91bmRDaXJjbGVXaWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1pblggPSAwO1xuICAgICAgICBjb25zdCBtaW5ZID0gMDtcbiAgICAgICAgbGV0IHdpZHRoID0gdGhpcy5zaXplLndpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gdGhpcy5zaXplLmhlaWdodDtcbiAgICAgICAgaWYgKGZvcmVncm91bmRDaXJjbGVXaWR0aCA+IDUgfHwgYmFja2dyb3VuZENpcmNsZVdpZHRoID4gNSkge1xuICAgICAgICAgICAgd2lkdGggPSB0aGlzLnNpemUud2lkdGggKyAoMS41ICogY2lyY2xlV2lkdGgpO1xuICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5zaXplLmhlaWdodCArICgxLjUgKiBjaXJjbGVXaWR0aCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge21pblgsIG1pblksIHdpZHRoLCBoZWlnaHR9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBBcHBlbmRzIHRoZSB0YWdzIHRvIHRoZSBkb21cbiAgICAgKi9cbiAgICBwdWJsaWMgYXBwZW5kKCkge1xuICAgICAgICB0aGlzLnRhZ3MuZm9yRWFjaCgodGFnKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YWcucGFyZW50SWQpO1xuICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHRhZy5lbGVtZW50IGFzIE5vZGUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gSW5pdGlhbGl6ZSBiYXNpYyB2YWx1ZXMgZm9yIGNpcmNsZVxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIHNpemVcbiAgICAgKi9cbiAgICBwdWJsaWMgaW5pdGlhbGl6ZShvcHRpb25zOiBJQXZhaWxhYmxlT3B0aW9ucywgc2l6ZTogSVNpemUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgSGFsZkNpcmNsZSBmcm9tIFwiLi4vY2lyY2xlLXR5cGUvaGFsZi1jaXJjbGVcIjtcbmltcG9ydCBQbGFpbkNpcmNsZSBmcm9tIFwiLi4vY2lyY2xlLXR5cGUvcGxhaW4tY2lyY2xlXCI7XG5pbXBvcnQgU2ltcGxlQ2lyY2xlIGZyb20gXCIuLi9jaXJjbGUtdHlwZS9zaW1wbGUtY2lyY2xlXCI7XG5pbXBvcnQge0Jhc2VDaXJjbGV9IGZyb20gXCIuL2Jhc2UtY2lyY2xlXCI7XG5cbmV4cG9ydCBjbGFzcyBDaXJjbGVGYWN0b3J5IHtcbiAgICBwcml2YXRlIGNpcmNsZUNsYXNzOiBCYXNlQ2lyY2xlO1xuXG4gICAgcHVibGljIGNyZWF0ZSh0eXBlOiBzdHJpbmcpOiBCYXNlQ2lyY2xlIHtcbiAgICAgICAgc3dpdGNoICh0eXBlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJoYWxmXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5jaXJjbGVDbGFzcyA9IG5ldyBIYWxmQ2lyY2xlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicGxhaW5cIjpcbiAgICAgICAgICAgICAgICB0aGlzLmNpcmNsZUNsYXNzID0gbmV3IFBsYWluQ2lyY2xlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic2ltcGxlXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5jaXJjbGVDbGFzcyA9IG5ldyBTaW1wbGVDaXJjbGUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5jaXJjbGVDbGFzcyA9IG5ldyBTaW1wbGVDaXJjbGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNpcmNsZUNsYXNzO1xuICAgIH1cbn1cbiIsImltcG9ydCB7QXBpfSBmcm9tIFwiLi4vYXBpXCI7XG5pbXBvcnQge0lBdmFpbGFibGVPcHRpb25zfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9pYXZhaWxhYmxlLW9wdGlvbnNcIjtcbmltcG9ydCB7Q2lyY2xlRmFjdG9yeX0gZnJvbSBcIi4vY2lyY2xlLWZhY3RvcnlcIjtcbmltcG9ydCBPcHRpb25zIGZyb20gXCIuL29wdGlvbnNcIjtcblxuY2xhc3MgQ2lyY2xlIHtcbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gR2V0cyB0aGUgc2l6ZSBvZiB0aGUgcGFyZW50IGVsZW1lbnQsIHdoZXJlIHRoZSBzdmcgZ2V0cyBwbGFjZWQgaW5cbiAgICAgKiBAcGFyYW0gaWRcbiAgICAgKiBAcmV0dXJucyB7e3dpZHRoOiBudW1iZXIsIG1heFNpemU6IG51bWJlciwgaGVpZ2h0OiBudW1iZXJ9fVxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGdldFBhcmVudFNpemUoaWQ6IHN0cmluZykge1xuICAgICAgICBjb25zdCBib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gYm94LmNsaWVudFdpZHRoID4gMCA/IGJveC5jbGllbnRXaWR0aCA6IDIwMDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gYm94LmNsaWVudEhlaWdodCA+IDAgPyBib3guY2xpZW50SGVpZ2h0IDogMjAwO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtYXhTaXplOiB3aWR0aCA+IGhlaWdodCA/IGhlaWdodCA6IHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEluaXRpYWxpemVzIHRoZSBjaXJjbGUgYnkgZ2l2ZW4gdHlwZVxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBpbml0aWFsaXplQ2lyY2xlVHlwZShvcHRpb25zOiBJQXZhaWxhYmxlT3B0aW9ucykge1xuICAgICAgICBjb25zdCBzaXplID0gQ2lyY2xlLmdldFBhcmVudFNpemUob3B0aW9ucy5pZCk7XG4gICAgICAgIGNvbnN0IGNpcmNsZUZhY3RvcnkgPSBuZXcgQ2lyY2xlRmFjdG9yeSgpO1xuICAgICAgICBjb25zdCBjaXJjbGUgPSBjaXJjbGVGYWN0b3J5LmNyZWF0ZShvcHRpb25zLnR5cGUpO1xuICAgICAgICBjb25zdCBvcHRpb25zTWFuYWdlciA9IG5ldyBPcHRpb25zKCk7XG4gICAgICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSBvcHRpb25zTWFuYWdlci5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG5cbiAgICAgICAgY2lyY2xlLmluaXRpYWxpemUobWVyZ2VkT3B0aW9ucywgc2l6ZSk7XG4gICAgICAgIGNpcmNsZS5kcmF3Q2lyY2xlKCk7XG5cbiAgICAgICAgcmV0dXJuIGNpcmNsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlcyBhIG5ldyBjaXJjbGVcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIHB1YmxpYyBuZXdDaXJjbGUob3B0aW9uczogSUF2YWlsYWJsZU9wdGlvbnMpOiBBcGkge1xuICAgICAgICBDaXJjbGUuaW5pdGlhbGl6ZUNpcmNsZVR5cGUob3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBcGkob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIENyZWF0ZXMgYSBuZXcgY2lyY2xlIHdpdGggYXR0cmlidXRlcyBzZXQgYXMgZGF0YSBhdHRyaWJ1dGVzIG9uIHRhZ1xuICAgICAqIEBwYXJhbSBwYXJlbnRJZFxuICAgICAqIEBwYXJhbSB0eXBlXG4gICAgICovXG4gICAgcHVibGljIG5ld0NpcmNsZVdpdGhEYXRhU2V0KHBhcmVudElkOiBzdHJpbmcsIHR5cGU6IHN0cmluZyk6IEFwaSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnM6IElBdmFpbGFibGVPcHRpb25zID0ge1xuICAgICAgICAgICAgaWQ6IHBhcmVudElkLFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIHBlcmNlbnQ6IDEsXG4gICAgICAgIH07XG5cbiAgICAgICAgQ2lyY2xlLmluaXRpYWxpemVDaXJjbGVUeXBlKG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiBuZXcgQXBpKG9wdGlvbnMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2lyY2xlO1xuIiwiaW1wb3J0IHtJQXZhaWxhYmxlT3B0aW9uc30gZnJvbSBcIi4uL2ludGVyZmFjZXMvaWF2YWlsYWJsZS1vcHRpb25zXCI7XG5cbmNsYXNzIE9wdGlvbnMge1xuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEZWZhdWx0IG9wdGlvbnMgaWYgb3B0aW9uIGlzIG5vdCBzZXQgb24gaW5pdGlhbGlzYXRpb25cbiAgICAgKi9cbiAgICBwdWJsaWMgZGVmYXVsdE9wdGlvbnM6IElBdmFpbGFibGVPcHRpb25zID0ge1xuICAgICAgICBwb2ludDogZmFsc2UsXG4gICAgICAgIHBvaW50U2l6ZTogNjAsXG4gICAgICAgIHBlcmNlbnQ6IDc1LFxuICAgICAgICBmb3JlZ3JvdW5kQ2lyY2xlV2lkdGg6IDUsXG4gICAgICAgIGJhY2tncm91bmRDaXJjbGVXaWR0aDogMTUsXG4gICAgICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICAgICAgYW5pbWF0aW9uU3RlcDogMSxcbiAgICAgICAgbm9QZXJjZW50YWdlU2lnbjogZmFsc2UsXG4gICAgICAgIGFuaW1hdGVJblZpZXc6IGZhbHNlLFxuICAgICAgICBzdHJva2VMaW5lY2FwOiBcImJ1dHRcIixcbiAgICAgICAgdHlwZTogXCJTaW1wbGVDaXJjbGVcIixcbiAgICAgICAgdGV4dFJlcGxhY2VzUGVyY2VudGFnZTogZmFsc2UsXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBHZXQgZGF0YSBhdHRyaWJ1dGVzIGZyb20gdGFnXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBnZXREYXRhQXR0cmlidXRlcyhvcHRpb25zOiBJQXZhaWxhYmxlT3B0aW9ucyk6IElBdmFpbGFibGVPcHRpb25zIHtcbiAgICAgICAgY29uc3QgY2lyY2xlQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob3B0aW9ucy5pZCk7XG4gICAgICAgIGNvbnN0IGRhdGFPcHRpb25zOiBJQXZhaWxhYmxlT3B0aW9ucyA9IHtwZXJjZW50OiBvcHRpb25zLnBlcmNlbnR9O1xuXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGNpcmNsZUNvbnRhaW5lci5kYXRhc2V0KSB7XG4gICAgICAgICAgICBpZiAoY2lyY2xlQ29udGFpbmVyLmRhdGFzZXQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY2lyY2xlQ29udGFpbmVyLmRhdGFzZXRba2V5XTtcblxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJmYWxzZVwiIHx8IHZhbHVlID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgICAgICAgICBkYXRhT3B0aW9uc1trZXldID0gQm9vbGVhbih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFPcHRpb25zW2tleV0gPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFPcHRpb25zW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGF0YU9wdGlvbnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIFRyYW5zZm9ybXMgb3B0aW9uIGV4IG5vLXBlcmNlbnRhZ2Utc2lnbiBpbnRvIG5vUGVyY2VudGFnZVNpZ25cbiAgICAgKiBAcGFyYW0gb3B0aW9uXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGRhc2hUb0NhbWVsQ2FzZShvcHRpb246IHN0cmluZykge1xuICAgICAgICByZXR1cm4gb3B0aW9uLnJlcGxhY2UoLyhbQS1aXSkvZywgKHZhbCkgPT4gYC0ke3ZhbC50b0xvd2VyQ2FzZSgpfWApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBNZXJnZSBkZWZhdWx0IG9wdGlvbnMgYW5kIGN1c3RvbSBvcHRpb24gb24gaW5pdGlhbGlzYXRpb25cbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIE9wdGlvbnNbJ2RlZmF1bHRPcHRpb25zJ11cbiAgICAgKi9cbiAgICBwdWJsaWMgbWVyZ2VPcHRpb25zKG9wdGlvbnM6IElBdmFpbGFibGVPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGRhdGFPcHRpb25zID0gT3B0aW9ucy5nZXREYXRhQXR0cmlidXRlcyhvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gey4uLnRoaXMuZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMsIC4uLmRhdGFPcHRpb25zfTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9wdGlvbnM7XG4iLCJpbXBvcnQgT2JqZWN0SGVscGVyIGZyb20gXCIuLi9oZWxwZXJzL29iamVjdC1oZWxwZXJcIjtcbmltcG9ydCBTdmdUYWdzSGVscGVyIGZyb20gXCIuLi9oZWxwZXJzL3N2Zy10YWdzLWhlbHBlclwiO1xuaW1wb3J0IHtJQXR0cmlidXRlc30gZnJvbSBcIi4uL2ludGVyZmFjZXMvaWF0dHJpYnV0ZXNcIjtcbmltcG9ydCB7SURpY3Rpb25hcnl9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2lkaWN0aW9uYXJ5XCI7XG5cbmNsYXNzIFN2Z1RhZ3Mge1xuICAgIHB1YmxpYyBzdGF0aWMgbmFtZXNwYWNlVVJJID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiO1xuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEFkZHMgYSBzdmcgdGFnIHdpdGggYXR0cmlidXRlc1xuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVzXG4gICAgICogQHJldHVybnMgU1ZHRWxlbWVudFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgYWRkU3ZnKGF0dHJpYnV0ZXM6IElBdHRyaWJ1dGVzKTogRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTdmdUYWdzLm5hbWVzcGFjZVVSSSwgXCJzdmdcIik7XG4gICAgICAgIGF0dHJpYnV0ZXMuY2xhc3MgPSBcImNpcmNsZS1jb250YWluZXIgXCIgKyBPYmplY3RIZWxwZXIuZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMgYXMgSURpY3Rpb25hcnksXG4gICAgICAgICAgICBcImNsYXNzXCIsXG4gICAgICAgICk7XG5cbiAgICAgICAgU3ZnVGFnc0hlbHBlci5zZXRBdHRyaWJ1dGVzKHN2ZyBhcyBTVkdFbGVtZW50LCBhdHRyaWJ1dGVzKTtcblxuICAgICAgICByZXR1cm4gc3ZnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBBZGRzIGEgY2lyY2xlIHRhZyB3aXRoIGF0dHJpYnV0ZXNcbiAgICAgKiBAcGFyYW0gYXR0cmlidXRlc1xuICAgICAqIEByZXR1cm5zIFNWR0NpcmNsZUVsZW1lbnRcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGFkZENpcmNsZShhdHRyaWJ1dGVzOiBJQXR0cmlidXRlcyk6IEVsZW1lbnQge1xuICAgICAgICBjb25zdCBjaXJjbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU3ZnVGFncy5uYW1lc3BhY2VVUkksIFwiY2lyY2xlXCIpO1xuICAgICAgICBTdmdUYWdzSGVscGVyLnNldEF0dHJpYnV0ZXMoY2lyY2xlIGFzIFNWR0VsZW1lbnQsIGF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIHJldHVybiBjaXJjbGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEFkZHMgYSBwYXRoIHRhZyB3aXRoIGF0dHJpYnV0ZXNcbiAgICAgKiBAcGFyYW0gYXR0cmlidXRlc1xuICAgICAqIEByZXR1cm5zIFNWR1BhdGhFbGVtZW50XG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBhZGRBcmMoYXR0cmlidXRlczogSUF0dHJpYnV0ZXMpOiBFbGVtZW50IHtcbiAgICAgICAgY29uc3QgYXJjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFN2Z1RhZ3MubmFtZXNwYWNlVVJJLCBcInBhdGhcIik7XG4gICAgICAgIFN2Z1RhZ3NIZWxwZXIuc2V0QXR0cmlidXRlcyhhcmMgYXMgU1ZHRWxlbWVudCwgYXR0cmlidXRlcyk7XG5cbiAgICAgICAgcmV0dXJuIGFyYztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gQWRkcyBhIHRleHQgdGFnIHdpdGggYXR0cmlidXRlc1xuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVzXG4gICAgICogQHJldHVybnMgU1ZHVGV4dEVsZW1lbnRcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGFkZFRleHQoYXR0cmlidXRlczogSUF0dHJpYnV0ZXMpOiBFbGVtZW50IHtcbiAgICAgICAgY29uc3QgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTdmdUYWdzLm5hbWVzcGFjZVVSSSwgXCJ0ZXh0XCIpO1xuICAgICAgICB0ZXh0LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIik7XG4gICAgICAgIFN2Z1RhZ3NIZWxwZXIuc2V0QXR0cmlidXRlcyh0ZXh0IGFzIFNWR0VsZW1lbnQsIGF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBBZGRzIGRlZnMgdGFnIHRvIHN2ZyB0byBkcmF3IGEgZ3JhZGllbnRcbiAgICAgKiBAcGFyYW0gYXR0cmlidXRlc1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgYWRkRGVmcyhhdHRyaWJ1dGVzOiBJQXR0cmlidXRlcyk6IEVsZW1lbnQge1xuICAgICAgICBjb25zdCBkZWZzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFN2Z1RhZ3MubmFtZXNwYWNlVVJJLCBcImRlZnNcIik7XG4gICAgICAgIGNvbnN0IGxpbmVhckdyYWRpZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFN2Z1RhZ3MubmFtZXNwYWNlVVJJLCBcImxpbmVhckdyYWRpZW50XCIpO1xuICAgICAgICBjb25zdCBsaW5lYXJHcmFkaWVudEF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgICBpZDogXCJsaW5lYXJHcmFkaWVudFwiLFxuICAgICAgICB9O1xuICAgICAgICBTdmdUYWdzSGVscGVyLnNldEF0dHJpYnV0ZXMobGluZWFyR3JhZGllbnQgYXMgU1ZHRWxlbWVudCwgbGluZWFyR3JhZGllbnRBdHRyaWJ1dGVzKTtcblxuICAgICAgICBjb25zdCBmaXJzdFN0b3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU3ZnVGFncy5uYW1lc3BhY2VVUkksIFwic3RvcFwiKTtcbiAgICAgICAgY29uc3QgZmlyc3RTdG9wQXR0cmlidXRlcyA9IHtcbiAgICAgICAgICAgIFwib2Zmc2V0XCI6IFwiMFwiLFxuICAgICAgICAgICAgXCJzdG9wLWNvbG9yXCI6IGF0dHJpYnV0ZXMuZ3JhZGllbnRTdGFydCxcbiAgICAgICAgfTtcbiAgICAgICAgU3ZnVGFnc0hlbHBlci5zZXRBdHRyaWJ1dGVzKGZpcnN0U3RvcCBhcyBTVkdFbGVtZW50LCBmaXJzdFN0b3BBdHRyaWJ1dGVzKTtcblxuICAgICAgICBjb25zdCBzZWNvbmRTdG9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFN2Z1RhZ3MubmFtZXNwYWNlVVJJLCBcInN0b3BcIik7XG4gICAgICAgIGNvbnN0IHNlY29uZFN0b3BBdHRyaWJ1dGVzID0ge1xuICAgICAgICAgICAgXCJvZmZzZXRcIjogXCIxXCIsXG4gICAgICAgICAgICBcInN0b3AtY29sb3JcIjogYXR0cmlidXRlcy5ncmFkaWVudEVuZCxcbiAgICAgICAgfTtcbiAgICAgICAgU3ZnVGFnc0hlbHBlci5zZXRBdHRyaWJ1dGVzKHNlY29uZFN0b3AgYXMgU1ZHRWxlbWVudCwgc2Vjb25kU3RvcEF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIGxpbmVhckdyYWRpZW50LmFwcGVuZENoaWxkKGZpcnN0U3RvcCk7XG4gICAgICAgIGxpbmVhckdyYWRpZW50LmFwcGVuZENoaWxkKHNlY29uZFN0b3ApO1xuICAgICAgICBkZWZzLmFwcGVuZENoaWxkKGxpbmVhckdyYWRpZW50KTtcblxuICAgICAgICByZXR1cm4gZGVmcztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN2Z1RhZ3M7XG4iLCJpbXBvcnQgU3ZnVGFncyBmcm9tIFwiLi4vYmFzZS1jbGFzc2VzL3N2Zy10YWdzXCI7XG5pbXBvcnQgT2JqZWN0SGVscGVyIGZyb20gXCIuLi9oZWxwZXJzL29iamVjdC1oZWxwZXJcIjtcbmltcG9ydCB7U3R5bGVIZWxwZXJ9IGZyb20gXCIuLi9oZWxwZXJzL3N0eWxlLWhlbHBlclwiO1xuaW1wb3J0IFN2Z1RhZ3NIZWxwZXIgZnJvbSBcIi4uL2hlbHBlcnMvc3ZnLXRhZ3MtaGVscGVyXCI7XG5pbXBvcnQgU2ltcGxlQ2lyY2xlIGZyb20gXCIuL3NpbXBsZS1jaXJjbGVcIjtcblxuLyoqXG4gKiBFdmVyeSBjaXJjbGUgZ2V0cyBkeW5hbWljYWxseSBjYWxsZWQgYnkgdGhlIGdpdmVuIHR5cGUgaW4gdGhlIG9wdGlvbnMgb2JqZWN0IGV4YW1wbGU6IHsgdHlwZTogJ0hhbGZDaXJjbGUnIH1cbiAqL1xuY2xhc3MgSGFsZkNpcmNsZSBleHRlbmRzIFNpbXBsZUNpcmNsZSB7XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd0NpcmNsZSgpIHtcbiAgICAgICAgY29uc3QgYWRkaXRpb25hbENvbnRhaW5lckF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgICBjbGFzczogT2JqZWN0SGVscGVyLmV4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QodGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcywgXCJzdmdDb250YWluZXJcIiksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZHJhd0NvbnRhaW5lcihhZGRpdGlvbmFsQ29udGFpbmVyQXR0cmlidXRlcyk7XG4gICAgICAgIHRoaXMuZHJhd0JhY2tncm91bmRDaXJjbGUoKTtcbiAgICAgICAgdGhpcy5kcmF3Rm9yZWdyb3VuZENpcmNsZSgpO1xuICAgICAgICB0aGlzLmRyYXdUZXh0KCk7XG4gICAgICAgIHRoaXMuYXBwZW5kKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIERyYXdzIHRoZSBiYWNrZ3JvdW5kIGNpcmNsZVxuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3QmFja2dyb3VuZENpcmNsZSgpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRBbmdsZSA9IDI3MDtcbiAgICAgICAgY29uc3QgZW5kQW5nbGUgPSA5MDtcbiAgICAgICAgY29uc3QgY3VzdG9tQ3NzQ2xhc3MgPSBPYmplY3RIZWxwZXIuZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChcbiAgICAgICAgICAgIHRoaXMuYWRkaXRpb25hbENzc0NsYXNzZXMsXG4gICAgICAgICAgICBcImJhY2tncm91bmRDaXJjbGVcIixcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgYXJjID0gU3ZnVGFncy5hZGRBcmMoe1xuICAgICAgICAgICAgXCJpZFwiOiBgYmctYXJjLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgICAgICBcImRcIjogU3ZnVGFnc0hlbHBlci5kZXNjcmliZUFyYyh0aGlzLmNvb3JkaW5hdGVzLngsIHRoaXMuY29vcmRpbmF0ZXMueSwgdGhpcy5yYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlKSxcbiAgICAgICAgICAgIFwiY2xhc3NcIjogYGJhY2tncm91bmQtY2lyY2xlICR7Y3VzdG9tQ3NzQ2xhc3N9YCxcbiAgICAgICAgICAgIFwic3Ryb2tlLXdpZHRoXCI6IHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kQ2lyY2xlV2lkdGgsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGFyYyxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEcmF3cyB0aGUgZm9yZWdyb3VuZCBjaXJjbGUgYnkgZ2l2ZW4gcGVyY2VudGFnZSB3aXRoIG9wdGlvbmFsIGFuaW1hdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3Rm9yZWdyb3VuZENpcmNsZSgpIHtcbiAgICAgICAgY29uc3QgZW5kQW5nbGUgPSAxODAgLyAxMDAgKiB0aGlzLm9wdGlvbnMucGVyY2VudDtcbiAgICAgICAgY29uc3QgY3VzdG9tQ3NzQ2xhc3MgPSBPYmplY3RIZWxwZXIuZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChcbiAgICAgICAgICAgIHRoaXMuYWRkaXRpb25hbENzc0NsYXNzZXMsXG4gICAgICAgICAgICBcImZvcmVncm91bmRDaXJjbGVcIixcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgYXJjID0gU3ZnVGFncy5hZGRBcmMoe1xuICAgICAgICAgICAgXCJpZFwiOiBgYXJjLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgICAgICBcImNsYXNzXCI6IGBmb3JlZ3JvdW5kLWNpcmNsZSAke2N1c3RvbUNzc0NsYXNzfWAsXG4gICAgICAgICAgICBcImRcIjogU3ZnVGFnc0hlbHBlci5kZXNjcmliZUFyYyh0aGlzLmNvb3JkaW5hdGVzLngsIHRoaXMuY29vcmRpbmF0ZXMueSwgdGhpcy5yYWRpdXMsIDAsIGVuZEFuZ2xlKSxcbiAgICAgICAgICAgIFwidHJhbnNmb3JtXCI6IGByb3RhdGUoLTkwLCAke3RoaXMuY29vcmRpbmF0ZXMueH0sICR7dGhpcy5jb29yZGluYXRlcy55fSlgLFxuICAgICAgICAgICAgXCJzdHJva2Utd2lkdGhcIjogdGhpcy5vcHRpb25zLmZvcmVncm91bmRDaXJjbGVXaWR0aCxcbiAgICAgICAgICAgIFwic3Ryb2tlLWxpbmVjYXBcIjogdGhpcy5vcHRpb25zLnN0cm9rZUxpbmVjYXAsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGUoYXJjKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGFyYyxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBBbmltYXRlcyBjaXJjbGUgY291bnRlciBjbG9jayB3aXNlXG4gICAgICogQHBhcmFtIGFyY1xuICAgICAqL1xuICAgIHB1YmxpYyBhbmltYXRlKGFyYzogRWxlbWVudCkge1xuICAgICAgICBTdHlsZUhlbHBlci5hbmltYXRlQXJjKHtcbiAgICAgICAgICAgIGFyYyxcbiAgICAgICAgICAgIGFyY1BhcmFtczoge1xuICAgICAgICAgICAgICAgIHBlcmNlbnQ6IHRoaXMub3B0aW9ucy5wZXJjZW50LFxuICAgICAgICAgICAgICAgIHg6IHRoaXMuY29vcmRpbmF0ZXMueCxcbiAgICAgICAgICAgICAgICB5OiB0aGlzLmNvb3JkaW5hdGVzLnksXG4gICAgICAgICAgICAgICAgcmFkaXVzOiB0aGlzLnJhZGl1cyxcbiAgICAgICAgICAgICAgICBlbmRBbmdsZUdyYWRlOiAxODAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYW5pbWF0aW9uU3RlcDogdGhpcy5vcHRpb25zLmFuaW1hdGlvblN0ZXAsXG4gICAgICAgICAgICBwcm9ncmVzc0NvbG9yczogdGhpcy5vcHRpb25zLnByb2dyZXNzQ29sb3JzLFxuICAgICAgICB9LCB0aGlzLm9wdGlvbnMub25BbmltYXRpb25FbmQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSGFsZkNpcmNsZTtcbiIsImltcG9ydCB7QmFzZUNpcmNsZX0gZnJvbSBcIi4uL2Jhc2UtY2xhc3Nlcy9iYXNlLWNpcmNsZVwiO1xuaW1wb3J0IFN2Z1RhZ3MgZnJvbSBcIi4uL2Jhc2UtY2xhc3Nlcy9zdmctdGFnc1wiO1xuaW1wb3J0IE9iamVjdEhlbHBlciBmcm9tIFwiLi4vaGVscGVycy9vYmplY3QtaGVscGVyXCI7XG5pbXBvcnQge1N0eWxlSGVscGVyfSBmcm9tIFwiLi4vaGVscGVycy9zdHlsZS1oZWxwZXJcIjtcbmltcG9ydCBTdmdUYWdzSGVscGVyIGZyb20gXCIuLi9oZWxwZXJzL3N2Zy10YWdzLWhlbHBlclwiO1xuaW1wb3J0IHtJQXZhaWxhYmxlT3B0aW9uc30gZnJvbSBcIi4uL2ludGVyZmFjZXMvaWF2YWlsYWJsZS1vcHRpb25zXCI7XG5pbXBvcnQge0lTaXplfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9pc2l6ZVwiO1xuXG4vKipcbiAqIEV2ZXJ5IGNpcmNsZSBnZXRzIGR5bmFtaWNhbGx5IGNhbGxlZCBieSB0aGUgZ2l2ZW4gdHlwZSBpbiB0aGUgb3B0aW9ucyBvYmplY3QgZXhhbXBsZTogeyB0eXBlOiAnUGxhaW5DaXJjbGUnIH1cbiAqL1xuY2xhc3MgUGxhaW5DaXJjbGUgZXh0ZW5kcyBCYXNlQ2lyY2xlIHtcbiAgICBwcml2YXRlIGNvb3JkaW5hdGVzID0ge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwLFxuICAgIH07XG4gICAgcHJvdGVjdGVkIHJhZGl1czogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBhZGRpdGlvbmFsQ3NzQ2xhc3NlczogSUF2YWlsYWJsZU9wdGlvbnNbXCJhZGRpdGlvbmFsQ3NzQ2xhc3Nlc1wiXSA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBwdWJsaWMgaW5pdGlhbGl6ZShvcHRpb25zOiBJQXZhaWxhYmxlT3B0aW9ucywgc2l6ZTogSVNpemUpIHtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZShvcHRpb25zLCBzaXplKTtcblxuICAgICAgICBjb25zdCBtYXhTaXplID0gdGhpcy5zaXplLm1heFNpemU7XG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMgPSB7XG4gICAgICAgICAgICB4OiBtYXhTaXplIC8gMixcbiAgICAgICAgICAgIHk6IG1heFNpemUgLyAyLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJhZGl1cyA9IG1heFNpemUgLyAyLjI7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hZGRpdGlvbmFsQ3NzQ2xhc3Nlcykge1xuICAgICAgICAgICAgdGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcyA9IHRoaXMub3B0aW9ucy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYW5pbWF0ZUluVmlldygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgcHVibGljIGRyYXdDaXJjbGUoKSB7XG4gICAgICAgIHRoaXMuZHJhd0NvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLmRyYXdQbGFpbkNpcmNsZSgpO1xuICAgICAgICB0aGlzLmFwcGVuZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEcmF3cyB0aGUgY2lyY2xlIGJ5IGdpdmVuIHBlcmNlbnRhZ2Ugd2l0aCBvcHRpb25hbCBhbmltYXRpb25cbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd1BsYWluQ2lyY2xlKCkge1xuICAgICAgICBjb25zdCBlbmRBbmdsZSA9IDM2MCAvIDEwMCAqIHRoaXMub3B0aW9ucy5wZXJjZW50O1xuICAgICAgICBjb25zdCBjdXN0b21Dc3NDbGFzcyA9IE9iamVjdEhlbHBlci5leHRyYWN0UHJvcGVydHlGcm9tT2JqZWN0KFxuICAgICAgICAgICAgdGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcyxcbiAgICAgICAgICAgIFwiZm9yZWdyb3VuZENpcmNsZVwiLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBhcmMgPSBTdmdUYWdzLmFkZEFyYyh7XG4gICAgICAgICAgICBcImlkXCI6IGBhcmMtJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgICAgIFwiY2xhc3NcIjogYGZvcmVncm91bmQtY2lyY2xlICR7Y3VzdG9tQ3NzQ2xhc3N9YCxcbiAgICAgICAgICAgIFwiZFwiOiBTdmdUYWdzSGVscGVyLmRlc2NyaWJlQXJjKHRoaXMuY29vcmRpbmF0ZXMueCwgdGhpcy5jb29yZGluYXRlcy55LCB0aGlzLnJhZGl1cywgMCwgZW5kQW5nbGUpLFxuICAgICAgICAgICAgXCJzdHJva2Utd2lkdGhcIjogdGhpcy5vcHRpb25zLmZvcmVncm91bmRDaXJjbGVXaWR0aCxcbiAgICAgICAgICAgIFwic3Ryb2tlLWxpbmVjYXBcIjogdGhpcy5vcHRpb25zLnN0cm9rZUxpbmVjYXAsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGUoYXJjKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGFyYyxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBBbmltYXRlcyBjaXJjbGUgY291bnRlciBjbG9jayB3aXNlXG4gICAgICogQHBhcmFtIGFyY1xuICAgICAqL1xuICAgIHB1YmxpYyBhbmltYXRlKGFyYzogRWxlbWVudCkge1xuICAgICAgICBTdHlsZUhlbHBlci5hbmltYXRlQXJjKHtcbiAgICAgICAgICAgIGFyYyxcbiAgICAgICAgICAgIGFyY1BhcmFtczoge1xuICAgICAgICAgICAgICAgIHBlcmNlbnQ6IHRoaXMub3B0aW9ucy5wZXJjZW50LFxuICAgICAgICAgICAgICAgIHg6IHRoaXMuY29vcmRpbmF0ZXMueCxcbiAgICAgICAgICAgICAgICB5OiB0aGlzLmNvb3JkaW5hdGVzLnksXG4gICAgICAgICAgICAgICAgcmFkaXVzOiB0aGlzLnJhZGl1cyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbmltYXRpb25TdGVwOiB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uU3RlcCxcbiAgICAgICAgICAgIHByb2dyZXNzQ29sb3JzOiB0aGlzLm9wdGlvbnMucHJvZ3Jlc3NDb2xvcnMsXG4gICAgICAgIH0sIHRoaXMub3B0aW9ucy5vbkFuaW1hdGlvbkVuZCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQbGFpbkNpcmNsZTtcbiIsImltcG9ydCB7QmFzZUNpcmNsZX0gZnJvbSBcIi4uL2Jhc2UtY2xhc3Nlcy9iYXNlLWNpcmNsZVwiO1xuaW1wb3J0IFN2Z1RhZ3MgZnJvbSBcIi4uL2Jhc2UtY2xhc3Nlcy9zdmctdGFnc1wiO1xuaW1wb3J0IE9iamVjdEhlbHBlciBmcm9tIFwiLi4vaGVscGVycy9vYmplY3QtaGVscGVyXCI7XG5pbXBvcnQge1N0eWxlSGVscGVyfSBmcm9tIFwiLi4vaGVscGVycy9zdHlsZS1oZWxwZXJcIjtcbmltcG9ydCBTdmdUYWdzSGVscGVyIGZyb20gXCIuLi9oZWxwZXJzL3N2Zy10YWdzLWhlbHBlclwiO1xuaW1wb3J0IHtJQXR0cmlidXRlc30gZnJvbSBcIi4uL2ludGVyZmFjZXMvaWF0dHJpYnV0ZXNcIjtcbmltcG9ydCB7SUF2YWlsYWJsZU9wdGlvbnN9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2lhdmFpbGFibGUtb3B0aW9uc1wiO1xuaW1wb3J0IHtJU2l6ZX0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaXNpemVcIjtcblxuLyoqXG4gKiBFdmVyeSBjaXJjbGUgZ2V0cyBkeW5hbWljYWxseSBjYWxsZWQgYnkgdGhlIGdpdmVuIHR5cGUgaW4gdGhlIG9wdGlvbnMgb2JqZWN0XG4gKiBleGFtcGxlOiB7IHR5cGU6ICdTaW1wbGVDaXJjbGUnIH1cbiAqL1xuY2xhc3MgU2ltcGxlQ2lyY2xlIGV4dGVuZHMgQmFzZUNpcmNsZSB7XG4gICAgcHJvdGVjdGVkIGNvb3JkaW5hdGVzID0ge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwLFxuICAgIH07XG4gICAgcHJvdGVjdGVkIHJhZGl1czogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBhZGRpdGlvbmFsQ3NzQ2xhc3NlczogSUF2YWlsYWJsZU9wdGlvbnNbXCJhZGRpdGlvbmFsQ3NzQ2xhc3Nlc1wiXSA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBwdWJsaWMgaW5pdGlhbGl6ZShvcHRpb25zOiBJQXZhaWxhYmxlT3B0aW9ucywgc2l6ZTogSVNpemUpIHtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZShvcHRpb25zLCBzaXplKTtcblxuICAgICAgICBjb25zdCBtYXhTaXplID0gdGhpcy5zaXplLm1heFNpemU7XG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMgPSB7XG4gICAgICAgICAgICB4OiBtYXhTaXplIC8gMixcbiAgICAgICAgICAgIHk6IG1heFNpemUgLyAyLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJhZGl1cyA9IG1heFNpemUgLyAyLjI7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hZGRpdGlvbmFsQ3NzQ2xhc3Nlcykge1xuICAgICAgICAgICAgdGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcyA9IHRoaXMub3B0aW9ucy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYW5pbWF0ZUluVmlldygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgcHVibGljIGRyYXdDaXJjbGUoKSB7XG4gICAgICAgIGNvbnN0IGFkZGl0aW9uYWxDb250YWluZXJBdHRyaWJ1dGVzID0ge1xuICAgICAgICAgICAgY2xhc3M6IE9iamVjdEhlbHBlci5leHRyYWN0UHJvcGVydHlGcm9tT2JqZWN0KHRoaXMuYWRkaXRpb25hbENzc0NsYXNzZXMsIFwic3ZnQ29udGFpbmVyXCIpLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRyYXdDb250YWluZXIoYWRkaXRpb25hbENvbnRhaW5lckF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc3Ryb2tlR3JhZGllbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0xpbmVhckdyYWRpZW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRyYXdCYWNrZ3JvdW5kQ2lyY2xlKCk7XG4gICAgICAgIHRoaXMuZHJhd0ZvcmVncm91bmRDaXJjbGUoKTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBvaW50KSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdQb2ludCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pY29uKSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdJY29uKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRyYXdUZXh0KCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMudGV4dFJlcGxhY2VzUGVyY2VudGFnZSAmJiB0aGlzLm9wdGlvbnMudGV4dCkge1xuICAgICAgICAgICAgdGhpcy5kcmF3SW5mb1RleHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXBwZW5kKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIERyYXdzIGJhY2tncm91bmQgY2lyY2xlXG4gICAgICovXG4gICAgcHVibGljIGRyYXdCYWNrZ3JvdW5kQ2lyY2xlKCkge1xuICAgICAgICBjb25zdCBjdXN0b21Dc3NDbGFzcyA9IE9iamVjdEhlbHBlci5leHRyYWN0UHJvcGVydHlGcm9tT2JqZWN0KFxuICAgICAgICAgICAgdGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcyxcbiAgICAgICAgICAgIFwiYmFja2dyb3VuZENpcmNsZVwiLFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGNpcmNsZSA9IFN2Z1RhZ3MuYWRkQ2lyY2xlKHtcbiAgICAgICAgICAgIFwiaWRcIjogYGNpcmNsZS0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICAgICAgXCJjbGFzc1wiOiBgYmFja2dyb3VuZC1jaXJjbGUgJHtjdXN0b21Dc3NDbGFzc31gLFxuICAgICAgICAgICAgXCJjeFwiOiBTdHJpbmcodGhpcy5jb29yZGluYXRlcy54KSxcbiAgICAgICAgICAgIFwiY3lcIjogU3RyaW5nKHRoaXMuY29vcmRpbmF0ZXMueSksXG4gICAgICAgICAgICBcInJcIjogU3RyaW5nKHRoaXMucmFkaXVzKSxcbiAgICAgICAgICAgIFwic3Ryb2tlLXdpZHRoXCI6IHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kQ2lyY2xlV2lkdGgsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGNpcmNsZSxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEcmF3cyBhIHBvaW50IGludG8gdGhlIGNpcmNsZSwgYmVoaW5kIHRoZSB0ZXh0XG4gICAgICovXG4gICAgcHVibGljIGRyYXdQb2ludCgpIHtcbiAgICAgICAgY29uc3QgcG9pbnRTaXplID0gdGhpcy5yYWRpdXMgLyAxMDAgKiB0aGlzLm9wdGlvbnMucG9pbnRTaXplO1xuICAgICAgICBjb25zdCBjdXN0b21Dc3NDbGFzcyA9IE9iamVjdEhlbHBlci5leHRyYWN0UHJvcGVydHlGcm9tT2JqZWN0KFxuICAgICAgICAgICAgdGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcyxcbiAgICAgICAgICAgIFwicG9pbnRcIixcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgY2lyY2xlID0gU3ZnVGFncy5hZGRDaXJjbGUoe1xuICAgICAgICAgICAgaWQ6IGBwb2ludC0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICAgICAgY2xhc3M6IGBwb2ludC1jaXJjbGUgJHtjdXN0b21Dc3NDbGFzc31gLFxuICAgICAgICAgICAgY3g6IFN0cmluZyh0aGlzLmNvb3JkaW5hdGVzLngpLFxuICAgICAgICAgICAgY3k6IFN0cmluZyh0aGlzLmNvb3JkaW5hdGVzLnkpLFxuICAgICAgICAgICAgcjogU3RyaW5nKHBvaW50U2l6ZSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGNpcmNsZSxcbiAgICAgICAgICAgIHBhcmVudElkOiBgc3ZnLSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEcmF3cyBmb3JlZ3JvdW5kIGNpcmNsZVxuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3Rm9yZWdyb3VuZENpcmNsZSgpIHtcbiAgICAgICAgY29uc3QgZW5kQW5nbGUgPSAzNjAgLyAxMDAgKiB0aGlzLm9wdGlvbnMucGVyY2VudDtcbiAgICAgICAgY29uc3QgY3VzdG9tQ3NzQ2xhc3MgPSBPYmplY3RIZWxwZXIuZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChcbiAgICAgICAgICAgIHRoaXMuYWRkaXRpb25hbENzc0NsYXNzZXMsXG4gICAgICAgICAgICBcImZvcmVncm91bmRDaXJjbGVcIixcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlczogSUF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgICBcImlkXCI6IGBhcmMtJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgICAgIFwiY2xhc3NcIjogYGZvcmVncm91bmQtY2lyY2xlICR7Y3VzdG9tQ3NzQ2xhc3N9YCxcbiAgICAgICAgICAgIFwiZFwiOiBTdmdUYWdzSGVscGVyLmRlc2NyaWJlQXJjKHRoaXMuY29vcmRpbmF0ZXMueCwgdGhpcy5jb29yZGluYXRlcy55LCB0aGlzLnJhZGl1cywgMCwgZW5kQW5nbGUpLFxuICAgICAgICAgICAgXCJzdHJva2Utd2lkdGhcIjogdGhpcy5vcHRpb25zLmZvcmVncm91bmRDaXJjbGVXaWR0aCxcbiAgICAgICAgICAgIFwic3Ryb2tlLWxpbmVjYXBcIjogdGhpcy5vcHRpb25zLnN0cm9rZUxpbmVjYXAsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zdHJva2VHcmFkaWVudCkge1xuICAgICAgICAgICAgYXR0cmlidXRlcy5zdHJva2UgPSBcInVybCgjbGluZWFyR3JhZGllbnQpXCI7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzLmNsYXNzID0gYGZvcmVncm91bmQtY2lyY2xlLXdpdGhvdXQtc3Ryb2tlLWNvbG9yICR7Y3VzdG9tQ3NzQ2xhc3N9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGFyYyA9IFN2Z1RhZ3MuYWRkQXJjKGF0dHJpYnV0ZXMpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRlKGFyYyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRhZ3MucHVzaCh7XG4gICAgICAgICAgICBlbGVtZW50OiBhcmMsXG4gICAgICAgICAgICBwYXJlbnRJZDogYHN2Zy0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gQW5pbWF0ZXMgY2lyY2xlIGNvdW50ZXIgY2xvY2sgd2lzZVxuICAgICAqIEBwYXJhbSBhcmNcbiAgICAgKiBAcGFyYW0gdXBkYXRlZFBlcmNlbnRcbiAgICAgKi9cbiAgICBwdWJsaWMgYW5pbWF0ZShhcmM6IEVsZW1lbnQsIHVwZGF0ZWRQZXJjZW50PzogbnVtYmVyKSB7XG4gICAgICAgIFN0eWxlSGVscGVyLmFuaW1hdGVBcmMoe1xuICAgICAgICAgICAgYXJjLFxuICAgICAgICAgICAgYXJjUGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgcGVyY2VudDogdXBkYXRlZFBlcmNlbnQgPyB1cGRhdGVkUGVyY2VudCA6IHRoaXMub3B0aW9ucy5wZXJjZW50LFxuICAgICAgICAgICAgICAgIHg6IHRoaXMuY29vcmRpbmF0ZXMueCxcbiAgICAgICAgICAgICAgICB5OiB0aGlzLmNvb3JkaW5hdGVzLnksXG4gICAgICAgICAgICAgICAgcmFkaXVzOiB0aGlzLnJhZGl1cyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbmltYXRpb25TdGVwOiB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uU3RlcCxcbiAgICAgICAgICAgIHByb2dyZXNzQ29sb3JzOiB0aGlzLm9wdGlvbnMucHJvZ3Jlc3NDb2xvcnMsXG4gICAgICAgIH0sIHRoaXMub3B0aW9ucy5vbkFuaW1hdGlvbkVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIERyYXdzIGZvbnQgYXdlc29tZSBpY29uXG4gICAgICovXG4gICAgcHVibGljIGRyYXdJY29uKCkge1xuICAgICAgICBjb25zdCBpY29uID0gdGhpcy5vcHRpb25zLmljb247XG4gICAgICAgIGNvbnN0IGN1c3RvbUNzc0NsYXNzID0gT2JqZWN0SGVscGVyLmV4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QoXG4gICAgICAgICAgICB0aGlzLmFkZGl0aW9uYWxDc3NDbGFzc2VzLFxuICAgICAgICAgICAgXCJpY29uXCIsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHRleHQgPSBTdmdUYWdzLmFkZFRleHQoe1xuICAgICAgICAgICAgaWQ6IGB0ZXh0LSR7dGhpcy5vcHRpb25zLmlkfWAsXG4gICAgICAgICAgICB4OiBTdHJpbmcodGhpcy5jb29yZGluYXRlcy54KSxcbiAgICAgICAgICAgIHk6IFN0cmluZyh0aGlzLmNvb3JkaW5hdGVzLnkgLSAyNSksXG4gICAgICAgICAgICBjbGFzczogYGNpcmNsZS1pY29uIGZhICR7Y3VzdG9tQ3NzQ2xhc3N9YCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGV4dC5pbm5lckhUTUwgPSBgJiN4JHtpY29ufTtgO1xuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHRleHQsXG4gICAgICAgICAgICBwYXJlbnRJZDogYHN2Zy0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gRHJhd3MgcGVyY2VudGFnZVxuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3VGV4dCgpIHtcbiAgICAgICAgY29uc3QgY3VzdG9tQ3NzQ2xhc3MgPSBPYmplY3RIZWxwZXIuZXh0cmFjdFByb3BlcnR5RnJvbU9iamVjdChcbiAgICAgICAgICAgIHRoaXMuYWRkaXRpb25hbENzc0NsYXNzZXMsXG4gICAgICAgICAgICBcInRleHRcIixcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdGV4dCA9IFN2Z1RhZ3MuYWRkVGV4dCh7XG4gICAgICAgICAgICBpZDogYHRleHQtJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgICAgIHg6IFN0cmluZyh0aGlzLmNvb3JkaW5hdGVzLngpLFxuICAgICAgICAgICAgeTogU3RyaW5nKHRoaXMuY29vcmRpbmF0ZXMueSksXG4gICAgICAgICAgICBjbGFzczogYGNpcmNsZS10ZXh0ICR7Y3VzdG9tQ3NzQ2xhc3N9YCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcGVyY2VudGFnZVNpZ24gPSB0aGlzLm9wdGlvbnMubm9QZXJjZW50YWdlU2lnbiA/IFwiXCIgOiBcIiVcIjtcbiAgICAgICAgbGV0IGNvbnRlbnQgPSBgJHt0aGlzLm9wdGlvbnMucGVyY2VudH0ke3BlcmNlbnRhZ2VTaWdufWA7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudGV4dFJlcGxhY2VzUGVyY2VudGFnZSAmJiB0aGlzLm9wdGlvbnMudGV4dCkge1xuICAgICAgICAgICAgY29udGVudCA9IHRoaXMub3B0aW9ucy50ZXh0O1xuICAgICAgICB9XG4gICAgICAgIHRleHQudGV4dENvbnRlbnQgPSBjb250ZW50O1xuXG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHRleHQsXG4gICAgICAgICAgICBwYXJlbnRJZDogYHN2Zy0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gRHJhd3MgaW5mbyB0ZXh0IGJlbG93IHBlcmNlbnRhZ2VcbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd0luZm9UZXh0KCkge1xuICAgICAgICBjb25zdCBjdXN0b21Dc3NDbGFzcyA9IE9iamVjdEhlbHBlci5leHRyYWN0UHJvcGVydHlGcm9tT2JqZWN0KFxuICAgICAgICAgICAgdGhpcy5hZGRpdGlvbmFsQ3NzQ2xhc3NlcyxcbiAgICAgICAgICAgIFwiaW5mb1RleHRcIixcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdGV4dCA9IFN2Z1RhZ3MuYWRkVGV4dCh7XG4gICAgICAgICAgICBpZDogYHRleHQtJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgICAgIHg6IFN0cmluZyh0aGlzLmNvb3JkaW5hdGVzLngpLFxuICAgICAgICAgICAgeTogU3RyaW5nKHRoaXMuY29vcmRpbmF0ZXMueSArIDIwKSxcbiAgICAgICAgICAgIGNsYXNzOiBgY2lyY2xlLWluZm8tdGV4dCAke2N1c3RvbUNzc0NsYXNzfWAsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRleHQudGV4dENvbnRlbnQgPSB0aGlzLm9wdGlvbnMudGV4dDtcblxuICAgICAgICB0aGlzLnRhZ3MucHVzaCh7XG4gICAgICAgICAgICBlbGVtZW50OiB0ZXh0LFxuICAgICAgICAgICAgcGFyZW50SWQ6IGBzdmctJHt0aGlzLm9wdGlvbnMuaWR9YCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIERyYXdzIGEgbGluZWFyIGdyYWRpZW50IGludG8gdGhlIGZvcmVncm91bmQgc3Ryb2tlXG4gICAgICovXG4gICAgcHJpdmF0ZSBkcmF3TGluZWFyR3JhZGllbnQoKSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXM6IElBdHRyaWJ1dGVzID0ge307XG5cbiAgICAgICAgYXR0cmlidXRlcy5ncmFkaWVudFN0YXJ0ID0gdGhpcy5vcHRpb25zLnN0cm9rZUdyYWRpZW50WzBdO1xuICAgICAgICBhdHRyaWJ1dGVzLmdyYWRpZW50RW5kID0gdGhpcy5vcHRpb25zLnN0cm9rZUdyYWRpZW50WzFdO1xuXG4gICAgICAgIGNvbnN0IGRlZnMgPSBTdmdUYWdzLmFkZERlZnMoYXR0cmlidXRlcyk7XG4gICAgICAgIHRoaXMudGFncy5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGRlZnMsXG4gICAgICAgICAgICBwYXJlbnRJZDogYHN2Zy0ke3RoaXMub3B0aW9ucy5pZH1gLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNpbXBsZUNpcmNsZTtcbiIsImltcG9ydCB7SURpY3Rpb25hcnl9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2lkaWN0aW9uYXJ5XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9iamVjdEhlbHBlciB7XG4gICAgcHVibGljIHN0YXRpYyBleHRyYWN0UHJvcGVydHlGcm9tT2JqZWN0KG9iamVjdDogSURpY3Rpb25hcnksIHByb3BlcnR5OiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IHZhbHVlOiBzdHJpbmcgfCBudW1iZXIgfCBvYmplY3QgPSBcIlwiO1xuICAgICAgICBpZiAob2JqZWN0Lmhhc093blByb3BlcnR5KHByb3BlcnR5KSAmJiBvYmplY3RbcHJvcGVydHldKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtwcm9wZXJ0eV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtJQ2FsY3VsYXRpb25QYXJhbXN9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2ljYWxjdWxhdGlvbi1wYXJhbXNcIjtcbmltcG9ydCB7SVByb2dyZXNzQ29sb3J9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2lwcm9ncmVzcy1jb2xvclwiO1xuaW1wb3J0IFN2Z1RhZ3NIZWxwZXIgZnJvbSBcIi4vc3ZnLXRhZ3MtaGVscGVyXCI7XG5cbmV4cG9ydCBjbGFzcyBTdHlsZUhlbHBlciB7XG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIFJlZHJhd3MgdGhlIGFyYyAoY2lyY2xlKSBib3JkZXJcbiAgICAgKiBAcGFyYW0gcGFyYW1zXG4gICAgICogQHBhcmFtIGNhbGxiYWNrXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBhbmltYXRlQXJjKFxuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIGFyYzogRWxlbWVudCxcbiAgICAgICAgICAgIGFyY1BhcmFtczogSUNhbGN1bGF0aW9uUGFyYW1zLFxuICAgICAgICAgICAgYW5pbWF0aW9uU3RlcDogbnVtYmVyLFxuICAgICAgICAgICAgcHJvZ3Jlc3NDb2xvcnM/OiBJUHJvZ3Jlc3NDb2xvcltdLFxuICAgICAgICB9LFxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge30sXG4gICAgKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHthcmMsIGFyY1BhcmFtcywgYW5pbWF0aW9uU3RlcCwgcHJvZ3Jlc3NDb2xvcnN9ID0gcGFyYW1zO1xuICAgICAgICBjb25zdCBzdGFydEFuZ2xlID0gYXJjUGFyYW1zLnN0YXJ0QW5nbGUgPyBhcmNQYXJhbXMuc3RhcnRBbmdsZSA6IDA7XG4gICAgICAgIGNvbnN0IGVuZEFuZ2xlR3JhZGUgPSBhcmNQYXJhbXMuZW5kQW5nbGVHcmFkZSA/IGFyY1BhcmFtcy5lbmRBbmdsZUdyYWRlIDogMzYwO1xuICAgICAgICBjb25zdCBtcyA9IHRoaXMuZ2V0TWlsbGlzZWNvbmRzKGFyY1BhcmFtcy5tcywgYXJjUGFyYW1zLmVuZEFuZ2xlR3JhZGUpO1xuICAgICAgICBjb25zdCBoYXNQcm9ncmVzc0NvbG9yID0gQXJyYXkuaXNBcnJheShwcm9ncmVzc0NvbG9ycykgJiYgcHJvZ3Jlc3NDb2xvcnMubGVuZ3RoID4gMDtcblxuICAgICAgICBsZXQgY291bnQgPSAxO1xuICAgICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKChhcmMsIHBlcmNlbnQsIHByb2dyZXNzQ29sb3JzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbmRBbmdsZSA9IGVuZEFuZ2xlR3JhZGUgLyAxMDAgKiBjb3VudDtcbiAgICAgICAgICAgIFN2Z1RhZ3NIZWxwZXIuc2V0QXR0cmlidXRlcyhhcmMsIHtcbiAgICAgICAgICAgICAgICBkOiBTdmdUYWdzSGVscGVyLmRlc2NyaWJlQXJjKGFyY1BhcmFtcy54LCBhcmNQYXJhbXMueSwgYXJjUGFyYW1zLnJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChoYXNQcm9ncmVzc0NvbG9yKSB7XG4gICAgICAgICAgICAgICAgU3R5bGVIZWxwZXIudXBkYXRlQ2lyY2xlQ29sb3IoY291bnQsIGFyYywgcHJvZ3Jlc3NDb2xvcnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb3VudCArPSBhbmltYXRpb25TdGVwO1xuXG4gICAgICAgICAgICBpZiAoY291bnQgPiBwZXJjZW50KSB7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIG1zLCBhcmMsIGFyY1BhcmFtcy5wZXJjZW50LCBwcm9ncmVzc0NvbG9ycyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIElmIG9wdGlvbnMucHJvZ3Jlc3NDb2xvcnMgaXMgc2V0LCBjb2xvcnMgYXJlIGNoYW5nZWQgb24gZ2l2ZW4gcGVyY2VudGFnZXNcbiAgICAgKiBAcGFyYW0gYWN0dWFsQ291bnRcbiAgICAgKiBAcGFyYW0gYXJjXG4gICAgICogQHBhcmFtIHByb2dyZXNzQ29sb3JzXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyB1cGRhdGVDaXJjbGVDb2xvcihhY3R1YWxDb3VudDogbnVtYmVyLCBhcmM6IEVsZW1lbnQsIHByb2dyZXNzQ29sb3JzOiBJUHJvZ3Jlc3NDb2xvcltdKSB7XG4gICAgICAgIGNvbnN0IHByb2dyZXNzQ29sb3IgPSBwcm9ncmVzc0NvbG9ycy5maW5kKChwcm9ncmVzczogSVByb2dyZXNzQ29sb3IpID0+IHByb2dyZXNzLnBlcmNlbnQgPT09IGFjdHVhbENvdW50KTtcbiAgICAgICAgaWYgKHByb2dyZXNzQ29sb3IpIHtcbiAgICAgICAgICAgIFN2Z1RhZ3NIZWxwZXIuc2V0QXR0cmlidXRlcyhhcmMsIHtcbiAgICAgICAgICAgICAgICBzdHlsZTogYHN0cm9rZTogJHtwcm9ncmVzc0NvbG9yLmNvbG9yfWAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBkZWZhdWx0TXNcbiAgICAgKiBAcGFyYW0gZW5kQW5nbGVHcmFkZVxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGdldE1pbGxpc2Vjb25kcyhkZWZhdWx0TXM6IG51bWJlciwgZW5kQW5nbGVHcmFkZTogbnVtYmVyKSB7XG4gICAgICAgIGxldCBtcyA9IGRlZmF1bHRNcyA/IGRlZmF1bHRNcyA6IDUwO1xuXG4gICAgICAgIGlmIChlbmRBbmdsZUdyYWRlIDw9IDE4MCkge1xuICAgICAgICAgICAgbXMgPSBtcyAvIDM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbXM7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtJQXR0cmlidXRlc30gZnJvbSBcIi4uL2ludGVyZmFjZXMvaWF0dHJpYnV0ZXNcIjtcbmltcG9ydCB7SUNhbGN1bGF0aW9uUGFyYW1zfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9pY2FsY3VsYXRpb24tcGFyYW1zXCI7XG5cbmNsYXNzIFN2Z1RhZ3NIZWxwZXIge1xuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSBlbGVtZW50IFNWR0VsZW1lbnRcbiAgICAgKiBAcGFyYW0gYXR0cmlidXRlcyBJQXZhaWxhYmxlT3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIHNldEF0dHJpYnV0ZXMoZWxlbWVudDogRWxlbWVudCwgYXR0cmlidXRlczogSUF0dHJpYnV0ZXMpOiB2b2lkIHtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoYXR0cmlidXRlcykpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQHBhcmFtIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gYXR0cmlidXRlc1xuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIHNldEF0dHJpYnV0ZU5hbWVzcGFjZShlbGVtZW50OiBFbGVtZW50LCBhdHRyaWJ1dGVzOiBJQXR0cmlidXRlcyk6IHZvaWQge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhhdHRyaWJ1dGVzKSkge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBGb3IgZWFzaWVyIGhhbmRsaW5nIHBvbGFyIGNvb3JkaW5hdGVzIGFyZSB1c2VkIGFuZCBjb252ZXJ0ZWQgdG8gY2FydGVzaWFuIGNvb3JkaW5hdGVzXG4gICAgICogQHBhcmFtIGNlbnRlclhcbiAgICAgKiBAcGFyYW0gY2VudGVyWVxuICAgICAqIEBwYXJhbSByYWRpdXNcbiAgICAgKiBAcGFyYW0gYW5nbGVJbkRlZ3JlZXNcbiAgICAgKiBAcmV0dXJucyBvYmplY3RcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIHBvbGFyVG9DYXJ0ZXNpYW4oXG4gICAgICAgIGNlbnRlclg6IG51bWJlcixcbiAgICAgICAgY2VudGVyWTogbnVtYmVyLFxuICAgICAgICByYWRpdXM6IG51bWJlcixcbiAgICAgICAgYW5nbGVJbkRlZ3JlZXM6IG51bWJlcixcbiAgICApOiBJQ2FsY3VsYXRpb25QYXJhbXMge1xuICAgICAgICBjb25zdCBhbmdsZUluUmFkaWFucyA9IChhbmdsZUluRGVncmVlcyAtIDkwKSAqIE1hdGguUEkgLyAxODAuMDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogY2VudGVyWCArIChyYWRpdXMgKiBNYXRoLmNvcyhhbmdsZUluUmFkaWFucykpLFxuICAgICAgICAgICAgeTogY2VudGVyWSArIChyYWRpdXMgKiBNYXRoLnNpbihhbmdsZUluUmFkaWFucykpLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIHRoZSBzdHJpbmcgZm9yIHRoZSBkYXRhIGF0dHJpYnV0ZSBpbiB0aGUgcGF0aCB0YWdcbiAgICAgKiBAcGFyYW0geFxuICAgICAqIEBwYXJhbSB5XG4gICAgICogQHBhcmFtIHJhZGl1c1xuICAgICAqIEBwYXJhbSBzdGFydEFuZ2xlXG4gICAgICogQHBhcmFtIGVuZEFuZ2xlXG4gICAgICogQHJldHVybnMgc3RyaW5nXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBkZXNjcmliZUFyYyh4OiBudW1iZXIsIHk6IG51bWJlciwgcmFkaXVzOiBudW1iZXIsIHN0YXJ0QW5nbGU6IG51bWJlciwgZW5kQW5nbGU6IG51bWJlcik6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gU3ZnVGFnc0hlbHBlci5wb2xhclRvQ2FydGVzaWFuKHgsIHksIHJhZGl1cywgZW5kQW5nbGUpO1xuICAgICAgICBjb25zdCBlbmQgPSBTdmdUYWdzSGVscGVyLnBvbGFyVG9DYXJ0ZXNpYW4oeCwgeSwgcmFkaXVzLCBzdGFydEFuZ2xlKTtcbiAgICAgICAgY29uc3QgbGFyZ2VBcmNGbGFnID0gZW5kQW5nbGUgLSBzdGFydEFuZ2xlIDw9IDE4MCA/IFwiMFwiIDogXCIxXCI7XG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFwiTVwiLCBzdGFydC54LCBzdGFydC55LFxuICAgICAgICAgICAgXCJBXCIsIHJhZGl1cywgcmFkaXVzLCAwLCBsYXJnZUFyY0ZsYWcsIDAsIGVuZC54LCBlbmQueSxcbiAgICAgICAgXS5qb2luKFwiIFwiKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN2Z1RhZ3NIZWxwZXI7XG4iLCJpbXBvcnQgXCIuLi9zdHlsZXMvbWFpbi5zY3NzXCI7XG5pbXBvcnQgQ2lyY2xlIGZyb20gXCIuL2Jhc2UtY2xhc3Nlcy9jaXJjbGVcIjtcbmltcG9ydCB7SUF2YWlsYWJsZU9wdGlvbnN9IGZyb20gXCIuL2ludGVyZmFjZXMvaWF2YWlsYWJsZS1vcHRpb25zXCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIEdldHMgY2FsbGVkIGZyb20gaHRtbCBzY3JpcHQgdGFnXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHJldHVybnMgdm9pZFxuICovXG5leHBvcnQgZnVuY3Rpb24gbmV3Q2lyY2xlKG9wdGlvbnM6IElBdmFpbGFibGVPcHRpb25zKSB7XG4gICAgY29uc3QgY2lyY2xlID0gbmV3IENpcmNsZSgpO1xuICAgIHJldHVybiBjaXJjbGUubmV3Q2lyY2xlKG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiBHZXRzIGNhbGxlZCBmcm9tIGh0bWwgc2NyaXB0IHRhZ1xuICogQHBhcmFtIHBhcmVudElkXG4gKiBAcGFyYW0gdHlwZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbmV3Q2lyY2xlV2l0aERhdGFTZXQocGFyZW50SWQ6IHN0cmluZywgdHlwZTogc3RyaW5nKSB7XG4gICAgY29uc3QgY2lyY2xlID0gbmV3IENpcmNsZSgpO1xuICAgIHJldHVybiBjaXJjbGUubmV3Q2lyY2xlV2l0aERhdGFTZXQocGFyZW50SWQsIHR5cGUpO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==